<!doctype html><html lang=zh-CN data-theme=dark><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#222" media="(prefers-color-scheme: dark)"><meta name=generator content="Hugo 0.145.0"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_16x16_next.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_32_32_next.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="禹神：Typescript速通教程"><meta itemprop=description content="禹神：Typescript速通教程"><meta name=description content="禹神：Typescript速通教程"><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="https://blog.000k.de/imgs/hugo_next_logo.png"><meta itemprop=keywords content="js,ts"><meta property="og:type" content="article"><meta property="og:title" content="禹神：Typescript速通教程"><meta property="og:description" content="禹神：Typescript速通教程"><meta property="og:image" content="/imgs/hugo_next_logo.png"><meta property="og:image:width" content="312"><meta property="og:image:height" content="312"><meta property="og:image:type" content="image/jpeg/png/svg/jpg"><meta property="og:url" content="https://blog.000k.de/post/%E7%A6%B9%E7%A5%9Etypescript%E9%80%9F%E9%80%9A%E6%95%99%E7%A8%8B/"><meta property="og:site_name" content="LinKer's Blog"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="LinKer"><meta property="article:published_time" content="2025-05-14 09:59:54 +0800 +0800"><meta property="article:modified_time" content="2025-05-14 09:59:54 +0800 +0800"><link type=text/css rel=stylesheet href=https://blog.000k.de/js/3rd/font-awesome/6.7.2/css/all.min.css><link type=text/css rel=stylesheet href=https://blog.000k.de/js/3rd/animate.css/3.1.1/animate.min.css><link type=text/css rel=stylesheet href=https://blog.000k.de/js/3rd/viewerjs/1.11.6/viewer.min.css><link rel=stylesheet href="/css/main.min.css?=1747367485"><style type=text/css>.post-footer hr:after{content:"~ 我可是有底线的哟 ~"}.flinks-list-footer hr:after{content:"~ 我可是有底线的哟 ~"}</style><link rel=stylesheet type=text/css href="/css/custom_style.css?=1747367485"><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return void 0;const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),void 0):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><title>禹神：Typescript速通教程 - LinKer's Blog</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>LinKer's Blog</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>I'm LinKer, Nice To Meet You(ˊ˘ˋ*)♡</p><img class=custom-logo-image src=/imgs/hugo_next_logo.png alt="LinKer's Blog"></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-about"><a href=/about.html class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>关于</a></li><li class="menu-item menu-item-flinks"><a href=/flinks.html class=hvr-icon-pulse rel=section><i class="fa fa-thumbs-up hvr-icon"></i>友情链接</a></li><li class="menu-item menu-item-myday"><a href=/ class="menus-parent hvr-icon-pulse" rel=section><i class="fa fa-angles-down hvr-icon"></i>日常杂谈
<span class=menu-item-shrink-icon><i class="fa fa-angle-right"></i></span></a><ul class=menu-children><li class=menu-child-item><a href=/myday/ class=hvr-icon-pulse rel=section><i class="fa hvr-icon"></i>日常</a></li><li class=menu-child-item><a href=/talk/ class=hvr-icon-pulse rel=section><i class="fa hvr-icon"></i>杂谈</a></li></ul></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>43</span></a></li><li class="menu-item menu-item-travellings"><a href=https://www.travellings.cn/go.html class=hvr-icon-pulse rel=section><i class="fa fa-heartbeat hvr-icon"></i>开往</a></li><li class="menu-item menu-item-other space"><a href=https://linker.zz.ac/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>乐乎</a></li><li class="menu-item menu-item-search"><a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents><ul><li><a href=#typescript-简介>⼀、TypeScript 简介</a></li><li><a href=#为何需要-typescript>⼆、为何需要 TypeScript</a><ul><li><a href=#1今昔的-javascript了解>1.今⾮昔⽐的 JavaScript(了解)</a></li><li><a href=#2javascript-中的困扰>2.JavaScript 中的困扰</a><ul><li><a href=#1-不清楚的数据类型>1. 不清楚的数据类型</a></li><li><a href=#2有漏洞的逻辑>2.有漏洞的逻辑</a></li><li><a href=#3-访问不存在的属性>3. 访问不存在的属性</a></li><li><a href=#4-低级的拼写错误>4. 低级的拼写错误</a></li></ul></li><li><a href=#3静态类型检查>3.静态类型检查</a></li></ul></li><li><a href=#三编译-typescript>三、编译 TypeScript</a><ul><li><a href=#1-命令编译>1. 命令⾏编译</a></li><li><a href=#2-动化编译>2. ⾃动化编译</a></li></ul></li><li><a href=#四类型声明>四、类型声明</a></li><li><a href=#五类型推断>五、类型推断</a></li><li><a href=#六类型总览>六、类型总览</a><ul><li><a href=#javascript-中的数据类型>JavaScript 中的数据类型</a></li><li><a href=#typescript-中的数据类型>TypeScript 中的数据类型</a></li></ul></li><li><a href=#七常类型与语法>七、常⽤类型与语法</a><ul><li><a href=#1-any>1. any</a></li><li><a href=#2-unknown>2. unknown</a></li><li><a href=#3-never>3. never</a></li><li><a href=#4void>4.void</a></li><li><a href=#5object>5.object</a><ul><li><a href=#object写>object(⼩写)</a></li><li><a href=#object写-1>Object(⼤写)</a></li><li><a href=#声明对象类型>声明对象类型</a></li><li><a href=#声明函数类型>声明函数类型</a></li><li><a href=#声明数组类型>声明数组类型</a></li></ul></li><li><a href=#6-tuple>6. tuple</a></li><li><a href=#7-enum>7. enum</a><ul><li><a href=#1数字枚举>1.数字枚举</a></li><li><a href=#2-字符串枚举>2. 字符串枚举</a></li><li><a href=#3-常量枚举>3. 常量枚举</a></li></ul></li><li><a href=#8type>8.type</a><ul><li><a href=#1基本法>1.基本⽤法</a></li><li><a href=#2-联合类型>2. 联合类型</a></li><li><a href=#3交叉类型>3.交叉类型</a></li></ul></li><li><a href=#9-个特殊情况>9. ⼀个特殊情况</a></li><li><a href=#10-复习类相关知识>10. 复习类相关知识</a></li><li><a href=#11-属性修饰符>11. 属性修饰符</a><ul><li><a href=#public-修饰符>public 修饰符</a></li><li><a href=#protected-修饰符>protected 修饰符</a></li><li><a href=#private-修饰符>private 修饰符</a></li><li><a href=#readonly-修饰符>readonly 修饰符</a></li></ul></li><li><a href=#12-抽象类>12. 抽象类</a><ul><li></li></ul></li><li><a href=#13-interface接>13. interface(接⼝)</a></li><li><a href=#14-些相似概念的区别>14. ⼀些相似概念的区别</a><ul><li><a href=#141-interface-与-type-的区别>14.1. interface 与 type 的区别</a></li><li><a href=#142-interface-与-抽象类的区别>14.2 interface 与 抽象类的区别</a></li></ul></li></ul></li><li><a href=#泛型>⼋、泛型</a></li><li><a href=#九类型声明文件>九、类型声明文件</a></li></ul><ul><li><a href=#一简介>一、简介</a></li><li><a href=#二类装饰器>二、类装饰器</a><ul><li><a href=#基本语法>基本语法</a></li><li><a href=#应用举例>应用举例</a></li><li><a href=#关于返回值>关于返回值</a></li><li><a href=#关于构造类型>关于构造类型</a></li><li><a href=#替换被装饰的类>替换被装饰的类</a></li></ul></li><li><a href=#三装饰器工厂>三、装饰器工厂</a></li><li><a href=#四装饰器组合>四、装饰器组合</a></li><li><a href=#五属性装饰器>五、属性装饰器</a><ul><li><a href=#基本语法-1>基本语法</a></li><li><a href=#关于属性遮蔽>关于属性遮蔽</a></li><li><a href=#应用举例-1>应用举例</a></li></ul></li><li><a href=#六方法装饰器>六、方法装饰器</a><ul><li><a href=#基本语法-2>基本语法</a></li><li><a href=#应用举例-2>应用举例</a></li></ul></li><li><a href=#七访问器装饰器>七、访问器装饰器</a><ul><li><a href=#基本语法-3>基本语法</a></li><li><a href=#应用举例-3>应用举例</a></li></ul></li><li><a href=#八参数装饰器>八、参数装饰器</a><ul><li><a href=#基本语法-4>基本语法</a></li><li><a href=#应用举例-4>应用举例</a></li></ul></li></ul></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=LinKer src=/imgs/img-lazy-loading.gif data-src=/imgs/hugo_next_avatar.png><p class=site-author-name itemprop=name>LinKer</p><div class=site-description itemprop=description>深呼吸的时候，就能保持沉稳</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>43</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>41</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>47</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/0linkun title="Github → https://github.com/0linkun" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-github fa-fw hvr-icon"></i>
Github</a></span></div><div class="cc-license animated" itemprop=license><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans class=cc-opacity rel=noopener target=_blank title=共享知识><img src=/imgs/img-lazy-loading.gif data-src=/imgs/cc/big/by_nc_sa.svg alt=共享知识></a></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i>
友情链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=https://hihopkc.github.io/ title=https://hihopkc.github.io/ target=_blank>嘻哈磕碜</a></li><li class=links-of-blogroll-item><a href=https://endermanneer.github.io/ title=https://endermanneer.github.io/ target=_blank>Enderman_1's blog</a></li><li class=links-of-blogroll-item><a href=http://www.icewindy.cn/ title=http://www.icewindy.cn/ target=_blank>IceWindy's Blog</a></li></ul></div><div class=beian></div></div></div></div><div id=siteinfo-card-widget class=sidebar-card-widget><div class=item-headline><i class="fas fa-chart-line"></i>
<span>网站资讯</span></div><div class=siteinfo><div class=siteinfo-item><div class=item-name><i class="fa-solid fa-calendar-check"></i>已运行：</div><div class=item-count id=runTimes data-publishdate="2023-05-01 22:19:13 +0800 +0800"></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-user"></i>总访客数：</div><div class=item-count id=busuanzi_value_site_uv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-eye"></i>页面浏览：</div><div class=item-count id=busuanzi_value_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-font"></i>总字数：</div><div class=item-count id=wordsCount data-count=114427></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-mug-hot"></i>阅读约：</div><div class=item-count id=readTimes data-times=250></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-clock-rotate-left"></i>最后更新于：</div><div class=item-count id=last-push-date data-lastpushdate="2025-05-15 19:52:25 +0800 +0800"></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=goto-comments class="button goto-comments" title=直达评论><i class="fas fa-comments"></i></div><div id=goto-i18n-translate class=button title=多语言翻译><i class="fas fa-globe"></i></div><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><a role=button class="book-mark-link book-mark-link-fixed"></a><a href=https://github.com/0linkun rel="noopener external nofollow noreferrer" target=_blank title="Follow me on GitHub" class="exturl github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blog.000k.de/post/%E7%A6%B9%E7%A5%9Etypescript%E9%80%9F%E9%80%9A%E6%95%99%E7%A8%8B/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/hugo_next_avatar.png"><meta itemprop=name content="LinKer"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="LinKer"><meta itemprop=description content="深呼吸的时候，就能保持沉稳"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="禹神：Typescript速通教程"><meta itemprop=description content="禹神：Typescript速通教程"></span><header class=post-header><h1 class=post-title itemprop="name headline">禹神：Typescript速通教程</h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2025-05-14 09:59:54 +08:00" itemprop="dateCreated datePublished" datetime="2025-05-14 09:59:54 +0800 +0800">2025-05-14
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/categoriesjs/ itemprop=url rel=index><span itemprop=name>categories:js</span></a></span></span></div><div class=post-meta-items><span class=post-meta-item title=字数><span class=post-meta-item-icon><i class="fas fa-solid fa-file-word"></i>
</span><span class=post-meta-item-text>字数：</span>
<span>18631</span>
</span><span class=post-meta-item title=阅读><span class=post-meta-item-icon><i class="fas fa-solid fa-clock"></i>
</span><span class=post-meta-item-text>阅读：&ap;</span>
<span>38分钟</span>
</span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=busuanzi_value_page_pv data-path=/post/%E7%A6%B9%E7%A5%9Etypescript%E9%80%9F%E9%80%9A%E6%95%99%E7%A8%8B/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><div class=post-summary-wrapper><div class=summary-title><span><i class="fa-solid fa-list"></i></span>
<span>总结摘要</span></div><div class=summary-content>禹神：Typescript速通教程</div></div><h1 id=typescript-快速上手>TypeScript 快速上手
<a class=header-anchor href=#typescript-%e5%bf%ab%e9%80%9f%e4%b8%8a%e6%89%8b></a></h1><p><a href="https://www.bilibili.com/video/BV1YS411w7Bf/?spm_id_from=333.1007.top_right_bar_window_history.content.click&amp;vd_source=eec8d29cc9562259bc3afddcb56823bd" title="🪩 禹神：三小时快速上手TypeScript，TS速通教程_哔哩哔哩_bilibili" rel="noopener external nofollow noreferrer" target=_blank class=exturl>🪩 禹神：三小时快速上手TypeScript，TS速通教程_哔哩哔哩_bilibili
<i class="fa fa-external-link-alt"></i></a></p><a id=more></a><h2 id=typescript-简介>⼀、TypeScript 简介
<a class=header-anchor href=#typescript-%e7%ae%80%e4%bb%8b></a></h2><ul><li><ol><li>TypeScript 由微软开发,是基于 JavaScript 的⼀个扩展语⾔。</li></ol></li><li><ol start=2><li>TypeScript 包含了 JavaScript 的所有内容,即: TypeScript 是 JavaScrip t 的超集。
![[｜附件｜/Typora 2025-01-07 11.53.14.png|200]]</li></ol></li><li><ol start=3><li>TypeScript 增加了:静态类型检查、接⼝、 泛型等很多现代开发特性,更适合⼤型项⽬ 的开发。</li></ol></li><li><ol start=4><li>TypeScript 需要编译为 JavaScript ,然后交给浏览器或其他 JavaScript 运⾏环 境执⾏。</li></ol></li></ul><h2 id=为何需要-typescript>⼆、为何需要 TypeScript
<a class=header-anchor href=#%e4%b8%ba%e4%bd%95%e9%9c%80%e8%a6%81-typescript></a></h2><h3 id=1今昔的-javascript了解>1.今⾮昔⽐的 JavaScript(了解)
<a class=header-anchor href=#1%e4%bb%8a%e6%98%94%e7%9a%84-javascript%e4%ba%86%e8%a7%a3></a></h3><ul><li>JavaScript 当年诞⽣时的定位是浏览器脚本语⾔,⽤于在⽹⻚中嵌⼊简单的逻辑,且代码 量很少。</li><li>随着时间的推移,JavaScript 变得越来越流⾏,如今的 JavaScript 已经可以全栈编程 了。</li><li>现如今的 JavaScript 应⽤场景⽐当年丰富的多,代码量也⽐当年⼤很多,随便⼀个 JavaScript 项⽬的代码量,可以轻松的达到⼏万⾏,甚⾄⼗⼏万⾏!</li><li>然⽽ JavaScript 当年"出⽣简陋",没考虑到如今的应⽤场景和代码量,逐渐就出现了很多 困扰。</li></ul><h3 id=2javascript-中的困扰>2.JavaScript 中的困扰
<a class=header-anchor href=#2javascript-%e4%b8%ad%e7%9a%84%e5%9b%b0%e6%89%b0></a></h3><h4 id=1-不清楚的数据类型>1. 不清楚的数据类型
<a class=header-anchor href=#1-%e4%b8%8d%e6%b8%85%e6%a5%9a%e7%9a%84%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b></a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>welcome</span> <span class=o>=</span> <span class=s1>&#39;hello&#39;</span> 
</span></span><span class=line><span class=cl><span class=nx>welcome</span><span class=p>()</span> <span class=c1>// 此⾏报错:TypeError: welcome is not a function
</span></span></span></code></pre></td></tr></table></div></div><h4 id=2有漏洞的逻辑>2.有漏洞的逻辑
<a class=header-anchor href=#2%e6%9c%89%e6%bc%8f%e6%b4%9e%e7%9a%84%e9%80%bb%e8%be%91></a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2>2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3>3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4>4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>str</span> <span class=o>=</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>()</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>?</span> <span class=s1>&#39;奇数&#39;</span> <span class=o>:</span> <span class=s1>&#39;偶数&#39;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nx>str</span> <span class=o>!==</span> <span class=s1>&#39;奇数&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	<span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;hello&#39;</span><span class=p>)</span> 
</span></span><span class=line><span class=cl><span class=p>}</span><span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=nx>str</span> <span class=o>===</span> <span class=s1>&#39;偶数&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	<span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;world&#39;</span><span class=p>)</span> <span class=p>}</span></span></span></code></pre></td></tr></table></div></div><h4 id=3-访问不存在的属性>3. 访问不存在的属性
<a class=header-anchor href=#3-%e8%ae%bf%e9%97%ae%e4%b8%8d%e5%ad%98%e5%9c%a8%e7%9a%84%e5%b1%9e%e6%80%a7></a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>obj</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>width</span><span class=o>:</span> <span class=mi>10</span><span class=p>,</span> <span class=nx>height</span><span class=o>:</span> <span class=mi>15</span> <span class=p>};</span> 
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>area</span> <span class=o>=</span> <span class=nx>obj</span><span class=p>.</span><span class=nx>width</span> <span class=o>*</span> <span class=nx>obj</span><span class=p>.</span><span class=nx>heigth</span><span class=p>;</span></span></span></code></pre></td></tr></table></div></div><h4 id=4-低级的拼写错误>4. 低级的拼写错误
<a class=header-anchor href=#4-%e4%bd%8e%e7%ba%a7%e7%9a%84%e6%8b%bc%e5%86%99%e9%94%99%e8%af%af></a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>message</span> <span class=o>=</span> <span class=s1>&#39;hello,world&#39;</span> <span class=nx>message</span><span class=p>.</span><span class=nx>toUperCase</span><span class=p>()</span> <span class=c1>//遗漏了一个&#34;p&#34;
</span></span></span></code></pre></td></tr></table></div></div><h3 id=3静态类型检查>3.静态类型检查
<a class=header-anchor href=#3%e9%9d%99%e6%80%81%e7%b1%bb%e5%9e%8b%e6%a3%80%e6%9f%a5></a></h3><ul><li>在代码运⾏前进⾏检查,发现代码的错误或不合理之处,减⼩运⾏时出现异常的⼏率,此种检 查叫『静态类型检查』,TypeScript 和核⼼就是『静态类型检查』,简⾔之就是把运⾏时的 错误前置</li><li>同样的功能,TypeScript 的代码量要⼤于 JavaScript,但由于 TypeScript 的代码结构更加 清晰,在后期代码的维护中 TypeScript 却胜于 JavaScript</li></ul><h2 id=三编译-typescript>三、编译 TypeScript
<a class=header-anchor href=#%e4%b8%89%e7%bc%96%e8%af%91-typescript></a></h2><h3 id=1-命令编译>1. 命令⾏编译
<a class=header-anchor href=#1-%e5%91%bd%e4%bb%a4%e7%bc%96%e8%af%91></a></h3><p>要把 .ts ⽂件编译为 .js ⽂件,需要配置 TypeScript 的编译环境,步骤如下:</p><ul><li>第⼀步:创建⼀个 demo.ts ⽂件,例如:</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3>3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4>4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>const</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;李四&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>age</span>: <span class=kt>18</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`我叫</span><span class=si>${</span><span class=nx>person</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>，我今年</span><span class=si>${</span><span class=nx>person</span><span class=p>.</span><span class=nx>age</span><span class=si>}</span><span class=sb>岁了`</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><ul><li>第⼆步:全局安装 <code>TypeScript npm i typescript -g</code></li><li>第三步:使⽤命令编译 .ts ⽂件<code>tsc demo.ts</code></li></ul><h3 id=2-动化编译>2. ⾃动化编译
<a class=header-anchor href=#2-%e5%8a%a8%e5%8c%96%e7%bc%96%e8%af%91></a></h3><ul><li>第⼀步:创建 TypeScript 编译控制⽂件：<code>tsc --init</code></li><li>第⼆步:监视⽬录中的 .ts ⽂件变化 <code>tsc --watch 或 tsc -w</code></li><li>第三步:⼩优化,当编译出错时不⽣成 .js ⽂件 <code>tsc --noEmitOnError --watch</code><ul><li>备注:当然也可以修改tsconfig.json 中的 noEmitOnError 配置</li></ul></li></ul><h2 id=四类型声明>四、类型声明
<a class=header-anchor href=#%e5%9b%9b%e7%b1%bb%e5%9e%8b%e5%a3%b0%e6%98%8e></a></h2><p>使⽤ : 来对变量或函数形参,进⾏类型声明:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a>
</span><span class=lnt id=hl-5-18><a class=lnlinks href=#hl-5-18>18</a>
</span><span class=lnt id=hl-5-19><a class=lnlinks href=#hl-5-19>19</a>
</span><span class=lnt id=hl-5-20><a class=lnlinks href=#hl-5-20>20</a>
</span><span class=lnt id=hl-5-21><a class=lnlinks href=#hl-5-21>21</a>
</span><span class=lnt id=hl-5-22><a class=lnlinks href=#hl-5-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kd>let</span> <span class=nx>a</span>: <span class=kt>string</span>  <span class=c1>// 变量a只能存储字符串
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>b</span>: <span class=kt>number</span>  <span class=c1>// 变量b只能存储数值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>c</span>: <span class=kt>boolean</span> <span class=c1>// 变量c只能存储布尔值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err>​</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>=</span> <span class=s1>&#39;hello&#39;</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>=</span> <span class=mi>100</span>  <span class=c1>// 警告: 不能将类型“number”分配给类型“string”
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err>​</span>
</span></span><span class=line><span class=cl><span class=nx>b</span> <span class=o>=</span> <span class=mi>666</span>
</span></span><span class=line><span class=cl><span class=nx>b</span> <span class=o>=</span> <span class=s1>&#39;你好&#39;</span> <span class=c1>// 警告: 不能将类型&#34;string&#34;分配给类型&#34;number&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err>​</span>
</span></span><span class=line><span class=cl><span class=nx>c</span> <span class=o>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=nx>c</span> <span class=o>=</span> <span class=mi>666</span>  <span class=c1>// 警告: 不能将类型“number”分配给类型“boolean”
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err>​</span>
</span></span><span class=line><span class=cl><span class=c1>// 参数x必须是数字，参数y也必须是数字，函数返回值也必须是数字
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>demo</span><span class=p>(</span><span class=nx>x</span>: <span class=kt>number</span><span class=p>,</span> <span class=nx>y</span>: <span class=kt>number</span><span class=p>)</span><span class=o>:</span> <span class=kt>number</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>x</span> <span class=o>+</span> <span class=nx>y</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>demo</span><span class=p>(</span><span class=mi>100</span><span class=p>,</span> <span class=mi>200</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>demo</span><span class=p>(</span><span class=mi>100</span><span class=p>,</span> <span class=s1>&#39;200&#39;</span><span class=p>)</span> <span class=c1>// 警告: 类型“string&#34;的参数不能赋给类型&#34;number&#34;的参数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>demo</span><span class=p>(</span><span class=mi>100</span><span class=p>,</span> <span class=mi>200</span><span class=p>,</span> <span class=mi>300</span><span class=p>)</span> <span class=c1>// 警告: 应有 2个参数, 但获得 3个
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>demo</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span> <span class=c1>// 警告: 应有 2个参数，但获得 1个
</span></span></span></code></pre></td></tr></table></div></div><p>在 : 后也可以写字⾯量类型,不过实际开发中⽤的不多。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2>2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3>3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kd>let</span> <span class=nx>a</span><span class=o>:</span> <span class=s1>&#39;你好&#39;</span> <span class=c1>//a的值只能为字符串&#34;你好&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>b</span>: <span class=kt>100</span> <span class=c1>//b的值只能为数字100
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>a</span> <span class=o>=</span> <span class=s1>&#39;欢迎&#39;</span><span class=c1>//警告:不能将类型&#34;&#34;欢迎&#34;&#34;分配给类型&#34;&#34;你好&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>b</span> <span class=o>=</span> <span class=mi>200</span> <span class=c1>//警告:不能将类型&#34;200&#34;分配给类型&#34;100&#34;
</span></span></span></code></pre></td></tr></table></div></div><h2 id=五类型推断>五、类型推断
<a class=header-anchor href=#%e4%ba%94%e7%b1%bb%e5%9e%8b%e6%8e%a8%e6%96%ad></a></h2><p><strong>TS 会根据我们的代码,进⾏类型推导,例如下⾯代码中的变量 d ,只能存储数字</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kd>let</span> <span class=nx>d</span> <span class=o>=</span> <span class=o>-</span><span class=mi>99</span> <span class=c1>//TypeScript会推断出变量d的类型是数字
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>d</span> <span class=o>=</span> <span class=kc>false</span> <span class=c1>//警告:不能将类型&#34;boolean&#34;分配给类型&#34;number&#34;
</span></span></span></code></pre></td></tr></table></div></div><p>但要注意,类型推断不是万能的,⾯对复杂类型时推断容易出问题,所以尽量还是明确的编写类型声明!</p><h2 id=六类型总览>六、类型总览
<a class=header-anchor href=#%e5%85%ad%e7%b1%bb%e5%9e%8b%e6%80%bb%e8%a7%88></a></h2><h3 id=javascript-中的数据类型>JavaScript 中的数据类型
<a class=header-anchor href=#javascript-%e4%b8%ad%e7%9a%84%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b></a></h3><p>① string ② number ③ boolean ④ null ⑤ undefined ⑥ bigint ⑦ symbol ⑧ object
备注:其中 object 包含: Array 、 Function 、 Date 、 Error 等&mldr;&mldr;</p><h3 id=typescript-中的数据类型>TypeScript 中的数据类型
<a class=header-anchor href=#typescript-%e4%b8%ad%e7%9a%84%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b></a></h3><ol><li>上述所有 JavaScript 类型</li><li>六个新类型： ① any ② unknown ③ never ④ void ⑤ tuple ⑥ enum</li><li>两个用于自定义类型的方式： ① type ② interface</li></ol><div class=post-alert-note><div class=post-alert-title><i class="fa-solid fa-bell"></i>
<span>注意点</span></div><div class=post-alert-content><p>在 JavaScript 中的这些内置构造函数: Number 、 String 、 Boolean ,⽤于 创建对应的包装对象, 在⽇常开发时==很少使⽤==,在 TypeScript 中也是同理,所以 在 TypeScript 中进⾏类型声明时,通常都是⽤⼩写的 number 、 string 、 boolean</p></div></div><p>例如下⾯代码:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>str1</span><span class=o>:</span> <span class=nx>string</span> <span class=c1>//TS官方推荐的写法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str1</span> <span class=o>=</span> <span class=s1>&#39;hello&#39;</span>
</span></span><span class=line><span class=cl><span class=nx>str1</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>String</span><span class=p>(</span><span class=s1>&#39;hello&#39;</span><span class=p>)</span> <span class=c1>//报
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>str2</span><span class=o>:</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl><span class=nx>str2</span> <span class=o>=</span> <span class=s1>&#39;hello&#39;</span>
</span></span><span class=line><span class=cl><span class=nx>str2</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>String</span><span class=p>(</span><span class=s1>&#39;hello&#39;</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span> <span class=nx>str1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span> <span class=nx>str2</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><ol><li><strong>原始类型 VS 包装对象</strong></li></ol><ul><li>原始类型:如 number 、 string 、 boolean ,在 JavaScript 中是简单数据 类型,它们在内存中占⽤空间少,处理速度快。</li><li>包装对象:如 Number 对象、 String 对象、 Boolean 对象,是复杂类型,在 内存中占⽤更多空间,在⽇常开发时很少由开发⼈员⾃⼰创建包装对象。</li></ul><ol start=2><li>⾃动装箱:JavaScript 在必要时会⾃动将原始类型包装成对象,以便调⽤⽅法或访问属性</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span><span class=lnt id=hl-9-13><a class=lnlinks href=#hl-9-13>13</a>
</span><span class=lnt id=hl-9-14><a class=lnlinks href=#hl-9-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 原始类型字符串
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>str</span> <span class=o>=</span> <span class=s1>&#39;hello&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>// 当访问str.length时,JavaScript引擎做了以下⼯作:
</span></span></span><span class=line><span class=cl><span class=c1>// 1. ⾃动装箱:创建⼀个临时的String对象包装原始字符串
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>size</span> <span class=o>=</span> <span class=p>(</span><span class=kd>function</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=kd>let</span> <span class=nx>tempStringObject</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>String</span><span class=p>(</span><span class=nx>str</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 2. 访问String对象的length属性
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kd>let</span> <span class=nx>lengthValue</span> <span class=o>=</span> <span class=nx>tempStringObject</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 3. 销毁临时对象,返回⻓度值
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// (JavaScript引擎⾃动处理对象销毁,开发者⽆感知)
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>return</span> <span class=nx>lengthValue</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>})();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>size</span><span class=p>);</span> <span class=c1>// 输出: 5
</span></span></span></code></pre></td></tr></table></div></div><h2 id=七常类型与语法>七、常⽤类型与语法
<a class=header-anchor href=#%e4%b8%83%e5%b8%b8%e7%b1%bb%e5%9e%8b%e4%b8%8e%e8%af%ad%e6%b3%95></a></h2><h3 id=1-any>1. any
<a class=header-anchor href=#1-any></a></h3><p>any 的含义是:任意类型,⼀旦将变量类型限制为 any ,那就意味着==放弃了==对该变量的类型检查。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1> 1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2> 2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3> 3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4> 4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5> 5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6> 6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7> 7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8> 8</a>
</span><span class=lnt id=hl-10-9><a class=lnlinks href=#hl-10-9> 9</a>
</span><span class=lnt id=hl-10-10><a class=lnlinks href=#hl-10-10>10</a>
</span><span class=lnt id=hl-10-11><a class=lnlinks href=#hl-10-11>11</a>
</span><span class=lnt id=hl-10-12><a class=lnlinks href=#hl-10-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-TS data-lang=TS><span class=line><span class=cl><span class=c1>// 明确的表示a的类型是 any —— 【显式的any
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>a</span>: <span class=kt>any</span> <span class=c1>// 以下对a的赋值,均⽆警告
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>a</span> <span class=o>=</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>=</span> <span class=s1>&#39;你好&#39;</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 没有明确的表示b的类型是any,但TS主动推断出来b是any —— 隐式的any
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>b</span>
</span></span><span class=line><span class=cl><span class=c1>//以下对b的赋值,均⽆警告
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>b</span> <span class=o>=</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl><span class=nx>b</span> <span class=o>=</span> <span class=err>&#39;你好</span>
</span></span><span class=line><span class=cl><span class=nx>b</span> <span class=o>=</span> <span class=kc>false</span></span></span></code></pre></td></tr></table></div></div><p>注意点: any 类型的变量,可以赋值给任意类型的变量</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2>2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3>3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4>4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-TS data-lang=TS><span class=line><span class=cl><span class=cm>/* 注意点:any类型的变量,可以赋值给任意类型的变量 */</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>c</span>:<span class=kt>any</span>
</span></span><span class=line><span class=cl><span class=nx>c</span> <span class=o>=</span> <span class=mi>9</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>x</span>: <span class=kt>string</span>
</span></span><span class=line><span class=cl><span class=nx>x</span> <span class=o>=</span> <span class=nx>c</span> <span class=c1>// ⽆警告
</span></span></span></code></pre></td></tr></table></div></div><h3 id=2-unknown>2. unknown
<a class=header-anchor href=#2-unknown></a></h3><p>unknown 的含义是: ==未知类型==</p><p>适⽤于: 起初不确定数据的具体类型,要后期才能确定</p><ol><li>unknown 可以理解为⼀个类型安全的 any 。</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1>1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2>2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3>3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4>4</a>
</span><span class=lnt id=hl-12-5><a class=lnlinks href=#hl-12-5>5</a>
</span><span class=lnt id=hl-12-6><a class=lnlinks href=#hl-12-6>6</a>
</span><span class=lnt id=hl-12-7><a class=lnlinks href=#hl-12-7>7</a>
</span><span class=lnt id=hl-12-8><a class=lnlinks href=#hl-12-8>8</a>
</span><span class=lnt id=hl-12-9><a class=lnlinks href=#hl-12-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-TS data-lang=TS><span class=line><span class=cl><span class=c1>// 设置a的类型为unknown
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>a</span>: <span class=kt>unknown</span>
</span></span><span class=line><span class=cl><span class=c1>//以下对a的赋值,均符合规范
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>a</span> <span class=o>=</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>=</span> <span class=s1>&#39;你好&#39;</span>
</span></span><span class=line><span class=cl><span class=c1>// 设置x的数据类型为string
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>x</span>: <span class=kt>string</span>
</span></span><span class=line><span class=cl><span class=nx>x</span> <span class=o>=</span> <span class=nx>a</span> <span class=c1>//警告:不能将类型&#34;unknown&#34;分配给类型&#34;string&#34;
</span></span></span></code></pre></td></tr></table></div></div><ol start=2><li>unknown 会强制开发者在使⽤之前进⾏类型检查,从⽽提供更强的类型安全性。</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1> 1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2> 2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3> 3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4> 4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5> 5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6> 6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7> 7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8> 8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9> 9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10>10</a>
</span><span class=lnt id=hl-13-11><a class=lnlinks href=#hl-13-11>11</a>
</span><span class=lnt id=hl-13-12><a class=lnlinks href=#hl-13-12>12</a>
</span><span class=lnt id=hl-13-13><a class=lnlinks href=#hl-13-13>13</a>
</span><span class=lnt id=hl-13-14><a class=lnlinks href=#hl-13-14>14</a>
</span><span class=lnt id=hl-13-15><a class=lnlinks href=#hl-13-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// 设置a的类型为unknown
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>a</span>: <span class=kt>unknown</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>=</span> <span class=s1>&#39;hello&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//第⼀种⽅式:加类型判断
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>if</span><span class=p>(</span><span class=k>typeof</span> <span class=nx>a</span> <span class=o>===</span> <span class=s1>&#39;string&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl> <span class=nx>x</span> <span class=o>=</span> <span class=nx>a</span>
</span></span><span class=line><span class=cl> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//第⼆种⽅式:加断⾔
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>x</span> <span class=o>=</span> <span class=nx>a</span> <span class=kr>as</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//第三种⽅式:加断⾔
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>x</span> <span class=o>=</span> <span class=p>&lt;</span><span class=nt>string</span><span class=p>&gt;</span><span class=nx>a</span></span></span></code></pre></td></tr></table></div></div><ol start=3><li>读取 any 类型数据的任何属性都不会报错,⽽ unknown 正好与之相反。</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1> 1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2> 2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3> 3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4> 4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5> 5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6> 6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7> 7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8> 8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9> 9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10>10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11>11</a>
</span><span class=lnt id=hl-14-12><a class=lnlinks href=#hl-14-12>12</a>
</span><span class=lnt id=hl-14-13><a class=lnlinks href=#hl-14-13>13</a>
</span><span class=lnt id=hl-14-14><a class=lnlinks href=#hl-14-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kd>let</span> <span class=nx>str1</span>: <span class=kt>string</span>
</span></span><span class=line><span class=cl><span class=nx>str1</span> <span class=o>=</span> <span class=s1>&#39;hello&#39;</span>
</span></span><span class=line><span class=cl><span class=nx>str1</span><span class=p>.</span><span class=nx>toUpperCase</span><span class=p>()</span> <span class=c1>//⽆警告
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>str2</span>: <span class=kt>any</span>
</span></span><span class=line><span class=cl><span class=nx>str2</span> <span class=o>=</span> <span class=s1>&#39;hello&#39;</span>
</span></span><span class=line><span class=cl><span class=nx>str2</span><span class=p>.</span><span class=nx>toUpperCase</span><span class=p>()</span> <span class=c1>//⽆警告
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>str3</span>: <span class=kt>unknown</span>
</span></span><span class=line><span class=cl><span class=nx>str3</span> <span class=o>=</span> <span class=s1>&#39;hello&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>str3</span><span class=p>.</span><span class=nx>toUpperCase</span><span class=p>()</span> <span class=c1>//警告:&#34;str3&#34;的类型为&#34;未知&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 使⽤断⾔强制指定str3的类型为string
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>(</span><span class=nx>str3</span> <span class=kr>as</span> <span class=kt>string</span><span class=p>).</span><span class=nx>toUpperCase</span><span class=p>()</span> <span class=c1>//⽆警告
</span></span></span></code></pre></td></tr></table></div></div><h3 id=3-never>3. never
<a class=header-anchor href=#3-never></a></h3><p>never 的含义是:任何值都不是,即: 不能有值,例如 undefined 、 null 、 &rsquo;&rsquo; 、 0 都不⾏!</p><p>1.⼏乎不⽤ never 去直接限制变量,因为没有意义,例如:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2>2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3>3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4>4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5>5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6>6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7>7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=cm>/* 指定a的类型为never, 那就意味着a以后不能存任何的数据了 */</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>a</span>: <span class=kt>never</span>
</span></span><span class=line><span class=cl><span class=err>​</span>
</span></span><span class=line><span class=cl><span class=c1>// 以下对a的所有赋值都会有警告
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>a</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>=</span> <span class=kc>undefined</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>=</span> <span class=kc>null</span></span></span></code></pre></td></tr></table></div></div><p>2.never 一般是 TypeScript 主动推断出来的，例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1>1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2>2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3>3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4>4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5>5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6>6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7>7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// 指定a的类型为string
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>a</span>: <span class=kt>string</span> <span class=c1>// 给a设置⼀个值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>a</span> <span class=o>=</span> <span class=s1>&#39;hello&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=k>typeof</span> <span class=nx>a</span> <span class=o>===</span> <span class=s1>&#39;string&#39;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>a</span><span class=p>.</span><span class=nx>toUpperCase</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=p>}</span><span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span> <span class=c1>// TypeScript会推断出此处的a是never,因为没有任何⼀个值符合此处的逻辑
</span></span></span></code></pre></td></tr></table></div></div><ol start=3><li>never 也可⽤于限制函数的返回值</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1>1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2>2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3>3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// 限制throwError函数不需要有任何返回值,任何值都不⾏,像undeifned、null都不⾏
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>throwError</span><span class=p>(</span><span class=nx>str</span>: <span class=kt>string</span><span class=p>)</span><span class=o>:</span> <span class=kt>never</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;程序异常退出:&#39;</span> <span class=o>+</span> <span class=nx>str</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><h3 id=4void>4.void
<a class=header-anchor href=#4void></a></h3><p>void 的含义是空,即: 函数不返回任何值, 调⽤者也不应依赖其返回值进⾏任何操作!</p><ol><li>void 通常⽤于函数返回值声明</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1>1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2>2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3>3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=nx>logMessage</span><span class=p>(</span><span class=nx>msg</span><span class=o>:</span><span class=nx>string</span><span class=p>)</span><span class=o>:</span><span class=k>void</span><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>msg</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>logMessage</span><span class=p>(</span><span class=s1>&#39;你好&#39;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>注意:编码者没有编写 return 指定函数返回值,所以 logMessage 函数是没有==显式返回值==的,但会有⼀个==隐式返回值== ,是 undefined ,虽然函数返回类型为 void ,但也是可以接受 undefined 的,简单记: <strong>undefined</strong> 是 <strong>void</strong> 可以接受的⼀种"空"。</p><ol start=2><li>以下写法均符合规范</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1> 1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2> 2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3> 3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4> 4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5> 5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6> 6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7> 7</a>
</span><span class=lnt id=hl-19-8><a class=lnlinks href=#hl-19-8> 8</a>
</span><span class=lnt id=hl-19-9><a class=lnlinks href=#hl-19-9> 9</a>
</span><span class=lnt id=hl-19-10><a class=lnlinks href=#hl-19-10>10</a>
</span><span class=lnt id=hl-19-11><a class=lnlinks href=#hl-19-11>11</a>
</span><span class=lnt id=hl-19-12><a class=lnlinks href=#hl-19-12>12</a>
</span><span class=lnt id=hl-19-13><a class=lnlinks href=#hl-19-13>13</a>
</span><span class=lnt id=hl-19-14><a class=lnlinks href=#hl-19-14>14</a>
</span><span class=lnt id=hl-19-15><a class=lnlinks href=#hl-19-15>15</a>
</span><span class=lnt id=hl-19-16><a class=lnlinks href=#hl-19-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// 无警告
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>logMessage</span><span class=p>(</span><span class=nx>msg</span>: <span class=kt>string</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>msg</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>​</span>
</span></span><span class=line><span class=cl><span class=c1>// 无警告
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>logMessage</span><span class=p>(</span><span class=nx>msg</span>: <span class=kt>string</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>msg</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>​</span>
</span></span><span class=line><span class=cl><span class=c1>// 无警告
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>logMessage</span><span class=p>(</span><span class=nx>msg</span>: <span class=kt>string</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>msg</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=kc>undefined</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><ol start=3><li>那限制函数返回值时,是不是 undefined 和 void 就没区别呢?—— 有区别。因为还有 这句话 :【返回值类型为 <strong>void</strong> 的函数,调⽤者不应依赖其返回值进⾏任何操作!】对⽐下 ⾯两段代码:</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1>1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2>2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3>3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4>4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5>5</a>
</span><span class=lnt id=hl-20-6><a class=lnlinks href=#hl-20-6>6</a>
</span><span class=lnt id=hl-20-7><a class=lnlinks href=#hl-20-7>7</a>
</span><span class=lnt id=hl-20-8><a class=lnlinks href=#hl-20-8>8</a>
</span><span class=lnt id=hl-20-9><a class=lnlinks href=#hl-20-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kd>function</span> <span class=nx>logMessage</span><span class=p>(</span><span class=nx>msg</span>: <span class=kt>string</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>msg</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>logMessage</span><span class=p>(</span><span class=s1>&#39;你好&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nx>result</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// 此行报错：无法测试 &#34;void&#34; 类型的表达式的真实性
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;logMessage有返回值&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1>1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2>2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3>3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4>4</a>
</span><span class=lnt id=hl-21-5><a class=lnlinks href=#hl-21-5>5</a>
</span><span class=lnt id=hl-21-6><a class=lnlinks href=#hl-21-6>6</a>
</span><span class=lnt id=hl-21-7><a class=lnlinks href=#hl-21-7>7</a>
</span><span class=lnt id=hl-21-8><a class=lnlinks href=#hl-21-8>8</a>
</span><span class=lnt id=hl-21-9><a class=lnlinks href=#hl-21-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kd>function</span> <span class=nx>logMessage</span><span class=p>(</span><span class=nx>msg</span>: <span class=kt>string</span><span class=p>)</span><span class=o>:</span> <span class=kc>undefined</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>msg</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>result</span> <span class=o>=</span> <span class=nx>logMessage</span><span class=p>(</span><span class=s1>&#39;你好&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nx>result</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// 此行无警告
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;logMessage有返回值&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><p><strong>理解 void 与 undefined</strong></p><ul><li>void 是⼀个⼴泛的概念,⽤来表达"空",⽽ undefined 则是这种"空"的具体 实现。</li><li>因此可以说 undefined 是 void 能接受的⼀种"空"的状态。</li><li>也可以理解为: void 包含 undefined ,但 void 所表达的语义超越了 undefi ned , void 是⼀种意图上的约定,⽽不仅仅是特定值的限制。</li></ul><p>【总结】
如果⼀个函数返回类型为 void ,那么:</p><ul><li><ol><li>从语法上讲:函数是可以返回 undefined 的,⾄于显式返回,还是隐式返回,这⽆ 所谓!</li></ol></li><li><ol start=2><li>从语义上讲:函数调⽤者不应关⼼函数返回的值,也不应依赖返回值进⾏任何操作! 即使我们知道它返回了 undefined 。</li></ol></li></ul><h3 id=5object>5.object
<a class=header-anchor href=#5object></a></h3><p><a href="https://www.bilibili.com/video/BV1YS411w7Bf?spm_id_from=333.788.player.switch&amp;vd_source=eec8d29cc9562259bc3afddcb56823bd&amp;p=2" title="🪩 TypeScript快速梳理_中篇_哔哩哔哩_bilibili" rel="noopener external nofollow noreferrer" target=_blank class=exturl>🪩 TypeScript快速梳理_中篇_哔哩哔哩_bilibili
<i class="fa fa-external-link-alt"></i></a></p><p>关于 <strong>object</strong> 与 <strong>Object</strong> ,直接说结论:实际开发中⽤的相对较少,因为范围太⼤了。</p><h4 id=object写>object(⼩写)
<a class=header-anchor href=#object%e5%86%99></a></h4><p><strong>object</strong> (⼩写)的含义是:所有⾮原始类型,可存储:对象、函数、数组等,由于限制 的范围⽐较宽泛,在实际开发中使⽤的相对较少。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1> 1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2> 2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3> 3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4> 4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5> 5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6> 6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7> 7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8> 8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9> 9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10>10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11>11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12>12</a>
</span><span class=lnt id=hl-22-13><a class=lnlinks href=#hl-22-13>13</a>
</span><span class=lnt id=hl-22-14><a class=lnlinks href=#hl-22-14>14</a>
</span><span class=lnt id=hl-22-15><a class=lnlinks href=#hl-22-15>15</a>
</span><span class=lnt id=hl-22-16><a class=lnlinks href=#hl-22-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kd>let</span> <span class=nx>a</span>:<span class=kt>object</span> <span class=c1>//a的值可以是任何【⾮原始类型】,包括:对象、函数、数组等
</span></span></span><span class=line><span class=cl><span class=c1>// 以下代码,是将【⾮原始类型】赋给a,所以均符合要求
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>a</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>=</span> <span class=p>{</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;张三&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>9</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(){}</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>String</span><span class=p>(</span><span class=s1>&#39;123&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 以下代码,是将【原始类型】赋给a,有警告
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>a</span> <span class=o>=</span> <span class=mi>1</span> <span class=c1>// 警告:不能将类型&#34;number&#34;分配给类型&#34;object&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>a</span> <span class=o>=</span> <span class=kc>true</span> <span class=c1>// 警告:不能将类型&#34;boolean&#34;分配给类型&#34;object&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>a</span> <span class=o>=</span> <span class=s1>&#39;你好&#39;</span> <span class=c1>// 警告:不能将类型&#34;string&#34;分配给类型&#34;object&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>a</span> <span class=o>=</span> <span class=kc>null</span> <span class=c1>// 警告:不能将类型&#34;null&#34;分配给类型&#34;object&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>a</span> <span class=o>=</span> <span class=kc>undefined</span> <span class=c1>// 警告:不能将类型&#34;undefined&#34;分配给类型&#34;object&#34;
</span></span></span></code></pre></td></tr></table></div></div><h4 id=object写-1>Object(⼤写)
<a class=header-anchor href=#object%e5%86%99-1></a></h4><ul><li>官⽅描述:所有可以调⽤ <strong>Object</strong> ⽅法的类型。</li><li>简单记忆:除了 undefined 和 null 的任何值。</li><li>由于限制的范围实在太⼤了!所以实际开发中使⽤频率极低。</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1> 1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2> 2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3> 3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4> 4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5> 5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6> 6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7> 7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8> 8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9> 9</a>
</span><span class=lnt id=hl-23-10><a class=lnlinks href=#hl-23-10>10</a>
</span><span class=lnt id=hl-23-11><a class=lnlinks href=#hl-23-11>11</a>
</span><span class=lnt id=hl-23-12><a class=lnlinks href=#hl-23-12>12</a>
</span><span class=lnt id=hl-23-13><a class=lnlinks href=#hl-23-13>13</a>
</span><span class=lnt id=hl-23-14><a class=lnlinks href=#hl-23-14>14</a>
</span><span class=lnt id=hl-23-15><a class=lnlinks href=#hl-23-15>15</a>
</span><span class=lnt id=hl-23-16><a class=lnlinks href=#hl-23-16>16</a>
</span><span class=lnt id=hl-23-17><a class=lnlinks href=#hl-23-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kd>let</span> <span class=nx>b</span>:<span class=kt>Object</span> <span class=c1>//b的值必须是Object的实例对象(除去undefined和null的任何值)
</span></span></span><span class=line><span class=cl><span class=c1>// 以下代码,均⽆警告,因为给a赋的值,都是Object的实例对象
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>b</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=nx>b</span> <span class=o>=</span> <span class=p>{</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;张三&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>b</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>9</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>b</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(){}</span>
</span></span><span class=line><span class=cl><span class=nx>b</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>String</span><span class=p>(</span><span class=s1>&#39;123&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=nx>b</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>b</span> <span class=o>=</span> <span class=mi>1</span> <span class=c1>// 1不是Object的实例对象,但其包装对象是Object的实例
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>b</span> <span class=o>=</span> <span class=kc>true</span> <span class=c1>// truue不是Object的实例对象,但其包装对象是Object的实例
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>b</span> <span class=o>=</span> <span class=s1>&#39;你好&#39;</span> <span class=c1>// &#34;你好&#34;不是Object的实例对象,但其包装对象是Object的实例
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 以下代码均有警告
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>b</span> <span class=o>=</span> <span class=kc>null</span> <span class=c1>// 警告:不能将类型&#34;null&#34;分配给类型&#34;Object&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>b</span> <span class=o>=</span> <span class=kc>undefined</span> <span class=c1>// 警告:不能将类型&#34;undefined&#34;分配给类型&#34;Object&#34;
</span></span></span></code></pre></td></tr></table></div></div><h4 id=声明对象类型>声明对象类型
<a class=header-anchor href=#%e5%a3%b0%e6%98%8e%e5%af%b9%e8%b1%a1%e7%b1%bb%e5%9e%8b></a></h4><ol><li>实际开发中,限制⼀般对象,通常使⽤以下形式</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1> 1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2> 2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3> 3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4> 4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5> 5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6> 6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7> 7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8> 8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9> 9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10>10</a>
</span><span class=lnt id=hl-24-11><a class=lnlinks href=#hl-24-11>11</a>
</span><span class=lnt id=hl-24-12><a class=lnlinks href=#hl-24-12>12</a>
</span><span class=lnt id=hl-24-13><a class=lnlinks href=#hl-24-13>13</a>
</span><span class=lnt id=hl-24-14><a class=lnlinks href=#hl-24-14>14</a>
</span><span class=lnt id=hl-24-15><a class=lnlinks href=#hl-24-15>15</a>
</span><span class=lnt id=hl-24-16><a class=lnlinks href=#hl-24-16>16</a>
</span><span class=lnt id=hl-24-17><a class=lnlinks href=#hl-24-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// 限制person1对象必须有name属性,age为可选属性
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>person1</span><span class=o>:</span> <span class=p>{</span> <span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>age?</span>: <span class=kt>number</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 含义同上,也能⽤分号做分隔
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>person2</span><span class=o>:</span> <span class=p>{</span> <span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span> <span class=nx>age?</span>: <span class=kt>number</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 含义同上,也能⽤换⾏做分隔
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>person3</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>name</span>: <span class=kt>string</span>
</span></span><span class=line><span class=cl>	<span class=nx>age?</span>: <span class=kt>number</span>  <span class=c1>// 加？代表可以为空
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 如下赋值均可以
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>person1</span> <span class=o>=</span> <span class=p>{</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;李四&#39;</span><span class=p>,</span><span class=nx>age</span>:<span class=kt>18</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>person2</span> <span class=o>=</span> <span class=p>{</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;张三&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>person3</span> <span class=o>=</span> <span class=p>{</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;王五&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 如下赋值不合法,因为person3的类型限制中,没有对gender属性的说明
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>person3</span> <span class=o>=</span> <span class=p>{</span><span class=nx>name</span><span class=o>:</span><span class=s1>&#39;王五&#39;</span><span class=p>,</span><span class=nx>gender</span><span class=o>:</span><span class=s1>&#39;男&#39;</span><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><ol start=2><li>索引签名: 允许定义对象可以具有任意数量的属性,这些属性的键和类型是可变的, 常⽤于:描述类型不确定的属性,(具有动态属性的对象)。</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1> 1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2> 2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3> 3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4> 4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5> 5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6> 6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7> 7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8> 8</a>
</span><span class=lnt id=hl-25-9><a class=lnlinks href=#hl-25-9> 9</a>
</span><span class=lnt id=hl-25-10><a class=lnlinks href=#hl-25-10>10</a>
</span><span class=lnt id=hl-25-11><a class=lnlinks href=#hl-25-11>11</a>
</span><span class=lnt id=hl-25-12><a class=lnlinks href=#hl-25-12>12</a>
</span><span class=lnt id=hl-25-13><a class=lnlinks href=#hl-25-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// 限制person对象必须有name属性,可选age属性但值必须是数字,同时可以有任意数量、任意类型的其他属性
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>person</span><span class=o>:</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>	<span class=nx>name</span>: <span class=kt>string</span>
</span></span><span class=line><span class=cl>	<span class=nx>age?</span>: <span class=kt>number</span>
</span></span><span class=line><span class=cl>	<span class=p>[</span><span class=nx>key</span>: <span class=kt>string</span><span class=p>]</span><span class=o>:</span> <span class=kt>any</span> <span class=c1>// 索引签名,完全可以不⽤key这个单词,换成其他的也可以(另一种常用写法：index)
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 赋值合法
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>person</span> <span class=o>=</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>	<span class=nx>name</span><span class=o>:</span><span class=s1>&#39;张三&#39;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>	<span class=nx>age</span>:<span class=kt>18</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>	<span class=nx>gender</span><span class=o>:</span><span class=s1>&#39;男&#39;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><h4 id=声明函数类型>声明函数类型
<a class=header-anchor href=#%e5%a3%b0%e6%98%8e%e5%87%bd%e6%95%b0%e7%b1%bb%e5%9e%8b></a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1>1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kd>let</span> <span class=nx>count</span><span class=o>:</span> <span class=p>(</span><span class=nx>a</span>: <span class=kt>number</span><span class=p>,</span> <span class=nx>b</span>: <span class=kt>number</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=kt>number</span>
</span></span><span class=line><span class=cl><span class=nx>count</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>)</span> <span class=p>{</span> <span class=k>return</span> <span class=nx>x</span> <span class=o>+</span> <span class=nx>y</span> <span class=p>}</span></span></span></code></pre></td></tr></table></div></div><p>备注:</p><ul><li>TypeScript 中的 => 在函数类型声明时表示==函数类型,==描述其==参数类型==和返回类型。</li><li>JavaScript 中的 => 是⼀种定义函数的语法,是具体的函数实现。</li><li>函数类型声明还可以使⽤:接⼝、⾃定义类型等⽅式,下⽂中会详细讲解。</li></ul><h4 id=声明数组类型>声明数组类型
<a class=header-anchor href=#%e5%a3%b0%e6%98%8e%e6%95%b0%e7%bb%84%e7%b1%bb%e5%9e%8b></a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1>1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2>2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3>3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4>4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kd>let</span> <span class=nx>arr1</span>: <span class=kt>string</span><span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>arr2</span>: <span class=kt>Array</span><span class=p>&lt;</span><span class=nt>string</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl><span class=nx>arr1</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span><span class=s1>&#39;b&#39;</span><span class=p>,</span><span class=s1>&#39;c&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>arr2</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;hello&#39;</span><span class=p>,</span><span class=s1>&#39;world&#39;</span><span class=p>]</span></span></span></code></pre></td></tr></table></div></div><p>备注:上述代码中的 <code>Array&lt;string></code> 属于泛型,下⽂会详细讲解。</p><h3 id=6-tuple>6. tuple
<a class=header-anchor href=#6-tuple></a></h3><p>元组 (Tuple) 是⼀种==特殊的数组类型==,可以存储固定数量的元素,并且每个元素的类型是==已知==的且可以==不同==。元组⽤于精确描述⼀组值的类型， ? 表示可选元素。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1> 1</a>
</span><span class=lnt id=hl-28-2><a class=lnlinks href=#hl-28-2> 2</a>
</span><span class=lnt id=hl-28-3><a class=lnlinks href=#hl-28-3> 3</a>
</span><span class=lnt id=hl-28-4><a class=lnlinks href=#hl-28-4> 4</a>
</span><span class=lnt id=hl-28-5><a class=lnlinks href=#hl-28-5> 5</a>
</span><span class=lnt id=hl-28-6><a class=lnlinks href=#hl-28-6> 6</a>
</span><span class=lnt id=hl-28-7><a class=lnlinks href=#hl-28-7> 7</a>
</span><span class=lnt id=hl-28-8><a class=lnlinks href=#hl-28-8> 8</a>
</span><span class=lnt id=hl-28-9><a class=lnlinks href=#hl-28-9> 9</a>
</span><span class=lnt id=hl-28-10><a class=lnlinks href=#hl-28-10>10</a>
</span><span class=lnt id=hl-28-11><a class=lnlinks href=#hl-28-11>11</a>
</span><span class=lnt id=hl-28-12><a class=lnlinks href=#hl-28-12>12</a>
</span><span class=lnt id=hl-28-13><a class=lnlinks href=#hl-28-13>13</a>
</span><span class=lnt id=hl-28-14><a class=lnlinks href=#hl-28-14>14</a>
</span><span class=lnt id=hl-28-15><a class=lnlinks href=#hl-28-15>15</a>
</span><span class=lnt id=hl-28-16><a class=lnlinks href=#hl-28-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// 第⼀个元素必须是 string 类型,第⼆个元素必须是 number 类型。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>arr1</span><span class=o>:</span> <span class=p>[</span><span class=kt>string</span><span class=p>,</span><span class=kt>number</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=c1>// 第⼀个元素必须是 number 类型,第⼆个元素是可选的,如果存在,必须是 boolean 类型。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>arr2</span><span class=o>:</span> <span class=p>[</span><span class=kt>number</span><span class=p>,</span><span class=kr>boolean</span><span class=o>?</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=c1>// 第⼀个元素必须是 number 类型,后⾯的元素可以是任意数量的 string 类型
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>arr3</span><span class=o>:</span> <span class=p>[</span><span class=kt>number</span><span class=p>,...</span><span class=kt>string</span><span class=p>[]]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 可以赋值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arr1</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;hello&#39;</span><span class=p>,</span><span class=mi>123</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>arr2</span> <span class=o>=</span> <span class=p>[</span><span class=mi>100</span><span class=p>,</span><span class=kc>false</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>arr2</span> <span class=o>=</span> <span class=p>[</span><span class=mi>200</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>arr3</span> <span class=o>=</span> <span class=p>[</span><span class=mi>100</span><span class=p>,</span><span class=s1>&#39;hello&#39;</span><span class=p>,</span><span class=s1>&#39;world&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>arr3</span> <span class=o>=</span> <span class=p>[</span><span class=mi>100</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 不可以赋值,arr1声明时是两个元素,赋值的是三个
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arr1</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;hello&#39;</span><span class=p>,</span><span class=mi>123</span><span class=p>,</span><span class=kc>false</span><span class=p>]</span></span></span></code></pre></td></tr></table></div></div><h3 id=7-enum>7. enum
<a class=header-anchor href=#7-enum></a></h3><p>枚举( enum )可以定义==⼀组命名常量==,它能增强代码的可读性,也让代码更好维护。</p><p>如下代码的功能是:根据调⽤ walk 时传⼊的不同参数,执⾏不同的逻辑,存在的问题是调⽤ walk 时传参时没有任何提示,编码者很容易写错字符串内容;并且⽤于判断逻辑的 up 、 down 、 left 、 right 是连续且==相关的⼀组值==,那此时就特别适合使⽤==枚举( enum )==。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1> 1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2> 2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3> 3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4> 4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5> 5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6> 6</a>
</span><span class=lnt id=hl-29-7><a class=lnlinks href=#hl-29-7> 7</a>
</span><span class=lnt id=hl-29-8><a class=lnlinks href=#hl-29-8> 8</a>
</span><span class=lnt id=hl-29-9><a class=lnlinks href=#hl-29-9> 9</a>
</span><span class=lnt id=hl-29-10><a class=lnlinks href=#hl-29-10>10</a>
</span><span class=lnt id=hl-29-11><a class=lnlinks href=#hl-29-11>11</a>
</span><span class=lnt id=hl-29-12><a class=lnlinks href=#hl-29-12>12</a>
</span><span class=lnt id=hl-29-13><a class=lnlinks href=#hl-29-13>13</a>
</span><span class=lnt id=hl-29-14><a class=lnlinks href=#hl-29-14>14</a>
</span><span class=lnt id=hl-29-15><a class=lnlinks href=#hl-29-15>15</a>
</span><span class=lnt id=hl-29-16><a class=lnlinks href=#hl-29-16>16</a>
</span><span class=lnt id=hl-29-17><a class=lnlinks href=#hl-29-17>17</a>
</span><span class=lnt id=hl-29-18><a class=lnlinks href=#hl-29-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kd>function</span> <span class=nx>walk</span><span class=p>(</span><span class=nx>str</span>: <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>str</span> <span class=o>===</span> <span class=s1>&#39;up&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;向[上]走&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>str</span> <span class=o>===</span> <span class=s1>&#39;down&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;向[下]走&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>str</span> <span class=o>===</span> <span class=s1>&#39;left&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;向[左]走&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>str</span> <span class=o>===</span> <span class=s1>&#39;right&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;向[右]走&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;未知方向&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>​</span>
</span></span><span class=line><span class=cl><span class=nx>walk</span><span class=p>(</span><span class=s1>&#39;up&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>walk</span><span class=p>(</span><span class=s1>&#39;down&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>walk</span><span class=p>(</span><span class=s1>&#39;left&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>walk</span><span class=p>(</span><span class=s1>&#39;right&#39;</span><span class=p>);</span></span></span></code></pre></td></tr></table></div></div><h4 id=1数字枚举>1.数字枚举
<a class=header-anchor href=#1%e6%95%b0%e5%ad%97%e6%9e%9a%e4%b8%be></a></h4><p>数字枚举⼀种最常⻅的枚举类型,其成员的值会⾃动递增,且数字枚举还具备==反向映射==的 特点,在下⾯代码的打印中,不难发现:可以通过值来获取对应的枚举成员名称</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-30-1><a class=lnlinks href=#hl-30-1> 1</a>
</span><span class=lnt id=hl-30-2><a class=lnlinks href=#hl-30-2> 2</a>
</span><span class=lnt id=hl-30-3><a class=lnlinks href=#hl-30-3> 3</a>
</span><span class=lnt id=hl-30-4><a class=lnlinks href=#hl-30-4> 4</a>
</span><span class=lnt id=hl-30-5><a class=lnlinks href=#hl-30-5> 5</a>
</span><span class=lnt id=hl-30-6><a class=lnlinks href=#hl-30-6> 6</a>
</span><span class=lnt id=hl-30-7><a class=lnlinks href=#hl-30-7> 7</a>
</span><span class=lnt id=hl-30-8><a class=lnlinks href=#hl-30-8> 8</a>
</span><span class=lnt id=hl-30-9><a class=lnlinks href=#hl-30-9> 9</a>
</span><span class=lnt id=hl-30-10><a class=lnlinks href=#hl-30-10>10</a>
</span><span class=lnt id=hl-30-11><a class=lnlinks href=#hl-30-11>11</a>
</span><span class=lnt id=hl-30-12><a class=lnlinks href=#hl-30-12>12</a>
</span><span class=lnt id=hl-30-13><a class=lnlinks href=#hl-30-13>13</a>
</span><span class=lnt id=hl-30-14><a class=lnlinks href=#hl-30-14>14</a>
</span><span class=lnt id=hl-30-15><a class=lnlinks href=#hl-30-15>15</a>
</span><span class=lnt id=hl-30-16><a class=lnlinks href=#hl-30-16>16</a>
</span><span class=lnt id=hl-30-17><a class=lnlinks href=#hl-30-17>17</a>
</span><span class=lnt id=hl-30-18><a class=lnlinks href=#hl-30-18>18</a>
</span><span class=lnt id=hl-30-19><a class=lnlinks href=#hl-30-19>19</a>
</span><span class=lnt id=hl-30-20><a class=lnlinks href=#hl-30-20>20</a>
</span><span class=lnt id=hl-30-21><a class=lnlinks href=#hl-30-21>21</a>
</span><span class=lnt id=hl-30-22><a class=lnlinks href=#hl-30-22>22</a>
</span><span class=lnt id=hl-30-23><a class=lnlinks href=#hl-30-23>23</a>
</span><span class=lnt id=hl-30-24><a class=lnlinks href=#hl-30-24>24</a>
</span><span class=lnt id=hl-30-25><a class=lnlinks href=#hl-30-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// 定义一个描述【上下左右】方向的枚举Direction
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>enum</span> <span class=nx>Direction</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Up</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>Down</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>Left</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>Right</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>​</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>Direction</span><span class=p>);</span> <span class=c1>// 打印Direction会看到如下内容
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>{
</span></span></span><span class=line><span class=cl><span class=cm>    0: &#39;Up&#39;,
</span></span></span><span class=line><span class=cl><span class=cm>    1: &#39;Down&#39;,
</span></span></span><span class=line><span class=cl><span class=cm>    2: &#39;Left&#39;,
</span></span></span><span class=line><span class=cl><span class=cm>    3: &#39;Right&#39;,
</span></span></span><span class=line><span class=cl><span class=cm>    Up: 0,
</span></span></span><span class=line><span class=cl><span class=cm>    Down: 1,
</span></span></span><span class=line><span class=cl><span class=cm>    Left: 2,
</span></span></span><span class=line><span class=cl><span class=cm>    Right: 3
</span></span></span><span class=line><span class=cl><span class=cm>}
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl><span class=err>​</span>
</span></span><span class=line><span class=cl><span class=c1>// 反向映射
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>Direction</span><span class=p>.</span><span class=nx>Up</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>Direction</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span></span></span></code></pre></td></tr></table></div></div><p>![[｜附件｜/Pasted image 20250107175053.png]]</p><p>也可以指定枚举成员的初始值,其后的成员值会⾃动递增。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-31-1><a class=lnlinks href=#hl-31-1>1</a>
</span><span class=lnt id=hl-31-2><a class=lnlinks href=#hl-31-2>2</a>
</span><span class=lnt id=hl-31-3><a class=lnlinks href=#hl-31-3>3</a>
</span><span class=lnt id=hl-31-4><a class=lnlinks href=#hl-31-4>4</a>
</span><span class=lnt id=hl-31-5><a class=lnlinks href=#hl-31-5>5</a>
</span><span class=lnt id=hl-31-6><a class=lnlinks href=#hl-31-6>6</a>
</span><span class=lnt id=hl-31-7><a class=lnlinks href=#hl-31-7>7</a>
</span><span class=lnt id=hl-31-8><a class=lnlinks href=#hl-31-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>enum</span> <span class=nx>Direction</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	 <span class=nx>Up</span> <span class=o>=</span> <span class=mi>6</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	 <span class=nx>Down</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	 <span class=nx>Left</span><span class=p>,</span>    
</span></span><span class=line><span class=cl>	 <span class=nx>Right</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>Direction</span><span class=p>.</span><span class=nx>Up</span><span class=p>);</span> <span class=c1>// 输出: 6
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>Direction</span><span class=p>.</span><span class=nx>Down</span><span class=p>);</span> <span class=c1>// 输出: 7
</span></span></span></code></pre></td></tr></table></div></div><p>使⽤数字枚举完成刚才 walk 函数中的逻辑,此时我们发现: 代码更加直观易读,⽽且类型安全,同时也更易于维护。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-32-1><a class=lnlinks href=#hl-32-1> 1</a>
</span><span class=lnt id=hl-32-2><a class=lnlinks href=#hl-32-2> 2</a>
</span><span class=lnt id=hl-32-3><a class=lnlinks href=#hl-32-3> 3</a>
</span><span class=lnt id=hl-32-4><a class=lnlinks href=#hl-32-4> 4</a>
</span><span class=lnt id=hl-32-5><a class=lnlinks href=#hl-32-5> 5</a>
</span><span class=lnt id=hl-32-6><a class=lnlinks href=#hl-32-6> 6</a>
</span><span class=lnt id=hl-32-7><a class=lnlinks href=#hl-32-7> 7</a>
</span><span class=lnt id=hl-32-8><a class=lnlinks href=#hl-32-8> 8</a>
</span><span class=lnt id=hl-32-9><a class=lnlinks href=#hl-32-9> 9</a>
</span><span class=lnt id=hl-32-10><a class=lnlinks href=#hl-32-10>10</a>
</span><span class=lnt id=hl-32-11><a class=lnlinks href=#hl-32-11>11</a>
</span><span class=lnt id=hl-32-12><a class=lnlinks href=#hl-32-12>12</a>
</span><span class=lnt id=hl-32-13><a class=lnlinks href=#hl-32-13>13</a>
</span><span class=lnt id=hl-32-14><a class=lnlinks href=#hl-32-14>14</a>
</span><span class=lnt id=hl-32-15><a class=lnlinks href=#hl-32-15>15</a>
</span><span class=lnt id=hl-32-16><a class=lnlinks href=#hl-32-16>16</a>
</span><span class=lnt id=hl-32-17><a class=lnlinks href=#hl-32-17>17</a>
</span><span class=lnt id=hl-32-18><a class=lnlinks href=#hl-32-18>18</a>
</span><span class=lnt id=hl-32-19><a class=lnlinks href=#hl-32-19>19</a>
</span><span class=lnt id=hl-32-20><a class=lnlinks href=#hl-32-20>20</a>
</span><span class=lnt id=hl-32-21><a class=lnlinks href=#hl-32-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>enum</span> <span class=nx>Direction</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>Up</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>Down</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>Left</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>Right</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>walk</span><span class=p>(</span><span class=nx>n</span>: <span class=kt>Direction</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=nx>n</span> <span class=o>===</span> <span class=nx>Direction</span><span class=p>.</span><span class=nx>Up</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;向【上】⾛&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>n</span> <span class=o>===</span> <span class=nx>Direction</span><span class=p>.</span><span class=nx>Down</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;向【下】⾛&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>n</span> <span class=o>===</span> <span class=nx>Direction</span><span class=p>.</span><span class=nx>Left</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;向【左】⾛&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>n</span> <span class=o>===</span> <span class=nx>Direction</span><span class=p>.</span><span class=nx>Right</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;向【右】⾛&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;未知⽅向&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>walk</span><span class=p>(</span><span class=nx>Direction</span><span class=p>.</span><span class=nx>Up</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>walk</span><span class=p>(</span><span class=nx>Direction</span><span class=p>.</span><span class=nx>Down</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h4 id=2-字符串枚举>2. 字符串枚举
<a class=header-anchor href=#2-%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%9e%9a%e4%b8%be></a></h4><p>枚举成员的值是字符串。没有反向映射。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-33-1><a class=lnlinks href=#hl-33-1>1</a>
</span><span class=lnt id=hl-33-2><a class=lnlinks href=#hl-33-2>2</a>
</span><span class=lnt id=hl-33-3><a class=lnlinks href=#hl-33-3>3</a>
</span><span class=lnt id=hl-33-4><a class=lnlinks href=#hl-33-4>4</a>
</span><span class=lnt id=hl-33-5><a class=lnlinks href=#hl-33-5>5</a>
</span><span class=lnt id=hl-33-6><a class=lnlinks href=#hl-33-6>6</a>
</span><span class=lnt id=hl-33-7><a class=lnlinks href=#hl-33-7>7</a>
</span><span class=lnt id=hl-33-8><a class=lnlinks href=#hl-33-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>enum</span> <span class=nx>Direction</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>Up</span> <span class=o>=</span> <span class=s2>&#34;up&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>Down</span> <span class=o>=</span> <span class=s2>&#34;down&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>Left</span> <span class=o>=</span> <span class=s2>&#34;left&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>Right</span> <span class=o>=</span> <span class=s2>&#34;right&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>dir</span>: <span class=kt>Direction</span> <span class=o>=</span> <span class=nx>Direction</span><span class=p>.</span><span class=nx>Up</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>dir</span><span class=p>);</span> <span class=c1>// 输出: &#34;up&#34;
</span></span></span></code></pre></td></tr></table></div></div><h4 id=3-常量枚举>3. 常量枚举
<a class=header-anchor href=#3-%e5%b8%b8%e9%87%8f%e6%9e%9a%e4%b8%be></a></h4><p>官⽅描述:常量枚举是⼀种特殊枚举类型,它使⽤ const 关键字定义,在编译时会被内联,避免⽣成⼀些额外的代码。</p><p>何为编译时内联?
所谓"内联"其实就是 TypeScript 在编译时,会将枚举成员引⽤替换为它们的实际值, ⽽不是⽣成额外的枚举对象。这可以减少⽣成的 JavaScript 代码量,并提⾼运⾏时性能。</p><p>使⽤普通枚举的 TypeScript 代码如下:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-34-1><a class=lnlinks href=#hl-34-1>1</a>
</span><span class=lnt id=hl-34-2><a class=lnlinks href=#hl-34-2>2</a>
</span><span class=lnt id=hl-34-3><a class=lnlinks href=#hl-34-3>3</a>
</span><span class=lnt id=hl-34-4><a class=lnlinks href=#hl-34-4>4</a>
</span><span class=lnt id=hl-34-5><a class=lnlinks href=#hl-34-5>5</a>
</span><span class=lnt id=hl-34-6><a class=lnlinks href=#hl-34-6>6</a>
</span><span class=lnt id=hl-34-7><a class=lnlinks href=#hl-34-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>enum</span> <span class=nx>Directions</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>Up</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>Down</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>Left</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>Right</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>Directions</span><span class=p>.</span><span class=nx>Up</span><span class=p>;</span></span></span></code></pre></td></tr></table></div></div><p>编译后⽣成的 JavaScript 代码量较⼤ :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-35-1><a class=lnlinks href=#hl-35-1>1</a>
</span><span class=lnt id=hl-35-2><a class=lnlinks href=#hl-35-2>2</a>
</span><span class=lnt id=hl-35-3><a class=lnlinks href=#hl-35-3>3</a>
</span><span class=lnt id=hl-35-4><a class=lnlinks href=#hl-35-4>4</a>
</span><span class=lnt id=hl-35-5><a class=lnlinks href=#hl-35-5>5</a>
</span><span class=lnt id=hl-35-6><a class=lnlinks href=#hl-35-6>6</a>
</span><span class=lnt id=hl-35-7><a class=lnlinks href=#hl-35-7>7</a>
</span><span class=lnt id=hl-35-8><a class=lnlinks href=#hl-35-8>8</a>
</span><span class=lnt id=hl-35-9><a class=lnlinks href=#hl-35-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=s2>&#34;use strict&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>Directions</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>Directions</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	 <span class=nx>Directions</span><span class=p>[</span><span class=nx>Directions</span><span class=p>[</span><span class=s2>&#34;Up&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;Up&#34;</span><span class=p>;</span> <span class=c1>// 首先将 `Directions[&#34;Up&#34;]` 设置为 `0`，然后将 `Directions[0]` 设置为 `&#34;Up&#34;`。这使得 `Directions.Up` 的值为 `0`，并且可以通过 `Directions[0]` 获取到 `&#34;Up&#34;`。
</span></span></span><span class=line><span class=cl><span class=c1></span>	 <span class=nx>Directions</span><span class=p>[</span><span class=nx>Directions</span><span class=p>[</span><span class=s2>&#34;Down&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;Down&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	 <span class=nx>Directions</span><span class=p>[</span><span class=nx>Directions</span><span class=p>[</span><span class=s2>&#34;Left&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;Left&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	 <span class=nx>Directions</span><span class=p>[</span><span class=nx>Directions</span><span class=p>[</span><span class=s2>&#34;Right&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>3</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;Right&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>})(</span><span class=nx>Directions</span> <span class=o>||</span> <span class=p>(</span><span class=nx>Directions</span> <span class=o>=</span> <span class=p>{}));</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>Directions</span><span class=p>.</span><span class=nx>Up</span><span class=p>;</span></span></span></code></pre></td></tr></table></div></div><p>使⽤常量枚举的 TypeScript 代码如下:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-36-1><a class=lnlinks href=#hl-36-1>1</a>
</span><span class=lnt id=hl-36-2><a class=lnlinks href=#hl-36-2>2</a>
</span><span class=lnt id=hl-36-3><a class=lnlinks href=#hl-36-3>3</a>
</span><span class=lnt id=hl-36-4><a class=lnlinks href=#hl-36-4>4</a>
</span><span class=lnt id=hl-36-5><a class=lnlinks href=#hl-36-5>5</a>
</span><span class=lnt id=hl-36-6><a class=lnlinks href=#hl-36-6>6</a>
</span><span class=lnt id=hl-36-7><a class=lnlinks href=#hl-36-7>7</a>
</span><span class=lnt id=hl-36-8><a class=lnlinks href=#hl-36-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>const</span> <span class=kr>enum</span><span class=o>|</span><span class=nx>Directions</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>Up</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>Down</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>Left</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>Right</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>Directions</span><span class=p>.</span><span class=nx>Up</span><span class=p>;</span></span></span></code></pre></td></tr></table></div></div><p>编译后⽣成的 JavaScript 代码量较⼩:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-37-1><a class=lnlinks href=#hl-37-1>1</a>
</span><span class=lnt id=hl-37-2><a class=lnlinks href=#hl-37-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=s2>&#34;use strict&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=mi>0</span> <span class=cm>/* Directions.Up */</span><span class=p>;</span></span></span></code></pre></td></tr></table></div></div><h3 id=8type>8.type
<a class=header-anchor href=#8type></a></h3><p>type 可以为任意类型创建别名,让代码更简洁、可读性更强,同时能更⽅便地进⾏类型复⽤和 扩展。</p><h4 id=1基本法>1.基本⽤法
<a class=header-anchor href=#1%e5%9f%ba%e6%9c%ac%e6%b3%95></a></h4><p>类型别名使⽤ type 关键字定义, type 后跟类型名称,例如下⾯代码中 num 是类 型别名。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-38-1><a class=lnlinks href=#hl-38-1>1</a>
</span><span class=lnt id=hl-38-2><a class=lnlinks href=#hl-38-2>2</a>
</span><span class=lnt id=hl-38-3><a class=lnlinks href=#hl-38-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>type</span> <span class=nx>num</span> <span class=o>=</span> <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>Let</span> <span class=nx>price</span>: <span class=kt>num</span>
</span></span><span class=line><span class=cl><span class=nx>price</span> <span class=o>=</span> <span class=mi>100</span></span></span></code></pre></td></tr></table></div></div><h4 id=2-联合类型>2. 联合类型
<a class=header-anchor href=#2-%e8%81%94%e5%90%88%e7%b1%bb%e5%9e%8b></a></h4><p>联合类型是⼀种⾼级类型,它表示⼀个值可以是⼏种不同类型之⼀。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-39-1><a class=lnlinks href=#hl-39-1> 1</a>
</span><span class=lnt id=hl-39-2><a class=lnlinks href=#hl-39-2> 2</a>
</span><span class=lnt id=hl-39-3><a class=lnlinks href=#hl-39-3> 3</a>
</span><span class=lnt id=hl-39-4><a class=lnlinks href=#hl-39-4> 4</a>
</span><span class=lnt id=hl-39-5><a class=lnlinks href=#hl-39-5> 5</a>
</span><span class=lnt id=hl-39-6><a class=lnlinks href=#hl-39-6> 6</a>
</span><span class=lnt id=hl-39-7><a class=lnlinks href=#hl-39-7> 7</a>
</span><span class=lnt id=hl-39-8><a class=lnlinks href=#hl-39-8> 8</a>
</span><span class=lnt id=hl-39-9><a class=lnlinks href=#hl-39-9> 9</a>
</span><span class=lnt id=hl-39-10><a class=lnlinks href=#hl-39-10>10</a>
</span><span class=lnt id=hl-39-11><a class=lnlinks href=#hl-39-11>11</a>
</span><span class=lnt id=hl-39-12><a class=lnlinks href=#hl-39-12>12</a>
</span><span class=lnt id=hl-39-13><a class=lnlinks href=#hl-39-13>13</a>
</span><span class=lnt id=hl-39-14><a class=lnlinks href=#hl-39-14>14</a>
</span><span class=lnt id=hl-39-15><a class=lnlinks href=#hl-39-15>15</a>
</span><span class=lnt id=hl-39-16><a class=lnlinks href=#hl-39-16>16</a>
</span><span class=lnt id=hl-39-17><a class=lnlinks href=#hl-39-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>type</span> <span class=nx>Status</span> <span class=o>=</span> <span class=kt>number</span> <span class=o>|</span> <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>type</span> <span class=nx>Gender</span> <span class=o>=</span> <span class=s1>&#39;男&#39;</span> <span class=o>|</span> <span class=s1>&#39;女&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>printStatus</span><span class=p>(</span><span class=nx>status</span>: <span class=kt>Status</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>status</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>logGender</span><span class=p>(</span><span class=nx>str</span>: <span class=kt>Gender</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>str</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>printStatus</span><span class=p>(</span><span class=mi>404</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>printStatus</span><span class=p>(</span><span class=s1>&#39;200&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>printStatus</span><span class=p>(</span><span class=s1>&#39;501&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>logGender</span><span class=p>(</span><span class=s1>&#39;男&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>logGender</span><span class=p>(</span><span class=s1>&#39;女&#39;</span><span class=p>);</span></span></span></code></pre></td></tr></table></div></div><h4 id=3交叉类型>3.交叉类型
<a class=header-anchor href=#3%e4%ba%a4%e5%8f%89%e7%b1%bb%e5%9e%8b></a></h4><p>交叉类型(Intersection Types)允许将多个类型合并为⼀个类型。合并后的类型将拥有所有被合并类型的成员。交叉类型通常⽤于对象类型。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-40-1><a class=lnlinks href=#hl-40-1> 1</a>
</span><span class=lnt id=hl-40-2><a class=lnlinks href=#hl-40-2> 2</a>
</span><span class=lnt id=hl-40-3><a class=lnlinks href=#hl-40-3> 3</a>
</span><span class=lnt id=hl-40-4><a class=lnlinks href=#hl-40-4> 4</a>
</span><span class=lnt id=hl-40-5><a class=lnlinks href=#hl-40-5> 5</a>
</span><span class=lnt id=hl-40-6><a class=lnlinks href=#hl-40-6> 6</a>
</span><span class=lnt id=hl-40-7><a class=lnlinks href=#hl-40-7> 7</a>
</span><span class=lnt id=hl-40-8><a class=lnlinks href=#hl-40-8> 8</a>
</span><span class=lnt id=hl-40-9><a class=lnlinks href=#hl-40-9> 9</a>
</span><span class=lnt id=hl-40-10><a class=lnlinks href=#hl-40-10>10</a>
</span><span class=lnt id=hl-40-11><a class=lnlinks href=#hl-40-11>11</a>
</span><span class=lnt id=hl-40-12><a class=lnlinks href=#hl-40-12>12</a>
</span><span class=lnt id=hl-40-13><a class=lnlinks href=#hl-40-13>13</a>
</span><span class=lnt id=hl-40-14><a class=lnlinks href=#hl-40-14>14</a>
</span><span class=lnt id=hl-40-15><a class=lnlinks href=#hl-40-15>15</a>
</span><span class=lnt id=hl-40-16><a class=lnlinks href=#hl-40-16>16</a>
</span><span class=lnt id=hl-40-17><a class=lnlinks href=#hl-40-17>17</a>
</span><span class=lnt id=hl-40-18><a class=lnlinks href=#hl-40-18>18</a>
</span><span class=lnt id=hl-40-19><a class=lnlinks href=#hl-40-19>19</a>
</span><span class=lnt id=hl-40-20><a class=lnlinks href=#hl-40-20>20</a>
</span><span class=lnt id=hl-40-21><a class=lnlinks href=#hl-40-21>21</a>
</span><span class=lnt id=hl-40-22><a class=lnlinks href=#hl-40-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>//⾯积
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>type</span> <span class=nx>Area</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>height</span>: <span class=kt>number</span><span class=p>;</span> <span class=c1>//⾼
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>width</span>: <span class=kt>number</span><span class=p>;</span> <span class=c1>//宽
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//地址
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>type</span> <span class=nx>Address</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>num</span>: <span class=kt>number</span><span class=p>;</span> <span class=c1>//楼号
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>cell</span>: <span class=kt>number</span><span class=p>;</span> <span class=c1>//单元号
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>room</span>: <span class=kt>string</span><span class=p>;</span> <span class=c1>//房间号
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 定义类型House,且House是Area和Address组成的交叉类型
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>type</span> <span class=nx>House</span> <span class=o>=</span> <span class=nx>Area</span> <span class=o>&amp;</span> <span class=nx>Address</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kr>const</span> <span class=nx>house</span>: <span class=kt>House</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>height</span>: <span class=kt>180</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>width</span>: <span class=kt>75</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>num</span>: <span class=kt>6</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>cell</span>: <span class=kt>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>room</span><span class=o>:</span> <span class=s1>&#39;702&#39;</span>
</span></span><span class=line><span class=cl><span class=p>};</span></span></span></code></pre></td></tr></table></div></div><h3 id=9-个特殊情况>9. ⼀个特殊情况
<a class=header-anchor href=#9-%e4%b8%aa%e7%89%b9%e6%ae%8a%e6%83%85%e5%86%b5></a></h3><p>先来观察如下两段代码:</p><p>代码段1(正常)
在函数定义时,限制函数返回值为 void ,那么函数的返回值就必须是空。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-41-1><a class=lnlinks href=#hl-41-1> 1</a>
</span><span class=lnt id=hl-41-2><a class=lnlinks href=#hl-41-2> 2</a>
</span><span class=lnt id=hl-41-3><a class=lnlinks href=#hl-41-3> 3</a>
</span><span class=lnt id=hl-41-4><a class=lnlinks href=#hl-41-4> 4</a>
</span><span class=lnt id=hl-41-5><a class=lnlinks href=#hl-41-5> 5</a>
</span><span class=lnt id=hl-41-6><a class=lnlinks href=#hl-41-6> 6</a>
</span><span class=lnt id=hl-41-7><a class=lnlinks href=#hl-41-7> 7</a>
</span><span class=lnt id=hl-41-8><a class=lnlinks href=#hl-41-8> 8</a>
</span><span class=lnt id=hl-41-9><a class=lnlinks href=#hl-41-9> 9</a>
</span><span class=lnt id=hl-41-10><a class=lnlinks href=#hl-41-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kd>function</span> <span class=nx>demo</span><span class=p>()</span><span class=o>:</span><span class=k>void</span><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 返回undefined合法
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>return</span> <span class=kc>undefined</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 以下返回均不合法
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>return</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=kc>null</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>demo</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><p>代码段2(特殊)</p><p>使⽤ 限制函数返回值为 void 时, <strong>TypeScript</strong> 并不会严格要求函数返回空。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-42-1><a class=lnlinks href=#hl-42-1> 1</a>
</span><span class=lnt id=hl-42-2><a class=lnlinks href=#hl-42-2> 2</a>
</span><span class=lnt id=hl-42-3><a class=lnlinks href=#hl-42-3> 3</a>
</span><span class=lnt id=hl-42-4><a class=lnlinks href=#hl-42-4> 4</a>
</span><span class=lnt id=hl-42-5><a class=lnlinks href=#hl-42-5> 5</a>
</span><span class=lnt id=hl-42-6><a class=lnlinks href=#hl-42-6> 6</a>
</span><span class=lnt id=hl-42-7><a class=lnlinks href=#hl-42-7> 7</a>
</span><span class=lnt id=hl-42-8><a class=lnlinks href=#hl-42-8> 8</a>
</span><span class=lnt id=hl-42-9><a class=lnlinks href=#hl-42-9> 9</a>
</span><span class=lnt id=hl-42-10><a class=lnlinks href=#hl-42-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>type</span> <span class=nx>LogFunc</span> <span class=o>=</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=k>void</span>  <span class=c1>// LogFunc的类型是一个函数，该函数不接受任何参数，并且其返回值是void类型的
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>f1</span>: <span class=kt>LogFunc</span> <span class=o>=</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	 <span class=k>return</span> <span class=mi>100</span><span class=p>;</span> <span class=c1>// 允许返回⾮空值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>f2</span>: <span class=kt>LogFunc</span> <span class=o>=</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=mi>200</span><span class=p>;</span> <span class=c1>// 允许返回⾮空值
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>f3</span>: <span class=kt>LogFunc</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=mi>300</span><span class=p>;</span> <span class=c1>// 允许返回⾮空值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span></span></span></code></pre></td></tr></table></div></div><p>另一种写法：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-43-1><a class=lnlinks href=#hl-43-1> 1</a>
</span><span class=lnt id=hl-43-2><a class=lnlinks href=#hl-43-2> 2</a>
</span><span class=lnt id=hl-43-3><a class=lnlinks href=#hl-43-3> 3</a>
</span><span class=lnt id=hl-43-4><a class=lnlinks href=#hl-43-4> 4</a>
</span><span class=lnt id=hl-43-5><a class=lnlinks href=#hl-43-5> 5</a>
</span><span class=lnt id=hl-43-6><a class=lnlinks href=#hl-43-6> 6</a>
</span><span class=lnt id=hl-43-7><a class=lnlinks href=#hl-43-7> 7</a>
</span><span class=lnt id=hl-43-8><a class=lnlinks href=#hl-43-8> 8</a>
</span><span class=lnt id=hl-43-9><a class=lnlinks href=#hl-43-9> 9</a>
</span><span class=lnt id=hl-43-10><a class=lnlinks href=#hl-43-10>10</a>
</span><span class=lnt id=hl-43-11><a class=lnlinks href=#hl-43-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kd>let</span> <span class=nx>PrintData</span><span class=o>:</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=k>void</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>PrintData</span> <span class=o>=</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=mi>100</span><span class=p>;</span> <span class=c1>// 允许返回非空值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>PrintData</span> <span class=o>=</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=mi>200</span><span class=p>;</span> <span class=c1>// 允许返回非空值
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>PrintData</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=mi>300</span><span class=p>;</span> <span class=c1>// 允许返回非空值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span></span></span></code></pre></td></tr></table></div></div><p>为什么会这样?
是为了确保如下代码成⽴,我们知道 Array.prototype.push 的返回值是⼀个数字, ⽽ Array.prototype.forEach ⽅法期望其回调的返回类型是 void 。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-44-1><a class=lnlinks href=#hl-44-1>1</a>
</span><span class=lnt id=hl-44-2><a class=lnlinks href=#hl-44-2>2</a>
</span><span class=lnt id=hl-44-3><a class=lnlinks href=#hl-44-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>const</span> <span class=nx>src</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>dst</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=nx>src</span><span class=p>.</span><span class=nx>forEach</span><span class=p>((</span><span class=nx>el</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=nx>dst</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>el</span><span class=p>));</span>  <span class=c1>//箭头函数的简写形式。此时,dst.push(el)会被作为返回值
</span></span></span></code></pre></td></tr></table></div></div><p>官⽅⽂档的说明:
<a href=https://www.typescriptlang.org/docs/handbook/2/functions.html#assignability-of-functions title="Assignability of Functions" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Assignability of Functions
<i class="fa fa-external-link-alt"></i></a></p><h3 id=10-复习类相关知识>10. 复习类相关知识
<a class=header-anchor href=#10-%e5%a4%8d%e4%b9%a0%e7%b1%bb%e7%9b%b8%e5%85%b3%e7%9f%a5%e8%af%86></a></h3><p>本⼩节是复习类相关知识,如果有相关基础可以跳过。</p><p>类 class</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-45-1><a class=lnlinks href=#hl-45-1> 1</a>
</span><span class=lnt id=hl-45-2><a class=lnlinks href=#hl-45-2> 2</a>
</span><span class=lnt id=hl-45-3><a class=lnlinks href=#hl-45-3> 3</a>
</span><span class=lnt id=hl-45-4><a class=lnlinks href=#hl-45-4> 4</a>
</span><span class=lnt id=hl-45-5><a class=lnlinks href=#hl-45-5> 5</a>
</span><span class=lnt id=hl-45-6><a class=lnlinks href=#hl-45-6> 6</a>
</span><span class=lnt id=hl-45-7><a class=lnlinks href=#hl-45-7> 7</a>
</span><span class=lnt id=hl-45-8><a class=lnlinks href=#hl-45-8> 8</a>
</span><span class=lnt id=hl-45-9><a class=lnlinks href=#hl-45-9> 9</a>
</span><span class=lnt id=hl-45-10><a class=lnlinks href=#hl-45-10>10</a>
</span><span class=lnt id=hl-45-11><a class=lnlinks href=#hl-45-11>11</a>
</span><span class=lnt id=hl-45-12><a class=lnlinks href=#hl-45-12>12</a>
</span><span class=lnt id=hl-45-13><a class=lnlinks href=#hl-45-13>13</a>
</span><span class=lnt id=hl-45-14><a class=lnlinks href=#hl-45-14>14</a>
</span><span class=lnt id=hl-45-15><a class=lnlinks href=#hl-45-15>15</a>
</span><span class=lnt id=hl-45-16><a class=lnlinks href=#hl-45-16>16</a>
</span><span class=lnt id=hl-45-17><a class=lnlinks href=#hl-45-17>17</a>
</span><span class=lnt id=hl-45-18><a class=lnlinks href=#hl-45-18>18</a>
</span><span class=lnt id=hl-45-19><a class=lnlinks href=#hl-45-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 属性声明
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nx>age</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=c1>// 构造器
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kr>constructor</span><span class=p>(</span><span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=nx>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>age</span> <span class=o>=</span> <span class=nx>age</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=c1>// 方法
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>speak() {</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`我叫: </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>, 今年</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>age</span><span class=si>}</span><span class=sb>岁`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Person实例
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>p1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>(</span><span class=s1>&#39;周杰伦&#39;</span><span class=p>,</span> <span class=mi>38</span><span class=p>);</span></span></span></code></pre></td></tr></table></div></div><p>Student 继承 Person</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-46-1><a class=lnlinks href=#hl-46-1> 1</a>
</span><span class=lnt id=hl-46-2><a class=lnlinks href=#hl-46-2> 2</a>
</span><span class=lnt id=hl-46-3><a class=lnlinks href=#hl-46-3> 3</a>
</span><span class=lnt id=hl-46-4><a class=lnlinks href=#hl-46-4> 4</a>
</span><span class=lnt id=hl-46-5><a class=lnlinks href=#hl-46-5> 5</a>
</span><span class=lnt id=hl-46-6><a class=lnlinks href=#hl-46-6> 6</a>
</span><span class=lnt id=hl-46-7><a class=lnlinks href=#hl-46-7> 7</a>
</span><span class=lnt id=hl-46-8><a class=lnlinks href=#hl-46-8> 8</a>
</span><span class=lnt id=hl-46-9><a class=lnlinks href=#hl-46-9> 9</a>
</span><span class=lnt id=hl-46-10><a class=lnlinks href=#hl-46-10>10</a>
</span><span class=lnt id=hl-46-11><a class=lnlinks href=#hl-46-11>11</a>
</span><span class=lnt id=hl-46-12><a class=lnlinks href=#hl-46-12>12</a>
</span><span class=lnt id=hl-46-13><a class=lnlinks href=#hl-46-13>13</a>
</span><span class=lnt id=hl-46-14><a class=lnlinks href=#hl-46-14>14</a>
</span><span class=lnt id=hl-46-15><a class=lnlinks href=#hl-46-15>15</a>
</span><span class=lnt id=hl-46-16><a class=lnlinks href=#hl-46-16>16</a>
</span><span class=lnt id=hl-46-17><a class=lnlinks href=#hl-46-17>17</a>
</span><span class=lnt id=hl-46-18><a class=lnlinks href=#hl-46-18>18</a>
</span><span class=lnt id=hl-46-19><a class=lnlinks href=#hl-46-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Student</span> <span class=kr>extends</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>grade</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=c1>// 构造器
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kr>constructor</span><span class=p>(</span><span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>,</span> <span class=nx>grade</span>: <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>super</span><span class=p>(</span><span class=nx>name</span><span class=p>,</span> <span class=nx>age</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>grade</span> <span class=o>=</span> <span class=nx>grade</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 备注本例中若Student类不需要额外的属性，Student的构造器可以省略
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// 重写从父类继承的方法
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>override</span> <span class=nx>speak() {</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`我是学生，我叫: </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>，今年</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>age</span><span class=si>}</span><span class=sb>岁，在读</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>grade</span><span class=si>}</span><span class=sb>年级`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=c1>// 子类自己的方法
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>study() {</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>正在努力学习中......`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><h3 id=11-属性修饰符>11. 属性修饰符
<a class=header-anchor href=#11-%e5%b1%9e%e6%80%a7%e4%bf%ae%e9%a5%b0%e7%ac%a6></a></h3><table><thead><tr><th>修饰符</th><th>含义</th><th>具体规则</th></tr></thead><tbody><tr><td>public</td><td>公开的</td><td>可以被:类内部、子类、类外部访问。</td></tr><tr><td>protected</td><td>受保护的</td><td>可以被: 类内部、子类访问。</td></tr><tr><td>private</td><td>私有的</td><td>可以被: 类内部访问。</td></tr><tr><td>readonly</td><td>只读属性</td><td>属性无法修改。</td></tr></tbody></table><h4 id=public-修饰符>public 修饰符
<a class=header-anchor href=#public-%e4%bf%ae%e9%a5%b0%e7%ac%a6></a></h4><p>Person 类</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-47-1><a class=lnlinks href=#hl-47-1> 1</a>
</span><span class=lnt id=hl-47-2><a class=lnlinks href=#hl-47-2> 2</a>
</span><span class=lnt id=hl-47-3><a class=lnlinks href=#hl-47-3> 3</a>
</span><span class=lnt id=hl-47-4><a class=lnlinks href=#hl-47-4> 4</a>
</span><span class=lnt id=hl-47-5><a class=lnlinks href=#hl-47-5> 5</a>
</span><span class=lnt id=hl-47-6><a class=lnlinks href=#hl-47-6> 6</a>
</span><span class=lnt id=hl-47-7><a class=lnlinks href=#hl-47-7> 7</a>
</span><span class=lnt id=hl-47-8><a class=lnlinks href=#hl-47-8> 8</a>
</span><span class=lnt id=hl-47-9><a class=lnlinks href=#hl-47-9> 9</a>
</span><span class=lnt id=hl-47-10><a class=lnlinks href=#hl-47-10>10</a>
</span><span class=lnt id=hl-47-11><a class=lnlinks href=#hl-47-11>11</a>
</span><span class=lnt id=hl-47-12><a class=lnlinks href=#hl-47-12>12</a>
</span><span class=lnt id=hl-47-13><a class=lnlinks href=#hl-47-13>13</a>
</span><span class=lnt id=hl-47-14><a class=lnlinks href=#hl-47-14>14</a>
</span><span class=lnt id=hl-47-15><a class=lnlinks href=#hl-47-15>15</a>
</span><span class=lnt id=hl-47-16><a class=lnlinks href=#hl-47-16>16</a>
</span><span class=lnt id=hl-47-17><a class=lnlinks href=#hl-47-17>17</a>
</span><span class=lnt id=hl-47-18><a class=lnlinks href=#hl-47-18>18</a>
</span><span class=lnt id=hl-47-19><a class=lnlinks href=#hl-47-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// name写了public修饰符，age没写修饰符，最终都是public修饰符
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kr>public</span> <span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nx>age</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(</span><span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=nx>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>age</span> <span class=o>=</span> <span class=nx>age</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=nx>speak() {</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 类的内部可以访问public修饰的name和age
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`我叫: </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>, 今年</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>age</span><span class=si>}</span><span class=sb>岁`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>p1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>(</span><span class=s1>&#39;张三&#39;</span><span class=p>,</span> <span class=mi>18</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// 类的外部可以访问public修饰的属性
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>p1</span><span class=p>.</span><span class=nx>name</span><span class=p>);</span></span></span></code></pre></td></tr></table></div></div><p>Student 继承 Person</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-48-1><a class=lnlinks href=#hl-48-1> 1</a>
</span><span class=lnt id=hl-48-2><a class=lnlinks href=#hl-48-2> 2</a>
</span><span class=lnt id=hl-48-3><a class=lnlinks href=#hl-48-3> 3</a>
</span><span class=lnt id=hl-48-4><a class=lnlinks href=#hl-48-4> 4</a>
</span><span class=lnt id=hl-48-5><a class=lnlinks href=#hl-48-5> 5</a>
</span><span class=lnt id=hl-48-6><a class=lnlinks href=#hl-48-6> 6</a>
</span><span class=lnt id=hl-48-7><a class=lnlinks href=#hl-48-7> 7</a>
</span><span class=lnt id=hl-48-8><a class=lnlinks href=#hl-48-8> 8</a>
</span><span class=lnt id=hl-48-9><a class=lnlinks href=#hl-48-9> 9</a>
</span><span class=lnt id=hl-48-10><a class=lnlinks href=#hl-48-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Student</span> <span class=kr>extends</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(</span><span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>super</span><span class=p>(</span><span class=nx>name</span><span class=p>,</span> <span class=nx>age</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=nx>study() {</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 【子类中】可以访问父类中public修饰的：name属性、age属性
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>age</span><span class=si>}</span><span class=sb>岁的</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>正在努力学习`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><p>属性的简写形式
完整写法</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-49-1><a class=lnlinks href=#hl-49-1> 1</a>
</span><span class=lnt id=hl-49-2><a class=lnlinks href=#hl-49-2> 2</a>
</span><span class=lnt id=hl-49-3><a class=lnlinks href=#hl-49-3> 3</a>
</span><span class=lnt id=hl-49-4><a class=lnlinks href=#hl-49-4> 4</a>
</span><span class=lnt id=hl-49-5><a class=lnlinks href=#hl-49-5> 5</a>
</span><span class=lnt id=hl-49-6><a class=lnlinks href=#hl-49-6> 6</a>
</span><span class=lnt id=hl-49-7><a class=lnlinks href=#hl-49-7> 7</a>
</span><span class=lnt id=hl-49-8><a class=lnlinks href=#hl-49-8> 8</a>
</span><span class=lnt id=hl-49-9><a class=lnlinks href=#hl-49-9> 9</a>
</span><span class=lnt id=hl-49-10><a class=lnlinks href=#hl-49-10>10</a>
</span><span class=lnt id=hl-49-11><a class=lnlinks href=#hl-49-11>11</a>
</span><span class=lnt id=hl-49-12><a class=lnlinks href=#hl-49-12>12</a>
</span><span class=lnt id=hl-49-13><a class=lnlinks href=#hl-49-13>13</a>
</span><span class=lnt id=hl-49-14><a class=lnlinks href=#hl-49-14>14</a>
</span><span class=lnt id=hl-49-15><a class=lnlinks href=#hl-49-15>15</a>
</span><span class=lnt id=hl-49-16><a class=lnlinks href=#hl-49-16>16</a>
</span><span class=lnt id=hl-49-17><a class=lnlinks href=#hl-49-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>public</span> <span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kr>public</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err>​</span>
</span></span><span class=line><span class=cl>    <span class=kr>constructor</span><span class=p>(</span><span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=nx>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>age</span> <span class=o>=</span> <span class=nx>age</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>​</span><span class=sb>```
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb>简写形式
</span></span></span><span class=line><span class=cl><span class=sb>```</span><span class=nx>ts</span>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>constructor</span><span class=p>(</span><span class=kr>public</span> <span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span> <span class=kr>public</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><h4 id=protected-修饰符>protected 修饰符
<a class=header-anchor href=#protected-%e4%bf%ae%e9%a5%b0%e7%ac%a6></a></h4><p>Person类</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-50-1><a class=lnlinks href=#hl-50-1> 1</a>
</span><span class=lnt id=hl-50-2><a class=lnlinks href=#hl-50-2> 2</a>
</span><span class=lnt id=hl-50-3><a class=lnlinks href=#hl-50-3> 3</a>
</span><span class=lnt id=hl-50-4><a class=lnlinks href=#hl-50-4> 4</a>
</span><span class=lnt id=hl-50-5><a class=lnlinks href=#hl-50-5> 5</a>
</span><span class=lnt id=hl-50-6><a class=lnlinks href=#hl-50-6> 6</a>
</span><span class=lnt id=hl-50-7><a class=lnlinks href=#hl-50-7> 7</a>
</span><span class=lnt id=hl-50-8><a class=lnlinks href=#hl-50-8> 8</a>
</span><span class=lnt id=hl-50-9><a class=lnlinks href=#hl-50-9> 9</a>
</span><span class=lnt id=hl-50-10><a class=lnlinks href=#hl-50-10>10</a>
</span><span class=lnt id=hl-50-11><a class=lnlinks href=#hl-50-11>11</a>
</span><span class=lnt id=hl-50-12><a class=lnlinks href=#hl-50-12>12</a>
</span><span class=lnt id=hl-50-13><a class=lnlinks href=#hl-50-13>13</a>
</span><span class=lnt id=hl-50-14><a class=lnlinks href=#hl-50-14>14</a>
</span><span class=lnt id=hl-50-15><a class=lnlinks href=#hl-50-15>15</a>
</span><span class=lnt id=hl-50-16><a class=lnlinks href=#hl-50-16>16</a>
</span><span class=lnt id=hl-50-17><a class=lnlinks href=#hl-50-17>17</a>
</span><span class=lnt id=hl-50-18><a class=lnlinks href=#hl-50-18>18</a>
</span><span class=lnt id=hl-50-19><a class=lnlinks href=#hl-50-19>19</a>
</span><span class=lnt id=hl-50-20><a class=lnlinks href=#hl-50-20>20</a>
</span><span class=lnt id=hl-50-21><a class=lnlinks href=#hl-50-21>21</a>
</span><span class=lnt id=hl-50-22><a class=lnlinks href=#hl-50-22>22</a>
</span><span class=lnt id=hl-50-23><a class=lnlinks href=#hl-50-23>23</a>
</span><span class=lnt id=hl-50-24><a class=lnlinks href=#hl-50-24>24</a>
</span><span class=lnt id=hl-50-25><a class=lnlinks href=#hl-50-25>25</a>
</span><span class=lnt id=hl-50-26><a class=lnlinks href=#hl-50-26>26</a>
</span><span class=lnt id=hl-50-27><a class=lnlinks href=#hl-50-27>27</a>
</span><span class=lnt id=hl-50-28><a class=lnlinks href=#hl-50-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// name和age是受保护属性，不能在类外部访问，但可以在类与子类中访问
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>protected</span> <span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kr>protected</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>constructor</span><span class=p>(</span><span class=kr>protected</span> <span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span> <span class=kr>protected</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// getDetails是受保护方法，不能在类外部访问，但可以在类与子类中访问
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>protected</span> <span class=nx>getDetails</span><span class=p>()</span><span class=o>:</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 类中能访问受保护的name和age属性
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=sb>`我叫: </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>, 年龄是: </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>age</span><span class=si>}</span><span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// introduce是公开方法，类、子类、类外部都能使用
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>introduce() {</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 类中能访问受保护的getDetails方法
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>getDetails</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>p1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>(</span><span class=s1>&#39;杨超越&#39;</span><span class=p>,</span> <span class=mi>18</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// 可以在类外部访问introduce
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>p1</span><span class=p>.</span><span class=nx>introduce</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 以下代码均报错
</span></span></span><span class=line><span class=cl><span class=c1>// p1.getDetails();
</span></span></span><span class=line><span class=cl><span class=c1>// p1.name;
</span></span></span><span class=line><span class=cl><span class=c1>// p1.age;
</span></span></span></code></pre></td></tr></table></div></div><p>Student 继承 Person</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-51-1><a class=lnlinks href=#hl-51-1> 1</a>
</span><span class=lnt id=hl-51-2><a class=lnlinks href=#hl-51-2> 2</a>
</span><span class=lnt id=hl-51-3><a class=lnlinks href=#hl-51-3> 3</a>
</span><span class=lnt id=hl-51-4><a class=lnlinks href=#hl-51-4> 4</a>
</span><span class=lnt id=hl-51-5><a class=lnlinks href=#hl-51-5> 5</a>
</span><span class=lnt id=hl-51-6><a class=lnlinks href=#hl-51-6> 6</a>
</span><span class=lnt id=hl-51-7><a class=lnlinks href=#hl-51-7> 7</a>
</span><span class=lnt id=hl-51-8><a class=lnlinks href=#hl-51-8> 8</a>
</span><span class=lnt id=hl-51-9><a class=lnlinks href=#hl-51-9> 9</a>
</span><span class=lnt id=hl-51-10><a class=lnlinks href=#hl-51-10>10</a>
</span><span class=lnt id=hl-51-11><a class=lnlinks href=#hl-51-11>11</a>
</span><span class=lnt id=hl-51-12><a class=lnlinks href=#hl-51-12>12</a>
</span><span class=lnt id=hl-51-13><a class=lnlinks href=#hl-51-13>13</a>
</span><span class=lnt id=hl-51-14><a class=lnlinks href=#hl-51-14>14</a>
</span><span class=lnt id=hl-51-15><a class=lnlinks href=#hl-51-15>15</a>
</span><span class=lnt id=hl-51-16><a class=lnlinks href=#hl-51-16>16</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=nx>TypeScript</span>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Student</span> <span class=kr>extends</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>constructor</span><span class=p>(</span><span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>super</span><span class=p>(</span><span class=nx>name</span><span class=p>,</span> <span class=nx>age</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>study() {</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 子类中可以访问introduce
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>introduce</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 子类中可以访问name
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>正在努力学习`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>s1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Student</span><span class=p>(</span><span class=s1>&#39;tom&#39;</span><span class=p>,</span> <span class=mi>17</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>s1</span><span class=p>.</span><span class=nx>introduce</span><span class=p>();</span></span></span></code></pre></td></tr></table></div></div><h4 id=private-修饰符>private 修饰符
<a class=header-anchor href=#private-%e4%bf%ae%e9%a5%b0%e7%ac%a6></a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-52-1><a class=lnlinks href=#hl-52-1> 1</a>
</span><span class=lnt id=hl-52-2><a class=lnlinks href=#hl-52-2> 2</a>
</span><span class=lnt id=hl-52-3><a class=lnlinks href=#hl-52-3> 3</a>
</span><span class=lnt id=hl-52-4><a class=lnlinks href=#hl-52-4> 4</a>
</span><span class=lnt id=hl-52-5><a class=lnlinks href=#hl-52-5> 5</a>
</span><span class=lnt id=hl-52-6><a class=lnlinks href=#hl-52-6> 6</a>
</span><span class=lnt id=hl-52-7><a class=lnlinks href=#hl-52-7> 7</a>
</span><span class=lnt id=hl-52-8><a class=lnlinks href=#hl-52-8> 8</a>
</span><span class=lnt id=hl-52-9><a class=lnlinks href=#hl-52-9> 9</a>
</span><span class=lnt id=hl-52-10><a class=lnlinks href=#hl-52-10>10</a>
</span><span class=lnt id=hl-52-11><a class=lnlinks href=#hl-52-11>11</a>
</span><span class=lnt id=hl-52-12><a class=lnlinks href=#hl-52-12>12</a>
</span><span class=lnt id=hl-52-13><a class=lnlinks href=#hl-52-13>13</a>
</span><span class=lnt id=hl-52-14><a class=lnlinks href=#hl-52-14>14</a>
</span><span class=lnt id=hl-52-15><a class=lnlinks href=#hl-52-15>15</a>
</span><span class=lnt id=hl-52-16><a class=lnlinks href=#hl-52-16>16</a>
</span><span class=lnt id=hl-52-17><a class=lnlinks href=#hl-52-17>17</a>
</span><span class=lnt id=hl-52-18><a class=lnlinks href=#hl-52-18>18</a>
</span><span class=lnt id=hl-52-19><a class=lnlinks href=#hl-52-19>19</a>
</span><span class=lnt id=hl-52-20><a class=lnlinks href=#hl-52-20>20</a>
</span><span class=lnt id=hl-52-21><a class=lnlinks href=#hl-52-21>21</a>
</span><span class=lnt id=hl-52-22><a class=lnlinks href=#hl-52-22>22</a>
</span><span class=lnt id=hl-52-23><a class=lnlinks href=#hl-52-23>23</a>
</span><span class=lnt id=hl-52-24><a class=lnlinks href=#hl-52-24>24</a>
</span><span class=lnt id=hl-52-25><a class=lnlinks href=#hl-52-25>25</a>
</span><span class=lnt id=hl-52-26><a class=lnlinks href=#hl-52-26>26</a>
</span><span class=lnt id=hl-52-27><a class=lnlinks href=#hl-52-27>27</a>
</span><span class=lnt id=hl-52-28><a class=lnlinks href=#hl-52-28>28</a>
</span><span class=lnt id=hl-52-29><a class=lnlinks href=#hl-52-29>29</a>
</span><span class=lnt id=hl-52-30><a class=lnlinks href=#hl-52-30>30</a>
</span><span class=lnt id=hl-52-31><a class=lnlinks href=#hl-52-31>31</a>
</span><span class=lnt id=hl-52-32><a class=lnlinks href=#hl-52-32>32</a>
</span><span class=lnt id=hl-52-33><a class=lnlinks href=#hl-52-33>33</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(</span>
</span></span><span class=line><span class=cl>	<span class=kr>public</span> <span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=kr>public</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=c1>// IDCard属性为私有的(private)属性，只能在类内部使用
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kr>private</span> <span class=nx>IDCard</span>: <span class=kt>string</span>
</span></span><span class=line><span class=cl>	<span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>	<span class=err>​</span>
</span></span><span class=line><span class=cl>	<span class=kr>private</span> <span class=nx>getPrivateInfo() {</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 类内部可以访问私有的(private)属性-IDCard
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>return</span> <span class=sb>`身份证号码为: </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>IDCard</span><span class=si>}</span><span class=sb>`</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=err>​</span>
</span></span><span class=line><span class=cl>	<span class=nx>getInfo() {</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 类内部可以访问受保护的(protected)属性name和age
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>return</span> <span class=sb>`我叫: </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>，今年刚满</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>age</span><span class=si>}</span><span class=sb>岁`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=err>​</span>
</span></span><span class=line><span class=cl>	<span class=nx>getFullInfo() {</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 类内部可以访问公开的getInfo方法，也可以访问私有的getPrivateInfo方法
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>getInfo</span><span class=p>()</span> <span class=o>+</span> <span class=s1>&#39;,&#39;</span> <span class=o>+</span> <span class=k>this</span><span class=p>.</span><span class=nx>getPrivateInfo</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>​</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>p1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>(</span><span class=s1>&#39;张三&#39;</span><span class=p>,</span> <span class=mi>18</span><span class=p>,</span> <span class=s1>&#39;110114198702034432&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>p1</span><span class=p>.</span><span class=nx>getFullInfo</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>p1</span><span class=p>.</span><span class=nx>getInfo</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=err>​</span>
</span></span><span class=line><span class=cl><span class=c1>// 以下代码均报错
</span></span></span><span class=line><span class=cl><span class=c1>// p1.name
</span></span></span><span class=line><span class=cl><span class=c1>// p1.age
</span></span></span><span class=line><span class=cl><span class=c1>// p1.IDCard
</span></span></span><span class=line><span class=cl><span class=c1>// p1.getPrivateInfo()
</span></span></span></code></pre></td></tr></table></div></div><h4 id=readonly-修饰符>readonly 修饰符
<a class=header-anchor href=#readonly-%e4%bf%ae%e9%a5%b0%e7%ac%a6></a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-53-1><a class=lnlinks href=#hl-53-1> 1</a>
</span><span class=lnt id=hl-53-2><a class=lnlinks href=#hl-53-2> 2</a>
</span><span class=lnt id=hl-53-3><a class=lnlinks href=#hl-53-3> 3</a>
</span><span class=lnt id=hl-53-4><a class=lnlinks href=#hl-53-4> 4</a>
</span><span class=lnt id=hl-53-5><a class=lnlinks href=#hl-53-5> 5</a>
</span><span class=lnt id=hl-53-6><a class=lnlinks href=#hl-53-6> 6</a>
</span><span class=lnt id=hl-53-7><a class=lnlinks href=#hl-53-7> 7</a>
</span><span class=lnt id=hl-53-8><a class=lnlinks href=#hl-53-8> 8</a>
</span><span class=lnt id=hl-53-9><a class=lnlinks href=#hl-53-9> 9</a>
</span><span class=lnt id=hl-53-10><a class=lnlinks href=#hl-53-10>10</a>
</span><span class=lnt id=hl-53-11><a class=lnlinks href=#hl-53-11>11</a>
</span><span class=lnt id=hl-53-12><a class=lnlinks href=#hl-53-12>12</a>
</span><span class=lnt id=hl-53-13><a class=lnlinks href=#hl-53-13>13</a>
</span><span class=lnt id=hl-53-14><a class=lnlinks href=#hl-53-14>14</a>
</span><span class=lnt id=hl-53-15><a class=lnlinks href=#hl-53-15>15</a>
</span><span class=lnt id=hl-53-16><a class=lnlinks href=#hl-53-16>16</a>
</span><span class=lnt id=hl-53-17><a class=lnlinks href=#hl-53-17>17</a>
</span><span class=lnt id=hl-53-18><a class=lnlinks href=#hl-53-18>18</a>
</span><span class=lnt id=hl-53-19><a class=lnlinks href=#hl-53-19>19</a>
</span><span class=lnt id=hl-53-20><a class=lnlinks href=#hl-53-20>20</a>
</span><span class=lnt id=hl-53-21><a class=lnlinks href=#hl-53-21>21</a>
</span><span class=lnt id=hl-53-22><a class=lnlinks href=#hl-53-22>22</a>
</span><span class=lnt id=hl-53-23><a class=lnlinks href=#hl-53-23>23</a>
</span><span class=lnt id=hl-53-24><a class=lnlinks href=#hl-53-24>24</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Car</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	 <span class=kr>constructor</span><span class=p>(</span>
</span></span><span class=line><span class=cl>		 <span class=kr>public</span> <span class=kr>readonly</span> <span class=nx>vin</span>: <span class=kt>string</span><span class=p>,</span> <span class=c1>//⻋辆识别码,为只读属性
</span></span></span><span class=line><span class=cl><span class=c1></span>		 <span class=kr>public</span> <span class=kr>readonly</span> <span class=nx>year</span>: <span class=kt>number</span><span class=p>,</span><span class=c1>//出⼚年份,为只读属性
</span></span></span><span class=line><span class=cl><span class=c1></span>		 <span class=kr>public</span> <span class=nx>color</span>: <span class=kt>string</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		 <span class=kr>public</span> <span class=nx>sound</span>: <span class=kt>string</span>
</span></span><span class=line><span class=cl> <span class=p>)</span> <span class=p>{</span> <span class=p>}</span>
</span></span><span class=line><span class=cl> <span class=c1>// 打印⻋辆信息
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=nx>displayInfo() {</span>
</span></span><span class=line><span class=cl>	 <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`
</span></span></span><span class=line><span class=cl><span class=sb>	 识别码:</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>vin</span><span class=si>}</span><span class=sb>,
</span></span></span><span class=line><span class=cl><span class=sb>	 出⼚年份:</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>year</span><span class=si>}</span><span class=sb>,
</span></span></span><span class=line><span class=cl><span class=sb>	 颜⾊:</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>color</span><span class=si>}</span><span class=sb>,
</span></span></span><span class=line><span class=cl><span class=sb>	 ⾳响:</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>sound</span><span class=si>}</span><span class=sb>
</span></span></span><span class=line><span class=cl><span class=sb> `</span><span class=p>);</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>car</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Car</span><span class=p>(</span><span class=s1>&#39;1HGCM82633A123456&#39;</span><span class=p>,</span> <span class=mi>2018</span><span class=p>,</span> <span class=s1>&#39;⿊⾊&#39;</span><span class=p>,</span> <span class=s1>&#39;Bose⾳响&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>car</span><span class=p>.</span><span class=nx>displayInfo</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 以下代码均错误:不能修改 readonly 属性
</span></span></span><span class=line><span class=cl><span class=c1>// car.vin = &#39;897WYE87HA8SGDD8SDGHF&#39;; 
</span></span></span><span class=line><span class=cl><span class=c1>// car.year = 2020;
</span></span></span></code></pre></td></tr></table></div></div><h3 id=12-抽象类>12. 抽象类
<a class=header-anchor href=#12-%e6%8a%bd%e8%b1%a1%e7%b1%bb></a></h3><ul><li>概述:抽象类是⼀种⽆法被实例化的类,专⻔⽤来定义类的结构和⾏为,类中可以写抽象 ⽅法,也可以写具体实现。抽象类主要⽤来为其派⽣类提供⼀个基础结构,要求其派⽣类 必须实现其中的抽象⽅法。</li><li>简记:抽象类==不能实例化==,其意义是==可以被继承==,抽象类⾥可以有==普通⽅法==、也可以有==抽象⽅法==。</li></ul><h5 id=通过以下场景理解抽象类>通过以下场景,理解抽象类:
<a class=header-anchor href=#%e9%80%9a%e8%bf%87%e4%bb%a5%e4%b8%8b%e5%9c%ba%e6%99%af%e7%90%86%e8%a7%a3%e6%8a%bd%e8%b1%a1%e7%b1%bb></a></h5><p>我们定义⼀个抽象类 Package ,表示所有包裹的基本结构,任何包裹都有重量属性 weigh t ,包裹都需要计算运费。但不同类型的包裹(如:标准速度、特快专递)都有不同的运费计算 ⽅式,因此⽤于计算运费的 calculate ⽅法是⼀个抽象⽅法,必须由具体的⼦类来实现。</p><p>Package 类 TypeScript</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-54-1><a class=lnlinks href=#hl-54-1>1</a>
</span><span class=lnt id=hl-54-2><a class=lnlinks href=#hl-54-2>2</a>
</span><span class=lnt id=hl-54-3><a class=lnlinks href=#hl-54-3>3</a>
</span><span class=lnt id=hl-54-4><a class=lnlinks href=#hl-54-4>4</a>
</span><span class=lnt id=hl-54-5><a class=lnlinks href=#hl-54-5>5</a>
</span><span class=lnt id=hl-54-6><a class=lnlinks href=#hl-54-6>6</a>
</span><span class=lnt id=hl-54-7><a class=lnlinks href=#hl-54-7>7</a>
</span><span class=lnt id=hl-54-8><a class=lnlinks href=#hl-54-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>abstract</span> <span class=kr>class</span> <span class=nx>Package</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(</span><span class=kr>public</span> <span class=nx>weight</span>: <span class=kt>number</span><span class=p>){}</span> 
</span></span><span class=line><span class=cl>	<span class=c1>// 抽象⽅法:⽤来计算运费,不同类型包裹有不同的计算⽅式
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kr>abstract</span> <span class=nx>calculate</span><span class=p>()</span><span class=o>:</span> <span class=kt>number</span> <span class=c1>// 通⽤⽅法:打印包裹详情
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>printPackage() {</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`包裹重量为: </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>weight</span><span class=si>}</span><span class=sb>kg,运费为: </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>calculate</span><span class=p>()</span><span class=si>}</span><span class=sb>元`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><p>StandardPackage 类继承了 Package ,实现了 calculate ⽅法:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-55-1><a class=lnlinks href=#hl-55-1> 1</a>
</span><span class=lnt id=hl-55-2><a class=lnlinks href=#hl-55-2> 2</a>
</span><span class=lnt id=hl-55-3><a class=lnlinks href=#hl-55-3> 3</a>
</span><span class=lnt id=hl-55-4><a class=lnlinks href=#hl-55-4> 4</a>
</span><span class=lnt id=hl-55-5><a class=lnlinks href=#hl-55-5> 5</a>
</span><span class=lnt id=hl-55-6><a class=lnlinks href=#hl-55-6> 6</a>
</span><span class=lnt id=hl-55-7><a class=lnlinks href=#hl-55-7> 7</a>
</span><span class=lnt id=hl-55-8><a class=lnlinks href=#hl-55-8> 8</a>
</span><span class=lnt id=hl-55-9><a class=lnlinks href=#hl-55-9> 9</a>
</span><span class=lnt id=hl-55-10><a class=lnlinks href=#hl-55-10>10</a>
</span><span class=lnt id=hl-55-11><a class=lnlinks href=#hl-55-11>11</a>
</span><span class=lnt id=hl-55-12><a class=lnlinks href=#hl-55-12>12</a>
</span><span class=lnt id=hl-55-13><a class=lnlinks href=#hl-55-13>13</a>
</span><span class=lnt id=hl-55-14><a class=lnlinks href=#hl-55-14>14</a>
</span><span class=lnt id=hl-55-15><a class=lnlinks href=#hl-55-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// 标准包裹
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>StandardPackage</span> <span class=kr>extends</span> <span class=nx>Package</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(</span> <span class=nx>weight</span>: <span class=kt>number</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=kr>public</span> <span class=nx>unitPrice</span>: <span class=kt>number</span> <span class=c1>// 每公⽄的固定费率 
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=p>)</span> <span class=p>{</span> <span class=kr>super</span><span class=p>(</span><span class=nx>weight</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=c1>// 实现抽象⽅法:计算运费
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>calculate</span><span class=p>()</span><span class=o>:</span> <span class=kt>number</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>weight</span> <span class=o>*</span> <span class=k>this</span><span class=p>.</span><span class=nx>unitPrice</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 创建标准包裹实例
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>s1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>StandardPackage</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>s1</span><span class=p>.</span><span class=nx>printPackage</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><p>ExpressPackage 类继承了 Package ,实现了 calculate ⽅法:</p><p>ExpressPackage 类(特快包裹)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-56-1><a class=lnlinks href=#hl-56-1> 1</a>
</span><span class=lnt id=hl-56-2><a class=lnlinks href=#hl-56-2> 2</a>
</span><span class=lnt id=hl-56-3><a class=lnlinks href=#hl-56-3> 3</a>
</span><span class=lnt id=hl-56-4><a class=lnlinks href=#hl-56-4> 4</a>
</span><span class=lnt id=hl-56-5><a class=lnlinks href=#hl-56-5> 5</a>
</span><span class=lnt id=hl-56-6><a class=lnlinks href=#hl-56-6> 6</a>
</span><span class=lnt id=hl-56-7><a class=lnlinks href=#hl-56-7> 7</a>
</span><span class=lnt id=hl-56-8><a class=lnlinks href=#hl-56-8> 8</a>
</span><span class=lnt id=hl-56-9><a class=lnlinks href=#hl-56-9> 9</a>
</span><span class=lnt id=hl-56-10><a class=lnlinks href=#hl-56-10>10</a>
</span><span class=lnt id=hl-56-11><a class=lnlinks href=#hl-56-11>11</a>
</span><span class=lnt id=hl-56-12><a class=lnlinks href=#hl-56-12>12</a>
</span><span class=lnt id=hl-56-13><a class=lnlinks href=#hl-56-13>13</a>
</span><span class=lnt id=hl-56-14><a class=lnlinks href=#hl-56-14>14</a>
</span><span class=lnt id=hl-56-15><a class=lnlinks href=#hl-56-15>15</a>
</span><span class=lnt id=hl-56-16><a class=lnlinks href=#hl-56-16>16</a>
</span><span class=lnt id=hl-56-17><a class=lnlinks href=#hl-56-17>17</a>
</span><span class=lnt id=hl-56-18><a class=lnlinks href=#hl-56-18>18</a>
</span><span class=lnt id=hl-56-19><a class=lnlinks href=#hl-56-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>class</span> <span class=nx>ExpressPackage</span> <span class=kr>extends</span> <span class=nx>Package</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(</span>
</span></span><span class=line><span class=cl>		<span class=kr>private</span> <span class=nx>weight</span>: <span class=kt>number</span><span class=p>,</span> <span class=c1>// 每公⽄的固定费率(快速包裹更⾼)
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=kr>private</span> <span class=nx>unitPrice</span>: <span class=kt>number</span><span class=p>,</span>  <span class=kr>private</span> <span class=nx>additional</span>: <span class=kt>number</span> <span class=c1>// 超出10kg以后的附加费
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=p>){</span> <span class=kr>super</span><span class=p>(</span><span class=nx>weight</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	 <span class=c1>// 实现抽象⽅法:计算运费
</span></span></span><span class=line><span class=cl><span class=c1></span>	 <span class=nx>calculate</span><span class=p>()</span><span class=o>:</span> <span class=kt>number</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		 <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>weight</span> <span class=o>&gt;</span> <span class=mi>10</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		 <span class=c1>// 超出10kg的部分,每公⽄多收additional对应的价格
</span></span></span><span class=line><span class=cl><span class=c1></span>		 <span class=k>return</span> <span class=mi>10</span> <span class=o>*</span> <span class=k>this</span><span class=p>.</span><span class=nx>unitPrice</span> <span class=o>+</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>weight</span> <span class=o>-</span> <span class=mi>10</span><span class=p>)</span> <span class=o>*</span> <span class=k>this</span><span class=p>.</span><span class=nx>additional</span>
</span></span><span class=line><span class=cl>		 <span class=p>}</span><span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		 <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>weight</span> <span class=o>*</span> <span class=k>this</span><span class=p>.</span><span class=nx>unitPrice</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		 <span class=p>}</span>
</span></span><span class=line><span class=cl>	 <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 创建特快包裹实例
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>e1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ExpressPackage</span><span class=p>(</span><span class=mi>13</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>e1</span><span class=p>.</span><span class=nx>printPackage</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><div class=post-alert-note><div class=post-alert-title><i class="fa-solid fa-bell"></i>
<span>总结:何时使⽤抽象类?</span></div><div class=post-alert-content><p>1.定义通用接口 :为⼀组相关的类定义通⽤的⾏为(⽅法或属性)时。
2.提供基础实现：在抽象类中提供某些⽅法或为其提供基础实现,这样派⽣类就可以继承这 些实现。
3.确保关键实现：强制派⽣类实现⼀些关键⾏为。
4.共享代码和逻辑:当多个类需要共享部分代码时,抽象类可以避免代码重复。</p></div></div><h3 id=13-interface接>13. interface(接⼝)
<a class=header-anchor href=#13-interface%e6%8e%a5></a></h3><p>interface 是⼀种<code>定义结构</code>的⽅式,主要作⽤是为:类、对象、函数等规定<code>⼀种契约</code>,这样 可以确保代码的⼀致性和类型安全,但要注意 interface <code>只能</code>定义<code>格式</code>,<code>不能</code>包含<code>任何实现</code> !</p><p>• 定义类结构</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-57-1><a class=lnlinks href=#hl-57-1> 1</a>
</span><span class=lnt id=hl-57-2><a class=lnlinks href=#hl-57-2> 2</a>
</span><span class=lnt id=hl-57-3><a class=lnlinks href=#hl-57-3> 3</a>
</span><span class=lnt id=hl-57-4><a class=lnlinks href=#hl-57-4> 4</a>
</span><span class=lnt id=hl-57-5><a class=lnlinks href=#hl-57-5> 5</a>
</span><span class=lnt id=hl-57-6><a class=lnlinks href=#hl-57-6> 6</a>
</span><span class=lnt id=hl-57-7><a class=lnlinks href=#hl-57-7> 7</a>
</span><span class=lnt id=hl-57-8><a class=lnlinks href=#hl-57-8> 8</a>
</span><span class=lnt id=hl-57-9><a class=lnlinks href=#hl-57-9> 9</a>
</span><span class=lnt id=hl-57-10><a class=lnlinks href=#hl-57-10>10</a>
</span><span class=lnt id=hl-57-11><a class=lnlinks href=#hl-57-11>11</a>
</span><span class=lnt id=hl-57-12><a class=lnlinks href=#hl-57-12>12</a>
</span><span class=lnt id=hl-57-13><a class=lnlinks href=#hl-57-13>13</a>
</span><span class=lnt id=hl-57-14><a class=lnlinks href=#hl-57-14>14</a>
</span><span class=lnt id=hl-57-15><a class=lnlinks href=#hl-57-15>15</a>
</span><span class=lnt id=hl-57-16><a class=lnlinks href=#hl-57-16>16</a>
</span><span class=lnt id=hl-57-17><a class=lnlinks href=#hl-57-17>17</a>
</span><span class=lnt id=hl-57-18><a class=lnlinks href=#hl-57-18>18</a>
</span><span class=lnt id=hl-57-19><a class=lnlinks href=#hl-57-19>19</a>
</span><span class=lnt id=hl-57-20><a class=lnlinks href=#hl-57-20>20</a>
</span><span class=lnt id=hl-57-21><a class=lnlinks href=#hl-57-21>21</a>
</span><span class=lnt id=hl-57-22><a class=lnlinks href=#hl-57-22>22</a>
</span><span class=lnt id=hl-57-23><a class=lnlinks href=#hl-57-23>23</a>
</span><span class=lnt id=hl-57-24><a class=lnlinks href=#hl-57-24>24</a>
</span><span class=lnt id=hl-57-25><a class=lnlinks href=#hl-57-25>25</a>
</span><span class=lnt id=hl-57-26><a class=lnlinks href=#hl-57-26>26</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// PersonInterface接口，用与限制Person类的格式
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>interface</span> <span class=nx>PersonInterface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>age</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>speak</span><span class=p>(</span><span class=nx>n</span>: <span class=kt>number</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 定义一个类Person，实现 PersonInterface 接口
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>Person</span> <span class=kr>implements</span> <span class=nx>PersonInterface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>constructor</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=kr>public</span> <span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=kr>public</span> <span class=nx>age</span>: <span class=kt>number</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span> <span class=p>{</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 实现接口中的 speak 方法
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>speak</span><span class=p>(</span><span class=nx>n</span>: <span class=kt>number</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>n</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// 打印出包含名字和年龄的问候语句
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`你好，我叫</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>，我的年龄是</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>age</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 创建一个 Person 类的实例 p1，传入名字 &#39;tom&#39; 和年龄 18
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>p1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>(</span><span class=s1>&#39;tom&#39;</span><span class=p>,</span> <span class=mi>18</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>p1</span><span class=p>.</span><span class=nx>speak</span><span class=p>(</span><span class=mi>3</span><span class=p>);</span></span></span></code></pre></td></tr></table></div></div><p>定义对象结构</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-58-1><a class=lnlinks href=#hl-58-1> 1</a>
</span><span class=lnt id=hl-58-2><a class=lnlinks href=#hl-58-2> 2</a>
</span><span class=lnt id=hl-58-3><a class=lnlinks href=#hl-58-3> 3</a>
</span><span class=lnt id=hl-58-4><a class=lnlinks href=#hl-58-4> 4</a>
</span><span class=lnt id=hl-58-5><a class=lnlinks href=#hl-58-5> 5</a>
</span><span class=lnt id=hl-58-6><a class=lnlinks href=#hl-58-6> 6</a>
</span><span class=lnt id=hl-58-7><a class=lnlinks href=#hl-58-7> 7</a>
</span><span class=lnt id=hl-58-8><a class=lnlinks href=#hl-58-8> 8</a>
</span><span class=lnt id=hl-58-9><a class=lnlinks href=#hl-58-9> 9</a>
</span><span class=lnt id=hl-58-10><a class=lnlinks href=#hl-58-10>10</a>
</span><span class=lnt id=hl-58-11><a class=lnlinks href=#hl-58-11>11</a>
</span><span class=lnt id=hl-58-12><a class=lnlinks href=#hl-58-12>12</a>
</span><span class=lnt id=hl-58-13><a class=lnlinks href=#hl-58-13>13</a>
</span><span class=lnt id=hl-58-14><a class=lnlinks href=#hl-58-14>14</a>
</span><span class=lnt id=hl-58-15><a class=lnlinks href=#hl-58-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>interface</span> <span class=nx>UserInterface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kr>readonly</span> <span class=nx>gender</span>: <span class=kt>string</span><span class=p>;</span> <span class=c1>// 只读属性
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>age?</span>: <span class=kt>number</span><span class=p>;</span> <span class=c1>// 可选属性
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>run</span><span class=o>:</span> <span class=p>(</span><span class=nx>n</span>: <span class=kt>number</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=k>void</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>user</span>: <span class=kt>UserInterface</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;张三&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>gender</span><span class=o>:</span> <span class=s1>&#39;男&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>age</span>: <span class=kt>18</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>run</span><span class=p>(</span><span class=nx>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`奔跑了</span><span class=si>${</span><span class=nx>n</span><span class=si>}</span><span class=sb>米`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span></span></span></code></pre></td></tr></table></div></div><p>定义函数结构</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-59-1><a class=lnlinks href=#hl-59-1>1</a>
</span><span class=lnt id=hl-59-2><a class=lnlinks href=#hl-59-2>2</a>
</span><span class=lnt id=hl-59-3><a class=lnlinks href=#hl-59-3>3</a>
</span><span class=lnt id=hl-59-4><a class=lnlinks href=#hl-59-4>4</a>
</span><span class=lnt id=hl-59-5><a class=lnlinks href=#hl-59-5>5</a>
</span><span class=lnt id=hl-59-6><a class=lnlinks href=#hl-59-6>6</a>
</span><span class=lnt id=hl-59-7><a class=lnlinks href=#hl-59-7>7</a>
</span><span class=lnt id=hl-59-8><a class=lnlinks href=#hl-59-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// 定义函数结构
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>interface</span> <span class=nx>CountInterface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nx>a</span>: <span class=kt>number</span><span class=p>,</span> <span class=nx>b</span>: <span class=kt>number</span><span class=p>)</span><span class=o>:</span> <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>count</span>: <span class=kt>CountInterface</span> <span class=o>=</span> <span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>x</span> <span class=o>+</span> <span class=nx>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><p>接口之间的继承
一个 interface 继承另一个 interface，从而实现代码的复用</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-60-1><a class=lnlinks href=#hl-60-1> 1</a>
</span><span class=lnt id=hl-60-2><a class=lnlinks href=#hl-60-2> 2</a>
</span><span class=lnt id=hl-60-3><a class=lnlinks href=#hl-60-3> 3</a>
</span><span class=lnt id=hl-60-4><a class=lnlinks href=#hl-60-4> 4</a>
</span><span class=lnt id=hl-60-5><a class=lnlinks href=#hl-60-5> 5</a>
</span><span class=lnt id=hl-60-6><a class=lnlinks href=#hl-60-6> 6</a>
</span><span class=lnt id=hl-60-7><a class=lnlinks href=#hl-60-7> 7</a>
</span><span class=lnt id=hl-60-8><a class=lnlinks href=#hl-60-8> 8</a>
</span><span class=lnt id=hl-60-9><a class=lnlinks href=#hl-60-9> 9</a>
</span><span class=lnt id=hl-60-10><a class=lnlinks href=#hl-60-10>10</a>
</span><span class=lnt id=hl-60-11><a class=lnlinks href=#hl-60-11>11</a>
</span><span class=lnt id=hl-60-12><a class=lnlinks href=#hl-60-12>12</a>
</span><span class=lnt id=hl-60-13><a class=lnlinks href=#hl-60-13>13</a>
</span><span class=lnt id=hl-60-14><a class=lnlinks href=#hl-60-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>interface</span> <span class=nx>PersonInterface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span> <span class=c1>// 姓名
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>age</span>: <span class=kt>number</span><span class=p>;</span> <span class=c1>// 年龄
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>interface</span> <span class=nx>StudentInterface</span> <span class=kr>extends</span> <span class=nx>PersonInterface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>grade</span>: <span class=kt>string</span><span class=p>;</span> <span class=c1>// 年级
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>stu</span>: <span class=kt>StudentInterface</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;张三&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>age</span>: <span class=kt>25</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>grade</span><span class=o>:</span> <span class=s1>&#39;高三&#39;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><p>接口自动合井（可重复定义）</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-61-1><a class=lnlinks href=#hl-61-1> 1</a>
</span><span class=lnt id=hl-61-2><a class=lnlinks href=#hl-61-2> 2</a>
</span><span class=lnt id=hl-61-3><a class=lnlinks href=#hl-61-3> 3</a>
</span><span class=lnt id=hl-61-4><a class=lnlinks href=#hl-61-4> 4</a>
</span><span class=lnt id=hl-61-5><a class=lnlinks href=#hl-61-5> 5</a>
</span><span class=lnt id=hl-61-6><a class=lnlinks href=#hl-61-6> 6</a>
</span><span class=lnt id=hl-61-7><a class=lnlinks href=#hl-61-7> 7</a>
</span><span class=lnt id=hl-61-8><a class=lnlinks href=#hl-61-8> 8</a>
</span><span class=lnt id=hl-61-9><a class=lnlinks href=#hl-61-9> 9</a>
</span><span class=lnt id=hl-61-10><a class=lnlinks href=#hl-61-10>10</a>
</span><span class=lnt id=hl-61-11><a class=lnlinks href=#hl-61-11>11</a>
</span><span class=lnt id=hl-61-12><a class=lnlinks href=#hl-61-12>12</a>
</span><span class=lnt id=hl-61-13><a class=lnlinks href=#hl-61-13>13</a>
</span><span class=lnt id=hl-61-14><a class=lnlinks href=#hl-61-14>14</a>
</span><span class=lnt id=hl-61-15><a class=lnlinks href=#hl-61-15>15</a>
</span><span class=lnt id=hl-61-16><a class=lnlinks href=#hl-61-16>16</a>
</span><span class=lnt id=hl-61-17><a class=lnlinks href=#hl-61-17>17</a>
</span><span class=lnt id=hl-61-18><a class=lnlinks href=#hl-61-18>18</a>
</span><span class=lnt id=hl-61-19><a class=lnlinks href=#hl-61-19>19</a>
</span><span class=lnt id=hl-61-20><a class=lnlinks href=#hl-61-20>20</a>
</span><span class=lnt id=hl-61-21><a class=lnlinks href=#hl-61-21>21</a>
</span><span class=lnt id=hl-61-22><a class=lnlinks href=#hl-61-22>22</a>
</span><span class=lnt id=hl-61-23><a class=lnlinks href=#hl-61-23>23</a>
</span><span class=lnt id=hl-61-24><a class=lnlinks href=#hl-61-24>24</a>
</span><span class=lnt id=hl-61-25><a class=lnlinks href=#hl-61-25>25</a>
</span><span class=lnt id=hl-61-26><a class=lnlinks href=#hl-61-26>26</a>
</span><span class=lnt id=hl-61-27><a class=lnlinks href=#hl-61-27>27</a>
</span><span class=lnt id=hl-61-28><a class=lnlinks href=#hl-61-28>28</a>
</span><span class=lnt id=hl-61-29><a class=lnlinks href=#hl-61-29>29</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// PersonInterface接口
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>interface</span> <span class=nx>PersonInterface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 属性声明
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nx>age</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>​</span>
</span></span><span class=line><span class=cl><span class=c1>// 给PersonInterface接口添加新属性
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>interface</span> <span class=nx>PersonInterface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 方法声明
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>speak</span><span class=p>()</span><span class=o>:</span> <span class=k>void</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>​</span>
</span></span><span class=line><span class=cl><span class=c1>// Person类实现PersonInterface
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>Person</span> <span class=kr>implements</span> <span class=nx>PersonInterface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nx>age</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=err>​</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 构造器
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kr>constructor</span><span class=p>(</span><span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=nx>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>age</span> <span class=o>=</span> <span class=nx>age</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=err>​</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 方法
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>speak() {</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;你好!我是老师:&#39;</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><p>总结:何时使⽤接⼝?</p><ol><li>定义对象的格式: 描述数据模型、API 响应格式、配置对象&mldr;&mldr;..等等,是开发中⽤的最多 的场景。</li><li>类的契约:规定⼀个类需要实现哪些属性和⽅法。</li><li>扩展已有接⼝:⼀般⽤于扩展第三⽅库的类型, 这种特性在⼤型项⽬中可能会⽤到。</li></ol><h3 id=14-些相似概念的区别>14. ⼀些相似概念的区别
<a class=header-anchor href=#14-%e4%ba%9b%e7%9b%b8%e4%bc%bc%e6%a6%82%e5%bf%b5%e7%9a%84%e5%8c%ba%e5%88%ab></a></h3><h4 id=141-interface-与-type-的区别>14.1. interface 与 type 的区别
<a class=header-anchor href=#141-interface-%e4%b8%8e-type-%e7%9a%84%e5%8c%ba%e5%88%ab></a></h4><p>相同点: interface 和 type 都可以⽤于定义对象结构,在定义对象结构时两者可以 互换。</p><p>不同点:
interface :更专注于定义对象和类的结构,⽀持继承、合并。
type :可以定义类型别名、联合类型、交叉类型,但不⽀持继承和⾃动合并。</p><p>interface 和 type 都可以定义对象结构 TypeScript</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-62-1><a class=lnlinks href=#hl-62-1> 1</a>
</span><span class=lnt id=hl-62-2><a class=lnlinks href=#hl-62-2> 2</a>
</span><span class=lnt id=hl-62-3><a class=lnlinks href=#hl-62-3> 3</a>
</span><span class=lnt id=hl-62-4><a class=lnlinks href=#hl-62-4> 4</a>
</span><span class=lnt id=hl-62-5><a class=lnlinks href=#hl-62-5> 5</a>
</span><span class=lnt id=hl-62-6><a class=lnlinks href=#hl-62-6> 6</a>
</span><span class=lnt id=hl-62-7><a class=lnlinks href=#hl-62-7> 7</a>
</span><span class=lnt id=hl-62-8><a class=lnlinks href=#hl-62-8> 8</a>
</span><span class=lnt id=hl-62-9><a class=lnlinks href=#hl-62-9> 9</a>
</span><span class=lnt id=hl-62-10><a class=lnlinks href=#hl-62-10>10</a>
</span><span class=lnt id=hl-62-11><a class=lnlinks href=#hl-62-11>11</a>
</span><span class=lnt id=hl-62-12><a class=lnlinks href=#hl-62-12>12</a>
</span><span class=lnt id=hl-62-13><a class=lnlinks href=#hl-62-13>13</a>
</span><span class=lnt id=hl-62-14><a class=lnlinks href=#hl-62-14>14</a>
</span><span class=lnt id=hl-62-15><a class=lnlinks href=#hl-62-15>15</a>
</span><span class=lnt id=hl-62-16><a class=lnlinks href=#hl-62-16>16</a>
</span><span class=lnt id=hl-62-17><a class=lnlinks href=#hl-62-17>17</a>
</span><span class=lnt id=hl-62-18><a class=lnlinks href=#hl-62-18>18</a>
</span><span class=lnt id=hl-62-19><a class=lnlinks href=#hl-62-19>19</a>
</span><span class=lnt id=hl-62-20><a class=lnlinks href=#hl-62-20>20</a>
</span><span class=lnt id=hl-62-21><a class=lnlinks href=#hl-62-21>21</a>
</span><span class=lnt id=hl-62-22><a class=lnlinks href=#hl-62-22>22</a>
</span><span class=lnt id=hl-62-23><a class=lnlinks href=#hl-62-23>23</a>
</span><span class=lnt id=hl-62-24><a class=lnlinks href=#hl-62-24>24</a>
</span><span class=lnt id=hl-62-25><a class=lnlinks href=#hl-62-25>25</a>
</span><span class=lnt id=hl-62-26><a class=lnlinks href=#hl-62-26>26</a>
</span><span class=lnt id=hl-62-27><a class=lnlinks href=#hl-62-27>27</a>
</span><span class=lnt id=hl-62-28><a class=lnlinks href=#hl-62-28>28</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// 使⽤ interface 定义 Person 对象
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>interface</span> <span class=nx>PersonInterface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nx>age</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nx>speak</span><span class=p>()</span><span class=o>:</span> <span class=k>void</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 使⽤ type 定义 Person 对象
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>type</span> <span class=nx>PersonType</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nx>age</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nx>speak</span><span class=p>()</span><span class=o>:</span> <span class=k>void</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=c1>// 使⽤PersonInterface
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cm>/* let person: PersonInterface = {
</span></span></span><span class=line><span class=cl><span class=cm> name:&#39;张三&#39;,
</span></span></span><span class=line><span class=cl><span class=cm> age:18,
</span></span></span><span class=line><span class=cl><span class=cm> speak(){
</span></span></span><span class=line><span class=cl><span class=cm> console.log(`我叫:${this.name},年龄:${this.age}`)
</span></span></span><span class=line><span class=cl><span class=cm> }
</span></span></span><span class=line><span class=cl><span class=cm>} */</span>
</span></span><span class=line><span class=cl><span class=c1>// 使⽤PersonType
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>person</span>: <span class=kt>PersonType</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>name</span><span class=o>:</span><span class=s1>&#39;张三&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>age</span>:<span class=kt>18</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>speak</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`我叫:</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>,年龄:</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>age</span><span class=si>}</span><span class=sb>`</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><p>interface 可以继承、合并</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-63-1><a class=lnlinks href=#hl-63-1> 1</a>
</span><span class=lnt id=hl-63-2><a class=lnlinks href=#hl-63-2> 2</a>
</span><span class=lnt id=hl-63-3><a class=lnlinks href=#hl-63-3> 3</a>
</span><span class=lnt id=hl-63-4><a class=lnlinks href=#hl-63-4> 4</a>
</span><span class=lnt id=hl-63-5><a class=lnlinks href=#hl-63-5> 5</a>
</span><span class=lnt id=hl-63-6><a class=lnlinks href=#hl-63-6> 6</a>
</span><span class=lnt id=hl-63-7><a class=lnlinks href=#hl-63-7> 7</a>
</span><span class=lnt id=hl-63-8><a class=lnlinks href=#hl-63-8> 8</a>
</span><span class=lnt id=hl-63-9><a class=lnlinks href=#hl-63-9> 9</a>
</span><span class=lnt id=hl-63-10><a class=lnlinks href=#hl-63-10>10</a>
</span><span class=lnt id=hl-63-11><a class=lnlinks href=#hl-63-11>11</a>
</span><span class=lnt id=hl-63-12><a class=lnlinks href=#hl-63-12>12</a>
</span><span class=lnt id=hl-63-13><a class=lnlinks href=#hl-63-13>13</a>
</span><span class=lnt id=hl-63-14><a class=lnlinks href=#hl-63-14>14</a>
</span><span class=lnt id=hl-63-15><a class=lnlinks href=#hl-63-15>15</a>
</span><span class=lnt id=hl-63-16><a class=lnlinks href=#hl-63-16>16</a>
</span><span class=lnt id=hl-63-17><a class=lnlinks href=#hl-63-17>17</a>
</span><span class=lnt id=hl-63-18><a class=lnlinks href=#hl-63-18>18</a>
</span><span class=lnt id=hl-63-19><a class=lnlinks href=#hl-63-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>interface</span> <span class=nx>PersonInterface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span> <span class=c1>// 姓名
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>age</span>: <span class=kt>number</span><span class=p>;</span> <span class=c1>// 年龄
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>​</span>
</span></span><span class=line><span class=cl><span class=kr>interface</span> <span class=nx>PersonInterface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>speak</span><span class=o>:</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=k>void</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>​</span>
</span></span><span class=line><span class=cl><span class=kr>interface</span> <span class=nx>StudentInterface</span> <span class=kr>extends</span> <span class=nx>PersonInterface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>grade</span>: <span class=kt>string</span><span class=p>;</span> <span class=c1>// 年级
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>​</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>student</span>: <span class=kt>StudentInterface</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;李四&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>age</span>: <span class=kt>18</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>grade</span><span class=o>:</span> <span class=s1>&#39;高二&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>speak() {</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>age</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>grade</span><span class=p>);</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><p>type 的交叉类型</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-64-1><a class=lnlinks href=#hl-64-1> 1</a>
</span><span class=lnt id=hl-64-2><a class=lnlinks href=#hl-64-2> 2</a>
</span><span class=lnt id=hl-64-3><a class=lnlinks href=#hl-64-3> 3</a>
</span><span class=lnt id=hl-64-4><a class=lnlinks href=#hl-64-4> 4</a>
</span><span class=lnt id=hl-64-5><a class=lnlinks href=#hl-64-5> 5</a>
</span><span class=lnt id=hl-64-6><a class=lnlinks href=#hl-64-6> 6</a>
</span><span class=lnt id=hl-64-7><a class=lnlinks href=#hl-64-7> 7</a>
</span><span class=lnt id=hl-64-8><a class=lnlinks href=#hl-64-8> 8</a>
</span><span class=lnt id=hl-64-9><a class=lnlinks href=#hl-64-9> 9</a>
</span><span class=lnt id=hl-64-10><a class=lnlinks href=#hl-64-10>10</a>
</span><span class=lnt id=hl-64-11><a class=lnlinks href=#hl-64-11>11</a>
</span><span class=lnt id=hl-64-12><a class=lnlinks href=#hl-64-12>12</a>
</span><span class=lnt id=hl-64-13><a class=lnlinks href=#hl-64-13>13</a>
</span><span class=lnt id=hl-64-14><a class=lnlinks href=#hl-64-14>14</a>
</span><span class=lnt id=hl-64-15><a class=lnlinks href=#hl-64-15>15</a>
</span><span class=lnt id=hl-64-16><a class=lnlinks href=#hl-64-16>16</a>
</span><span class=lnt id=hl-64-17><a class=lnlinks href=#hl-64-17>17</a>
</span><span class=lnt id=hl-64-18><a class=lnlinks href=#hl-64-18>18</a>
</span><span class=lnt id=hl-64-19><a class=lnlinks href=#hl-64-19>19</a>
</span><span class=lnt id=hl-64-20><a class=lnlinks href=#hl-64-20>20</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// 使⽤ type 定义 Person 类型,并通过交叉类型实现属性的合并
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>type</span> <span class=nx>PersonType</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span> <span class=c1>// 姓名
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>age</span>: <span class=kt>number</span><span class=p>;</span> <span class=c1>// 年龄
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=p>}</span> <span class=o>&amp;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>speak</span><span class=o>:</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=k>void</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 使⽤ type 定义 Student 类型,并通过交叉类型继承 PersonType
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>type</span> <span class=nx>StudentType</span> <span class=o>=</span> <span class=nx>PersonType</span> <span class=o>&amp;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>grade</span>: <span class=kt>string</span><span class=p>;</span> <span class=c1>// 年级
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>student</span>: <span class=kt>StudentType</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;李四&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>age</span>: <span class=kt>18</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>grade</span><span class=o>:</span> <span class=s1>&#39;⾼⼆&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=nx>speak() {</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>age</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>grade</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span></span></span></code></pre></td></tr></table></div></div><h4 id=142-interface-与-抽象类的区别>14.2 interface 与 抽象类的区别
<a class=header-anchor href=#142-interface-%e4%b8%8e-%e6%8a%bd%e8%b1%a1%e7%b1%bb%e7%9a%84%e5%8c%ba%e5%88%ab></a></h4><p>相同点:都能定义⼀个类的格式(定义类应遵循的契约)
不相同:</p><ul><li>接⼝:只能描述结构,不能有任何实现代码,⼀个类可以实现多个接⼝。</li><li>抽象类:既可以包含抽象⽅法,也可以包含具体⽅法, ⼀个类只能继承⼀个抽象类。</li></ul><p>⼀个类可以实现多个接⼝ TypeScript</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-65-1><a class=lnlinks href=#hl-65-1> 1</a>
</span><span class=lnt id=hl-65-2><a class=lnlinks href=#hl-65-2> 2</a>
</span><span class=lnt id=hl-65-3><a class=lnlinks href=#hl-65-3> 3</a>
</span><span class=lnt id=hl-65-4><a class=lnlinks href=#hl-65-4> 4</a>
</span><span class=lnt id=hl-65-5><a class=lnlinks href=#hl-65-5> 5</a>
</span><span class=lnt id=hl-65-6><a class=lnlinks href=#hl-65-6> 6</a>
</span><span class=lnt id=hl-65-7><a class=lnlinks href=#hl-65-7> 7</a>
</span><span class=lnt id=hl-65-8><a class=lnlinks href=#hl-65-8> 8</a>
</span><span class=lnt id=hl-65-9><a class=lnlinks href=#hl-65-9> 9</a>
</span><span class=lnt id=hl-65-10><a class=lnlinks href=#hl-65-10>10</a>
</span><span class=lnt id=hl-65-11><a class=lnlinks href=#hl-65-11>11</a>
</span><span class=lnt id=hl-65-12><a class=lnlinks href=#hl-65-12>12</a>
</span><span class=lnt id=hl-65-13><a class=lnlinks href=#hl-65-13>13</a>
</span><span class=lnt id=hl-65-14><a class=lnlinks href=#hl-65-14>14</a>
</span><span class=lnt id=hl-65-15><a class=lnlinks href=#hl-65-15>15</a>
</span><span class=lnt id=hl-65-16><a class=lnlinks href=#hl-65-16>16</a>
</span><span class=lnt id=hl-65-17><a class=lnlinks href=#hl-65-17>17</a>
</span><span class=lnt id=hl-65-18><a class=lnlinks href=#hl-65-18>18</a>
</span><span class=lnt id=hl-65-19><a class=lnlinks href=#hl-65-19>19</a>
</span><span class=lnt id=hl-65-20><a class=lnlinks href=#hl-65-20>20</a>
</span><span class=lnt id=hl-65-21><a class=lnlinks href=#hl-65-21>21</a>
</span><span class=lnt id=hl-65-22><a class=lnlinks href=#hl-65-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// FlyInterface 接⼝
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>interface</span> <span class=nx>FlyInterface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fly</span><span class=p>()</span><span class=o>:</span> <span class=k>void</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 定义 SwimInterface 接⼝
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>interface</span> <span class=nx>SwimInterface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>swim</span><span class=p>()</span><span class=o>:</span> <span class=k>void</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// Duck 类实现了 FlyInterface 和 SwimInterface 两个接⼝
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>Duck</span> <span class=kr>implements</span> <span class=nx>FlyInterface</span><span class=p>,</span> <span class=nx>SwimInterface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>fly</span><span class=p>()</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;鸭⼦可以⻜&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=nx>swim</span><span class=p>()</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;鸭⼦可以游泳&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 创建⼀个 Duck 实例
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>duck</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Duck</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>duck</span><span class=p>.</span><span class=nx>fly</span><span class=p>();</span> <span class=c1>// 输出: 鸭⼦可以⻜
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>duck</span><span class=p>.</span><span class=nx>swim</span><span class=p>();</span> <span class=c1>// 输出: 鸭⼦可以游泳
</span></span></span></code></pre></td></tr></table></div></div><h2 id=泛型>⼋、泛型
<a class=header-anchor href=#%e6%b3%9b%e5%9e%8b></a></h2><p>泛型允许我们在定义函数、类或接⼝时,使⽤类型参数来表示未指定的类型,这些参数在具体使⽤时,才被指定具体的类型,泛型能让同⼀段代码适⽤于多种类型,同时仍然保持类型的安全性。</p><p>举例:如下代码中 <code>&lt;T></code> 就是泛型,(不⼀定⾮叫 T ),设置泛型后即可在函数中使⽤ T 来表 示该类型:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-66-1><a class=lnlinks href=#hl-66-1> 1</a>
</span><span class=lnt id=hl-66-2><a class=lnlinks href=#hl-66-2> 2</a>
</span><span class=lnt id=hl-66-3><a class=lnlinks href=#hl-66-3> 3</a>
</span><span class=lnt id=hl-66-4><a class=lnlinks href=#hl-66-4> 4</a>
</span><span class=lnt id=hl-66-5><a class=lnlinks href=#hl-66-5> 5</a>
</span><span class=lnt id=hl-66-6><a class=lnlinks href=#hl-66-6> 6</a>
</span><span class=lnt id=hl-66-7><a class=lnlinks href=#hl-66-7> 7</a>
</span><span class=lnt id=hl-66-8><a class=lnlinks href=#hl-66-8> 8</a>
</span><span class=lnt id=hl-66-9><a class=lnlinks href=#hl-66-9> 9</a>
</span><span class=lnt id=hl-66-10><a class=lnlinks href=#hl-66-10>10</a>
</span><span class=lnt id=hl-66-11><a class=lnlinks href=#hl-66-11>11</a>
</span><span class=lnt id=hl-66-12><a class=lnlinks href=#hl-66-12>12</a>
</span><span class=lnt id=hl-66-13><a class=lnlinks href=#hl-66-13>13</a>
</span><span class=lnt id=hl-66-14><a class=lnlinks href=#hl-66-14>14</a>
</span><span class=lnt id=hl-66-15><a class=lnlinks href=#hl-66-15>15</a>
</span><span class=lnt id=hl-66-16><a class=lnlinks href=#hl-66-16>16</a>
</span><span class=lnt id=hl-66-17><a class=lnlinks href=#hl-66-17>17</a>
</span><span class=lnt id=hl-66-18><a class=lnlinks href=#hl-66-18>18</a>
</span><span class=lnt id=hl-66-19><a class=lnlinks href=#hl-66-19>19</a>
</span><span class=lnt id=hl-66-20><a class=lnlinks href=#hl-66-20>20</a>
</span><span class=lnt id=hl-66-21><a class=lnlinks href=#hl-66-21>21</a>
</span><span class=lnt id=hl-66-22><a class=lnlinks href=#hl-66-22>22</a>
</span><span class=lnt id=hl-66-23><a class=lnlinks href=#hl-66-23>23</a>
</span><span class=lnt id=hl-66-24><a class=lnlinks href=#hl-66-24>24</a>
</span><span class=lnt id=hl-66-25><a class=lnlinks href=#hl-66-25>25</a>
</span><span class=lnt id=hl-66-26><a class=lnlinks href=#hl-66-26>26</a>
</span><span class=lnt id=hl-66-27><a class=lnlinks href=#hl-66-27>27</a>
</span><span class=lnt id=hl-66-28><a class=lnlinks href=#hl-66-28>28</a>
</span><span class=lnt id=hl-66-29><a class=lnlinks href=#hl-66-29>29</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// 泛型函数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>TypeScript</span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>logData</span><span class=p>&lt;</span><span class=nt>T</span><span class=p>&gt;(</span><span class=nx>data</span>: <span class=kt>T</span><span class=p>)</span><span class=o>:</span> <span class=nx>T</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>data</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>logData</span><span class=p>&lt;</span><span class=nt>number</span><span class=p>&gt;(</span><span class=mi>100</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>logData</span><span class=p>&lt;</span><span class=nt>string</span><span class=p>&gt;(</span><span class=s1>&#39;hello&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 泛型可以有多个
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>TypeScript</span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>logData</span><span class=p>&lt;</span><span class=nt>T</span><span class=p>,</span> <span class=na>U</span><span class=p>&gt;(</span><span class=nx>data1</span>: <span class=kt>T</span><span class=p>,</span> <span class=nx>data2</span>: <span class=kt>U</span><span class=p>)</span><span class=o>:</span> <span class=nx>T</span> <span class=o>|</span> <span class=nx>U</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>data1</span><span class=p>,</span> <span class=nx>data2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>()</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>?</span> <span class=nx>data1</span> : <span class=kt>data2</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>logData</span><span class=p>&lt;</span><span class=nt>number</span><span class=p>,</span> <span class=na>string</span><span class=p>&gt;(</span><span class=mi>100</span><span class=p>,</span> <span class=s1>&#39;hello&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>logData</span><span class=p>&lt;</span><span class=nt>string</span><span class=p>,</span> <span class=na>boolean</span><span class=p>&gt;(</span><span class=s1>&#39;ok&#39;</span><span class=p>,</span> <span class=kc>false</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 泛型接口
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>TypeScript</span>
</span></span><span class=line><span class=cl><span class=kr>interface</span> <span class=nx>PersonInterface</span><span class=p>&lt;</span><span class=nt>T</span><span class=p>&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>age</span>: <span class=kt>number</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>extraInfo</span>: <span class=kt>T</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>p1</span>: <span class=kt>PersonInterface</span><span class=p>&lt;</span><span class=nt>string</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>p2</span>: <span class=kt>PersonInterface</span><span class=p>&lt;</span><span class=nt>number</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=nx>p1</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;张三&#39;</span><span class=p>,</span> <span class=nx>age</span>: <span class=kt>18</span><span class=p>,</span> <span class=nx>extraInfo</span><span class=o>:</span> <span class=s1>&#39;一个好人&#39;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>p2</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;李四&#39;</span><span class=p>,</span> <span class=nx>age</span>: <span class=kt>18</span><span class=p>,</span> <span class=nx>extraInfo</span>: <span class=kt>250</span> <span class=p>}</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-67-1><a class=lnlinks href=#hl-67-1> 1</a>
</span><span class=lnt id=hl-67-2><a class=lnlinks href=#hl-67-2> 2</a>
</span><span class=lnt id=hl-67-3><a class=lnlinks href=#hl-67-3> 3</a>
</span><span class=lnt id=hl-67-4><a class=lnlinks href=#hl-67-4> 4</a>
</span><span class=lnt id=hl-67-5><a class=lnlinks href=#hl-67-5> 5</a>
</span><span class=lnt id=hl-67-6><a class=lnlinks href=#hl-67-6> 6</a>
</span><span class=lnt id=hl-67-7><a class=lnlinks href=#hl-67-7> 7</a>
</span><span class=lnt id=hl-67-8><a class=lnlinks href=#hl-67-8> 8</a>
</span><span class=lnt id=hl-67-9><a class=lnlinks href=#hl-67-9> 9</a>
</span><span class=lnt id=hl-67-10><a class=lnlinks href=#hl-67-10>10</a>
</span><span class=lnt id=hl-67-11><a class=lnlinks href=#hl-67-11>11</a>
</span><span class=lnt id=hl-67-12><a class=lnlinks href=#hl-67-12>12</a>
</span><span class=lnt id=hl-67-13><a class=lnlinks href=#hl-67-13>13</a>
</span><span class=lnt id=hl-67-14><a class=lnlinks href=#hl-67-14>14</a>
</span><span class=lnt id=hl-67-15><a class=lnlinks href=#hl-67-15>15</a>
</span><span class=lnt id=hl-67-16><a class=lnlinks href=#hl-67-16>16</a>
</span><span class=lnt id=hl-67-17><a class=lnlinks href=#hl-67-17>17</a>
</span><span class=lnt id=hl-67-18><a class=lnlinks href=#hl-67-18>18</a>
</span><span class=lnt id=hl-67-19><a class=lnlinks href=#hl-67-19>19</a>
</span><span class=lnt id=hl-67-20><a class=lnlinks href=#hl-67-20>20</a>
</span><span class=lnt id=hl-67-21><a class=lnlinks href=#hl-67-21>21</a>
</span><span class=lnt id=hl-67-22><a class=lnlinks href=#hl-67-22>22</a>
</span><span class=lnt id=hl-67-23><a class=lnlinks href=#hl-67-23>23</a>
</span><span class=lnt id=hl-67-24><a class=lnlinks href=#hl-67-24>24</a>
</span><span class=lnt id=hl-67-25><a class=lnlinks href=#hl-67-25>25</a>
</span><span class=lnt id=hl-67-26><a class=lnlinks href=#hl-67-26>26</a>
</span><span class=lnt id=hl-67-27><a class=lnlinks href=#hl-67-27>27</a>
</span><span class=lnt id=hl-67-28><a class=lnlinks href=#hl-67-28>28</a>
</span><span class=lnt id=hl-67-29><a class=lnlinks href=#hl-67-29>29</a>
</span><span class=lnt id=hl-67-30><a class=lnlinks href=#hl-67-30>30</a>
</span><span class=lnt id=hl-67-31><a class=lnlinks href=#hl-67-31>31</a>
</span><span class=lnt id=hl-67-32><a class=lnlinks href=#hl-67-32>32</a>
</span><span class=lnt id=hl-67-33><a class=lnlinks href=#hl-67-33>33</a>
</span><span class=lnt id=hl-67-34><a class=lnlinks href=#hl-67-34>34</a>
</span><span class=lnt id=hl-67-35><a class=lnlinks href=#hl-67-35>35</a>
</span><span class=lnt id=hl-67-36><a class=lnlinks href=#hl-67-36>36</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// 泛型约束
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>TypeScript</span>
</span></span><span class=line><span class=cl><span class=kr>interface</span> <span class=nx>LengthInterface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>length</span>: <span class=kt>number</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 约束规则是：传入的类型T必须具有 length 属性
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>logPerson</span><span class=p>&lt;</span><span class=nt>T</span> <span class=na>extends</span> <span class=na>LengthInterface</span><span class=p>&gt;(</span><span class=nx>data</span>: <span class=kt>T</span><span class=p>)</span><span class=o>:</span> <span class=k>void</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>length</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>logPerson</span><span class=p>&lt;</span><span class=nt>string</span><span class=p>&gt;(</span><span class=s1>&#39;hello&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 报错：因为number不具备length属性
</span></span></span><span class=line><span class=cl><span class=c1>// logPerson&lt;number&gt;(100)
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 泛型类
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>TypeScript</span>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span><span class=p>&lt;</span><span class=nt>T</span><span class=p>&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>constructor</span><span class=p>(</span><span class=kr>public</span> <span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span> <span class=kr>public</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>,</span> <span class=kr>public</span> <span class=nx>extraInfo</span>: <span class=kt>T</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=nx>speak() {</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`我叫</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>今年</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>age</span><span class=si>}</span><span class=sb>岁了`</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>extraInfo</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 测试代码1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>p1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>&lt;</span><span class=nt>number</span><span class=p>&gt;(</span><span class=s2>&#34;tom&#34;</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=mi>250</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 测试代码2
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>type</span> <span class=nx>JobInfo</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>title</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>company</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>p2</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>&lt;</span><span class=nt>JobInfo</span><span class=p>&gt;(</span><span class=s2>&#34;tom&#34;</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=p>{</span> <span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;研发总监&#39;</span><span class=p>,</span> <span class=nx>company</span><span class=o>:</span> <span class=s1>&#39;发发发科技公司&#39;</span> <span class=p>});</span></span></span></code></pre></td></tr></table></div></div><h2 id=九类型声明文件>九、类型声明文件
<a class=header-anchor href=#%e4%b9%9d%e7%b1%bb%e5%9e%8b%e5%a3%b0%e6%98%8e%e6%96%87%e4%bb%b6></a></h2><p>类型声明⽂件是 TypeScript 中的⼀种特殊⽂件，通常以 .d.ts 作为扩展名。它的主要作⽤是为现有的
JavaScript 代码提供类型信息，使得 TypeScript 能够在使用这些 JavaScript 库或模块时进行类型检查和提示。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-68-1><a class=lnlinks href=#hl-68-1> 1</a>
</span><span class=lnt id=hl-68-2><a class=lnlinks href=#hl-68-2> 2</a>
</span><span class=lnt id=hl-68-3><a class=lnlinks href=#hl-68-3> 3</a>
</span><span class=lnt id=hl-68-4><a class=lnlinks href=#hl-68-4> 4</a>
</span><span class=lnt id=hl-68-5><a class=lnlinks href=#hl-68-5> 5</a>
</span><span class=lnt id=hl-68-6><a class=lnlinks href=#hl-68-6> 6</a>
</span><span class=lnt id=hl-68-7><a class=lnlinks href=#hl-68-7> 7</a>
</span><span class=lnt id=hl-68-8><a class=lnlinks href=#hl-68-8> 8</a>
</span><span class=lnt id=hl-68-9><a class=lnlinks href=#hl-68-9> 9</a>
</span><span class=lnt id=hl-68-10><a class=lnlinks href=#hl-68-10>10</a>
</span><span class=lnt id=hl-68-11><a class=lnlinks href=#hl-68-11>11</a>
</span><span class=lnt id=hl-68-12><a class=lnlinks href=#hl-68-12>12</a>
</span><span class=lnt id=hl-68-13><a class=lnlinks href=#hl-68-13>13</a>
</span><span class=lnt id=hl-68-14><a class=lnlinks href=#hl-68-14>14</a>
</span><span class=lnt id=hl-68-15><a class=lnlinks href=#hl-68-15>15</a>
</span><span class=lnt id=hl-68-16><a class=lnlinks href=#hl-68-16>16</a>
</span><span class=lnt id=hl-68-17><a class=lnlinks href=#hl-68-17>17</a>
</span><span class=lnt id=hl-68-18><a class=lnlinks href=#hl-68-18>18</a>
</span><span class=lnt id=hl-68-19><a class=lnlinks href=#hl-68-19>19</a>
</span><span class=lnt id=hl-68-20><a class=lnlinks href=#hl-68-20>20</a>
</span><span class=lnt id=hl-68-21><a class=lnlinks href=#hl-68-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=c1>// demo.js
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=kd>function</span> <span class=nx>add</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kd>function</span> <span class=nx>mul</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=nx>a</span> <span class=o>*</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// demo.d.ts
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>declare</span> <span class=kd>function</span> <span class=nx>add</span><span class=p>(</span><span class=nx>a</span>: <span class=kt>number</span><span class=p>,</span> <span class=nx>b</span>: <span class=kt>number</span><span class=p>)</span><span class=o>:</span> <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>declare</span> <span class=kd>function</span> <span class=nx>mul</span><span class=p>(</span><span class=nx>a</span>: <span class=kt>number</span><span class=p>,</span> <span class=nx>b</span>: <span class=kt>number</span><span class=p>)</span><span class=o>:</span> <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=p>{</span> <span class=nx>add</span><span class=p>,</span> <span class=nx>mul</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// index.ts
</span></span></span><span class=line><span class=cl><span class=c1>// example.ts
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>add</span><span class=p>,</span> <span class=nx>mul</span> <span class=p>}</span> <span class=kr>from</span> <span class=s2>&#34;./demo.js&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>add</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>);</span> <span class=c1>// x 类型为 number
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>y</span> <span class=o>=</span> <span class=nx>mul</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>);</span> <span class=c1>// y 类型为 number
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>);</span></span></span></code></pre></td></tr></table></div></div><h1 id=装饰器>装饰器
<a class=header-anchor href=#%e8%a3%85%e9%a5%b0%e5%99%a8></a></h1><p><a href="https://www.bilibili.com/video/BV1YS411w7Bf?spm_id_from=333.788.videopod.episodes&amp;vd_source=eec8d29cc9562259bc3afddcb56823bd&amp;p=4" title="🪩 附加篇：TypeScript装饰器_哔哩哔哩_bilibili" rel="noopener external nofollow noreferrer" target=_blank class=exturl>🪩 附加篇：TypeScript装饰器_哔哩哔哩_bilibili
<i class="fa fa-external-link-alt"></i></a></p><h2 id=一简介>一、简介
<a class=header-anchor href=#%e4%b8%80%e7%ae%80%e4%bb%8b></a></h2><ol><li>装饰器本质是一种特殊的<strong>函数</strong>，它可以对：类、属性、方法、参数进行扩展，同时能让代码更简洁。</li><li>装饰器自<code>2015</code>年在<code>ECMAScript-6</code>中被提出到现在，已将近10年。</li><li>截止目前，装饰器依然是实验性特性 ，需要开发者手动调整配置，来开启装饰器支持。</li><li>装饰器有 5 种：</li></ol><p>1⃣类装饰器
2⃣属性装饰器
3⃣方法装饰器
4⃣访问器装饰器
5⃣参数装饰器</p><blockquote><p>备注：虽然<code>TypeScript5.0</code>中可以直接使用<code>**类装饰器**</code>，但为了确保其他装饰器可用，现阶段使用时，仍建议使用<code>experimentalDecorators</code>配置来开启装饰器支持，而且不排除在来的版本中，官方会<strong>进一步调整</strong>装饰器的相关语法！
参考：
<a href=https://devblogs.microsoft.com/typescript/announcing-typescript-5-0-rc/ title="《TypeScript 5.0发版公告》" rel="noopener external nofollow noreferrer" target=_blank class=exturl><strong>《TypeScript 5.0发版公告》</strong>
<i class="fa fa-external-link-alt"></i></a></p></blockquote><h2 id=二类装饰器>二、类装饰器
<a class=header-anchor href=#%e4%ba%8c%e7%b1%bb%e8%a3%85%e9%a5%b0%e5%99%a8></a></h2><h3 id=基本语法>基本语法
<a class=header-anchor href=#%e5%9f%ba%e6%9c%ac%e8%af%ad%e6%b3%95></a></h3><p>:::info
类装饰器是一个应用在<strong>类声明</strong>上的<strong>函数</strong>，可以为类添加额外的功能，或添加额外的逻辑。
:::</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-69-1><a class=lnlinks href=#hl-69-1> 1</a>
</span><span class=lnt id=hl-69-2><a class=lnlinks href=#hl-69-2> 2</a>
</span><span class=lnt id=hl-69-3><a class=lnlinks href=#hl-69-3> 3</a>
</span><span class=lnt id=hl-69-4><a class=lnlinks href=#hl-69-4> 4</a>
</span><span class=lnt id=hl-69-5><a class=lnlinks href=#hl-69-5> 5</a>
</span><span class=lnt id=hl-69-6><a class=lnlinks href=#hl-69-6> 6</a>
</span><span class=lnt id=hl-69-7><a class=lnlinks href=#hl-69-7> 7</a>
</span><span class=lnt id=hl-69-8><a class=lnlinks href=#hl-69-8> 8</a>
</span><span class=lnt id=hl-69-9><a class=lnlinks href=#hl-69-9> 9</a>
</span><span class=lnt id=hl-69-10><a class=lnlinks href=#hl-69-10>10</a>
</span><span class=lnt id=hl-69-11><a class=lnlinks href=#hl-69-11>11</a>
</span><span class=lnt id=hl-69-12><a class=lnlinks href=#hl-69-12>12</a>
</span><span class=lnt id=hl-69-13><a class=lnlinks href=#hl-69-13>13</a>
</span><span class=lnt id=hl-69-14><a class=lnlinks href=#hl-69-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=cm>/* 
</span></span></span><span class=line><span class=cl><span class=cm>  Demo函数会在Person类定义时执行
</span></span></span><span class=line><span class=cl><span class=cm>  参数说明：
</span></span></span><span class=line><span class=cl><span class=cm>    ○ target参数是被装饰的类，即：Person
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>Demo</span><span class=p>(</span><span class=nx>target</span>: <span class=kt>Function</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>target</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 使用装饰器
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>@Demo</span>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> 
</span></span></code></pre></td></tr></table></div></div><h3 id=应用举例>应用举例
<a class=header-anchor href=#%e5%ba%94%e7%94%a8%e4%b8%be%e4%be%8b></a></h3><p>:::tips
需求：定义一个装饰器，实现<code>Person</code>实例调用<code>toString</code>时返回<code>JSON.stringify</code>的执行结果。
:::</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-70-1><a class=lnlinks href=#hl-70-1> 1</a>
</span><span class=lnt id=hl-70-2><a class=lnlinks href=#hl-70-2> 2</a>
</span><span class=lnt id=hl-70-3><a class=lnlinks href=#hl-70-3> 3</a>
</span><span class=lnt id=hl-70-4><a class=lnlinks href=#hl-70-4> 4</a>
</span><span class=lnt id=hl-70-5><a class=lnlinks href=#hl-70-5> 5</a>
</span><span class=lnt id=hl-70-6><a class=lnlinks href=#hl-70-6> 6</a>
</span><span class=lnt id=hl-70-7><a class=lnlinks href=#hl-70-7> 7</a>
</span><span class=lnt id=hl-70-8><a class=lnlinks href=#hl-70-8> 8</a>
</span><span class=lnt id=hl-70-9><a class=lnlinks href=#hl-70-9> 9</a>
</span><span class=lnt id=hl-70-10><a class=lnlinks href=#hl-70-10>10</a>
</span><span class=lnt id=hl-70-11><a class=lnlinks href=#hl-70-11>11</a>
</span><span class=lnt id=hl-70-12><a class=lnlinks href=#hl-70-12>12</a>
</span><span class=lnt id=hl-70-13><a class=lnlinks href=#hl-70-13>13</a>
</span><span class=lnt id=hl-70-14><a class=lnlinks href=#hl-70-14>14</a>
</span><span class=lnt id=hl-70-15><a class=lnlinks href=#hl-70-15>15</a>
</span><span class=lnt id=hl-70-16><a class=lnlinks href=#hl-70-16>16</a>
</span><span class=lnt id=hl-70-17><a class=lnlinks href=#hl-70-17>17</a>
</span><span class=lnt id=hl-70-18><a class=lnlinks href=#hl-70-18>18</a>
</span><span class=lnt id=hl-70-19><a class=lnlinks href=#hl-70-19>19</a>
</span><span class=lnt id=hl-70-20><a class=lnlinks href=#hl-70-20>20</a>
</span><span class=lnt id=hl-70-21><a class=lnlinks href=#hl-70-21>21</a>
</span><span class=lnt id=hl-70-22><a class=lnlinks href=#hl-70-22>22</a>
</span><span class=lnt id=hl-70-23><a class=lnlinks href=#hl-70-23>23</a>
</span><span class=lnt id=hl-70-24><a class=lnlinks href=#hl-70-24>24</a>
</span><span class=lnt id=hl-70-25><a class=lnlinks href=#hl-70-25>25</a>
</span><span class=lnt id=hl-70-26><a class=lnlinks href=#hl-70-26>26</a>
</span><span class=lnt id=hl-70-27><a class=lnlinks href=#hl-70-27>27</a>
</span><span class=lnt id=hl-70-28><a class=lnlinks href=#hl-70-28>28</a>
</span><span class=lnt id=hl-70-29><a class=lnlinks href=#hl-70-29>29</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// 使用装饰器重写toString方法 + 封闭其原型对象
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>CustomString</span><span class=p>(</span><span class=nx>target</span>: <span class=kt>Function</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 向被装饰类的原型上添加自定义的 toString 方法
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>target</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>toString</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=k>this</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 封闭其原型对象，禁止随意操作其原型对象
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nb>Object</span><span class=p>.</span><span class=nx>seal</span><span class=p>(</span><span class=nx>target</span><span class=p>.</span><span class=nx>prototype</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 使用 CustomString 装饰器
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>@CustomString</span>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(</span><span class=kr>public</span> <span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span> <span class=kr>public</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=nx>speak() {</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;你好呀！&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/* 测试代码如下 */</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>p1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>(</span><span class=s1>&#39;张三&#39;</span><span class=p>,</span> <span class=mi>18</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// 输出：{&#34;name&#34;:&#34;张三&#34;,&#34;age&#34;:18}
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>p1</span><span class=p>.</span><span class=nx>toString</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=c1>// 禁止随意操作其原型对象
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>interface</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>a</span>: <span class=kt>any</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// Person.prototype.a = 100 // 此行会报错：Cannot add property a, object is not extensible
</span></span></span><span class=line><span class=cl><span class=c1>// console.log(p1.a)
</span></span></span></code></pre></td></tr></table></div></div><h3 id=关于返回值>关于返回值
<a class=header-anchor href=#%e5%85%b3%e4%ba%8e%e8%bf%94%e5%9b%9e%e5%80%bc></a></h3><p>:::info
<strong>类装饰器有返回值</strong>：若类装饰器返回一个新的类，那这个新类将<strong>替换</strong>掉被装饰的类。
<strong>类装饰器无返回值</strong>：若类装饰器无返回值或返回<code>undefined</code>，那被装饰的类<strong>不会</strong>被替换。
:::</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-71-1><a class=lnlinks href=#hl-71-1> 1</a>
</span><span class=lnt id=hl-71-2><a class=lnlinks href=#hl-71-2> 2</a>
</span><span class=lnt id=hl-71-3><a class=lnlinks href=#hl-71-3> 3</a>
</span><span class=lnt id=hl-71-4><a class=lnlinks href=#hl-71-4> 4</a>
</span><span class=lnt id=hl-71-5><a class=lnlinks href=#hl-71-5> 5</a>
</span><span class=lnt id=hl-71-6><a class=lnlinks href=#hl-71-6> 6</a>
</span><span class=lnt id=hl-71-7><a class=lnlinks href=#hl-71-7> 7</a>
</span><span class=lnt id=hl-71-8><a class=lnlinks href=#hl-71-8> 8</a>
</span><span class=lnt id=hl-71-9><a class=lnlinks href=#hl-71-9> 9</a>
</span><span class=lnt id=hl-71-10><a class=lnlinks href=#hl-71-10>10</a>
</span><span class=lnt id=hl-71-11><a class=lnlinks href=#hl-71-11>11</a>
</span><span class=lnt id=hl-71-12><a class=lnlinks href=#hl-71-12>12</a>
</span><span class=lnt id=hl-71-13><a class=lnlinks href=#hl-71-13>13</a>
</span><span class=lnt id=hl-71-14><a class=lnlinks href=#hl-71-14>14</a>
</span><span class=lnt id=hl-71-15><a class=lnlinks href=#hl-71-15>15</a>
</span><span class=lnt id=hl-71-16><a class=lnlinks href=#hl-71-16>16</a>
</span><span class=lnt id=hl-71-17><a class=lnlinks href=#hl-71-17>17</a>
</span><span class=lnt id=hl-71-18><a class=lnlinks href=#hl-71-18>18</a>
</span><span class=lnt id=hl-71-19><a class=lnlinks href=#hl-71-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>demo</span><span class=p>(</span><span class=nx>target</span>:<span class=kt>Function</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 装饰器有返回值时，该返回值会替换掉被装饰的类
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>return</span> <span class=kr>class</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>test</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>		  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>200</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>300</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>400</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>@demo</span>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>test</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>Person</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h3 id=关于构造类型>关于构造类型
<a class=header-anchor href=#%e5%85%b3%e4%ba%8e%e6%9e%84%e9%80%a0%e7%b1%bb%e5%9e%8b></a></h3><blockquote><p>在 TypeScript 中，<code>Function</code> 类型所表示的范围十分广泛，包括：普通函数、箭头函数、方法等等。但并非<code>Function</code> 类型的函数都可以被 <code>new</code> 关键字实例化，例如箭头函数是不能被实例化的，那么 TypeScript 中概如何声明一个构造类型呢？有以下两种方式：</p></blockquote><p>仅声明构造类型</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-72-1><a class=lnlinks href=#hl-72-1> 1</a>
</span><span class=lnt id=hl-72-2><a class=lnlinks href=#hl-72-2> 2</a>
</span><span class=lnt id=hl-72-3><a class=lnlinks href=#hl-72-3> 3</a>
</span><span class=lnt id=hl-72-4><a class=lnlinks href=#hl-72-4> 4</a>
</span><span class=lnt id=hl-72-5><a class=lnlinks href=#hl-72-5> 5</a>
</span><span class=lnt id=hl-72-6><a class=lnlinks href=#hl-72-6> 6</a>
</span><span class=lnt id=hl-72-7><a class=lnlinks href=#hl-72-7> 7</a>
</span><span class=lnt id=hl-72-8><a class=lnlinks href=#hl-72-8> 8</a>
</span><span class=lnt id=hl-72-9><a class=lnlinks href=#hl-72-9> 9</a>
</span><span class=lnt id=hl-72-10><a class=lnlinks href=#hl-72-10>10</a>
</span><span class=lnt id=hl-72-11><a class=lnlinks href=#hl-72-11>11</a>
</span><span class=lnt id=hl-72-12><a class=lnlinks href=#hl-72-12>12</a>
</span><span class=lnt id=hl-72-13><a class=lnlinks href=#hl-72-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>  ○ new     表示：该类型是可以用new操作符调用。
</span></span></span><span class=line><span class=cl><span class=cm>  ○ ...args 表示：构造器可以接受【任意数量】的参数。
</span></span></span><span class=line><span class=cl><span class=cm>  ○ any[]   表示：构造器可以接受【任意类型】的参数。
</span></span></span><span class=line><span class=cl><span class=cm>  ○ {}      表示：返回类型是对象(非null、非undefined的对象)。
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 定义Constructor类型，其含义是构造类型
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>type</span> <span class=nx>Constructor</span> <span class=o>=</span> <span class=k>new</span> <span class=p>(...</span><span class=nx>args</span>: <span class=kt>any</span><span class=p>[])</span> <span class=o>=&gt;</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>test</span><span class=p>(</span><span class=nx>fn</span>:<span class=kt>Constructor</span><span class=p>){}</span>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=nx>test</span><span class=p>(</span><span class=nx>Person</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><p>声明构造类型＋指定静态属性
#0-综合、通用/状态/问题</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-73-1><a class=lnlinks href=#hl-73-1> 1</a>
</span><span class=lnt id=hl-73-2><a class=lnlinks href=#hl-73-2> 2</a>
</span><span class=lnt id=hl-73-3><a class=lnlinks href=#hl-73-3> 3</a>
</span><span class=lnt id=hl-73-4><a class=lnlinks href=#hl-73-4> 4</a>
</span><span class=lnt id=hl-73-5><a class=lnlinks href=#hl-73-5> 5</a>
</span><span class=lnt id=hl-73-6><a class=lnlinks href=#hl-73-6> 6</a>
</span><span class=lnt id=hl-73-7><a class=lnlinks href=#hl-73-7> 7</a>
</span><span class=lnt id=hl-73-8><a class=lnlinks href=#hl-73-8> 8</a>
</span><span class=lnt id=hl-73-9><a class=lnlinks href=#hl-73-9> 9</a>
</span><span class=lnt id=hl-73-10><a class=lnlinks href=#hl-73-10>10</a>
</span><span class=lnt id=hl-73-11><a class=lnlinks href=#hl-73-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// 定义一个构造类型，且包含一个静态属性 wife
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>type</span> <span class=nx>Constructor</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>new</span><span class=p>(...</span><span class=nx>args</span>: <span class=kt>any</span><span class=p>[])</span><span class=o>:</span> <span class=p>{};</span> <span class=c1>// 构造签名
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>wife</span>: <span class=kt>string</span><span class=p>;</span> <span class=c1>// wife属性
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>test</span><span class=p>(</span><span class=nx>fn</span>:<span class=kt>Constructor</span><span class=p>){}</span>
</span></span><span class=line><span class=cl>	<span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>static</span> <span class=nx>wife</span> <span class=o>=</span> <span class=s1>&#39;asd&#39;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>test</span><span class=p>(</span><span class=nx>Person</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h3 id=替换被装饰的类>替换被装饰的类
<a class=header-anchor href=#%e6%9b%bf%e6%8d%a2%e8%a2%ab%e8%a3%85%e9%a5%b0%e7%9a%84%e7%b1%bb></a></h3><p>对于高级一些的装饰器，不仅仅是覆盖一个原型上的方法，还要有更多功能，例如添加新的方法和状态。
:::tips
需求：设计一个<code>LogTime</code>装饰器，可以给实例添加一个属性，用于记录实例对象的创建时间，再添加一个方法用于读取创建时间。
:::</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-74-1><a class=lnlinks href=#hl-74-1> 1</a>
</span><span class=lnt id=hl-74-2><a class=lnlinks href=#hl-74-2> 2</a>
</span><span class=lnt id=hl-74-3><a class=lnlinks href=#hl-74-3> 3</a>
</span><span class=lnt id=hl-74-4><a class=lnlinks href=#hl-74-4> 4</a>
</span><span class=lnt id=hl-74-5><a class=lnlinks href=#hl-74-5> 5</a>
</span><span class=lnt id=hl-74-6><a class=lnlinks href=#hl-74-6> 6</a>
</span><span class=lnt id=hl-74-7><a class=lnlinks href=#hl-74-7> 7</a>
</span><span class=lnt id=hl-74-8><a class=lnlinks href=#hl-74-8> 8</a>
</span><span class=lnt id=hl-74-9><a class=lnlinks href=#hl-74-9> 9</a>
</span><span class=lnt id=hl-74-10><a class=lnlinks href=#hl-74-10>10</a>
</span><span class=lnt id=hl-74-11><a class=lnlinks href=#hl-74-11>11</a>
</span><span class=lnt id=hl-74-12><a class=lnlinks href=#hl-74-12>12</a>
</span><span class=lnt id=hl-74-13><a class=lnlinks href=#hl-74-13>13</a>
</span><span class=lnt id=hl-74-14><a class=lnlinks href=#hl-74-14>14</a>
</span><span class=lnt id=hl-74-15><a class=lnlinks href=#hl-74-15>15</a>
</span><span class=lnt id=hl-74-16><a class=lnlinks href=#hl-74-16>16</a>
</span><span class=lnt id=hl-74-17><a class=lnlinks href=#hl-74-17>17</a>
</span><span class=lnt id=hl-74-18><a class=lnlinks href=#hl-74-18>18</a>
</span><span class=lnt id=hl-74-19><a class=lnlinks href=#hl-74-19>19</a>
</span><span class=lnt id=hl-74-20><a class=lnlinks href=#hl-74-20>20</a>
</span><span class=lnt id=hl-74-21><a class=lnlinks href=#hl-74-21>21</a>
</span><span class=lnt id=hl-74-22><a class=lnlinks href=#hl-74-22>22</a>
</span><span class=lnt id=hl-74-23><a class=lnlinks href=#hl-74-23>23</a>
</span><span class=lnt id=hl-74-24><a class=lnlinks href=#hl-74-24>24</a>
</span><span class=lnt id=hl-74-25><a class=lnlinks href=#hl-74-25>25</a>
</span><span class=lnt id=hl-74-26><a class=lnlinks href=#hl-74-26>26</a>
</span><span class=lnt id=hl-74-27><a class=lnlinks href=#hl-74-27>27</a>
</span><span class=lnt id=hl-74-28><a class=lnlinks href=#hl-74-28>28</a>
</span><span class=lnt id=hl-74-29><a class=lnlinks href=#hl-74-29>29</a>
</span><span class=lnt id=hl-74-30><a class=lnlinks href=#hl-74-30>30</a>
</span><span class=lnt id=hl-74-31><a class=lnlinks href=#hl-74-31>31</a>
</span><span class=lnt id=hl-74-32><a class=lnlinks href=#hl-74-32>32</a>
</span><span class=lnt id=hl-74-33><a class=lnlinks href=#hl-74-33>33</a>
</span><span class=lnt id=hl-74-34><a class=lnlinks href=#hl-74-34>34</a>
</span><span class=lnt id=hl-74-35><a class=lnlinks href=#hl-74-35>35</a>
</span><span class=lnt id=hl-74-36><a class=lnlinks href=#hl-74-36>36</a>
</span><span class=lnt id=hl-74-37><a class=lnlinks href=#hl-74-37>37</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// User接口
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>interface</span> <span class=nx>User</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>getTime</span><span class=p>()</span><span class=o>:</span> <span class=nb>Date</span>
</span></span><span class=line><span class=cl>	<span class=nx>log</span><span class=p>()</span><span class=o>:</span> <span class=k>void</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 自定义类型Class
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>type</span> <span class=nx>Constructor</span> <span class=o>=</span> <span class=k>new</span> <span class=p>(...</span><span class=nx>args</span>: <span class=kt>any</span><span class=p>[])</span> <span class=o>=&gt;</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 创建一个装饰器，为类添加日志功能和创建时间
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>LogTime</span><span class=p>&lt;</span><span class=nt>T</span> <span class=na>extends</span> <span class=na>Constructor</span><span class=p>&gt;(</span><span class=nx>target</span>: <span class=kt>T</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=kr>class</span> <span class=kr>extends</span> <span class=nx>target</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>createdTime</span>: <span class=kt>Date</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(...</span><span class=nx>args</span>: <span class=kt>any</span><span class=p>[])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	  <span class=kr>super</span><span class=p>(...</span><span class=nx>args</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	  <span class=k>this</span><span class=p>.</span><span class=nx>createdTime</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>();</span> <span class=c1>// 记录对象创建时间
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=nx>getTime() {</span>
</span></span><span class=line><span class=cl>	  <span class=k>return</span> <span class=sb>`该对象创建时间为：</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>createdTime</span><span class=si>}</span><span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>@LogTime</span>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>User</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(</span>
</span></span><span class=line><span class=cl>	<span class=kr>public</span> <span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=kr>public</span> <span class=nx>age</span>: <span class=kt>number</span>
</span></span><span class=line><span class=cl>	<span class=p>)</span> <span class=p>{</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=nx>speak() {</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>说：你好啊！`</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>user1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>User</span><span class=p>(</span><span class=s1>&#39;张三&#39;</span><span class=p>,</span> <span class=mi>13</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>user1</span><span class=p>.</span><span class=nx>speak</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>user1</span><span class=p>.</span><span class=nx>getTime</span><span class=p>())</span></span></span></code></pre></td></tr></table></div></div><h2 id=三装饰器工厂>三、装饰器工厂
<a class=header-anchor href=#%e4%b8%89%e8%a3%85%e9%a5%b0%e5%99%a8%e5%b7%a5%e5%8e%82></a></h2><p>装饰器工厂是一个返回装饰器函数的函数，可以为装饰器添加参数，可以更灵活地控制装饰器的行为。<br>:::tips
需求**：**定义一个<code>LogInfo</code>类装饰器工厂，实现<code>Person</code>实例可以调用到<code>introduce</code>方法，且<code>introduce</code>中输出内容的次数，由<code>LogInfo</code>接收的参数决定。
:::</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-75-1><a class=lnlinks href=#hl-75-1> 1</a>
</span><span class=lnt id=hl-75-2><a class=lnlinks href=#hl-75-2> 2</a>
</span><span class=lnt id=hl-75-3><a class=lnlinks href=#hl-75-3> 3</a>
</span><span class=lnt id=hl-75-4><a class=lnlinks href=#hl-75-4> 4</a>
</span><span class=lnt id=hl-75-5><a class=lnlinks href=#hl-75-5> 5</a>
</span><span class=lnt id=hl-75-6><a class=lnlinks href=#hl-75-6> 6</a>
</span><span class=lnt id=hl-75-7><a class=lnlinks href=#hl-75-7> 7</a>
</span><span class=lnt id=hl-75-8><a class=lnlinks href=#hl-75-8> 8</a>
</span><span class=lnt id=hl-75-9><a class=lnlinks href=#hl-75-9> 9</a>
</span><span class=lnt id=hl-75-10><a class=lnlinks href=#hl-75-10>10</a>
</span><span class=lnt id=hl-75-11><a class=lnlinks href=#hl-75-11>11</a>
</span><span class=lnt id=hl-75-12><a class=lnlinks href=#hl-75-12>12</a>
</span><span class=lnt id=hl-75-13><a class=lnlinks href=#hl-75-13>13</a>
</span><span class=lnt id=hl-75-14><a class=lnlinks href=#hl-75-14>14</a>
</span><span class=lnt id=hl-75-15><a class=lnlinks href=#hl-75-15>15</a>
</span><span class=lnt id=hl-75-16><a class=lnlinks href=#hl-75-16>16</a>
</span><span class=lnt id=hl-75-17><a class=lnlinks href=#hl-75-17>17</a>
</span><span class=lnt id=hl-75-18><a class=lnlinks href=#hl-75-18>18</a>
</span><span class=lnt id=hl-75-19><a class=lnlinks href=#hl-75-19>19</a>
</span><span class=lnt id=hl-75-20><a class=lnlinks href=#hl-75-20>20</a>
</span><span class=lnt id=hl-75-21><a class=lnlinks href=#hl-75-21>21</a>
</span><span class=lnt id=hl-75-22><a class=lnlinks href=#hl-75-22>22</a>
</span><span class=lnt id=hl-75-23><a class=lnlinks href=#hl-75-23>23</a>
</span><span class=lnt id=hl-75-24><a class=lnlinks href=#hl-75-24>24</a>
</span><span class=lnt id=hl-75-25><a class=lnlinks href=#hl-75-25>25</a>
</span><span class=lnt id=hl-75-26><a class=lnlinks href=#hl-75-26>26</a>
</span><span class=lnt id=hl-75-27><a class=lnlinks href=#hl-75-27>27</a>
</span><span class=lnt id=hl-75-28><a class=lnlinks href=#hl-75-28>28</a>
</span><span class=lnt id=hl-75-29><a class=lnlinks href=#hl-75-29>29</a>
</span><span class=lnt id=hl-75-30><a class=lnlinks href=#hl-75-30>30</a>
</span><span class=lnt id=hl-75-31><a class=lnlinks href=#hl-75-31>31</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=kr>interface</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>introduce</span><span class=o>:</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=k>void</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 定义一个装饰器工厂 LogInfo，它接受一个参数 n，返回一个类装饰器
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>LogInfo</span><span class=p>(</span><span class=nx>n</span>:<span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 装饰器函数，target 是被装饰的类
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>return</span> <span class=kd>function</span><span class=p>(</span><span class=nx>target</span>: <span class=kt>Function</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	<span class=nx>target</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>introduce</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	  <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>n</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`我的名字：</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>，我的年龄：</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>age</span><span class=si>}</span><span class=sb>`</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	  <span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>@LogInfo</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(</span>
</span></span><span class=line><span class=cl>	<span class=kr>public</span> <span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=kr>public</span> <span class=nx>age</span>: <span class=kt>number</span>
</span></span><span class=line><span class=cl>	<span class=p>)</span> <span class=p>{</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=nx>speak() {</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;你好呀！&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>p1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>(</span><span class=s1>&#39;张三&#39;</span><span class=p>,</span> <span class=mi>18</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>// console.log(p1) // 打印的p1是：_classThis，转换的JS版本比较旧时，会出现，不必纠结
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>p1</span><span class=p>.</span><span class=nx>speak</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>p1</span><span class=p>.</span><span class=nx>introduce</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><h2 id=四装饰器组合>四、装饰器组合
<a class=header-anchor href=#%e5%9b%9b%e8%a3%85%e9%a5%b0%e5%99%a8%e7%bb%84%e5%90%88></a></h2><p>装饰器可以组合使用，执行顺序为：先【由上到下】的执行所有的装饰器工厂，依次获取到装饰器，然后再【由下到上】执行所有的装饰器。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-76-1><a class=lnlinks href=#hl-76-1> 1</a>
</span><span class=lnt id=hl-76-2><a class=lnlinks href=#hl-76-2> 2</a>
</span><span class=lnt id=hl-76-3><a class=lnlinks href=#hl-76-3> 3</a>
</span><span class=lnt id=hl-76-4><a class=lnlinks href=#hl-76-4> 4</a>
</span><span class=lnt id=hl-76-5><a class=lnlinks href=#hl-76-5> 5</a>
</span><span class=lnt id=hl-76-6><a class=lnlinks href=#hl-76-6> 6</a>
</span><span class=lnt id=hl-76-7><a class=lnlinks href=#hl-76-7> 7</a>
</span><span class=lnt id=hl-76-8><a class=lnlinks href=#hl-76-8> 8</a>
</span><span class=lnt id=hl-76-9><a class=lnlinks href=#hl-76-9> 9</a>
</span><span class=lnt id=hl-76-10><a class=lnlinks href=#hl-76-10>10</a>
</span><span class=lnt id=hl-76-11><a class=lnlinks href=#hl-76-11>11</a>
</span><span class=lnt id=hl-76-12><a class=lnlinks href=#hl-76-12>12</a>
</span><span class=lnt id=hl-76-13><a class=lnlinks href=#hl-76-13>13</a>
</span><span class=lnt id=hl-76-14><a class=lnlinks href=#hl-76-14>14</a>
</span><span class=lnt id=hl-76-15><a class=lnlinks href=#hl-76-15>15</a>
</span><span class=lnt id=hl-76-16><a class=lnlinks href=#hl-76-16>16</a>
</span><span class=lnt id=hl-76-17><a class=lnlinks href=#hl-76-17>17</a>
</span><span class=lnt id=hl-76-18><a class=lnlinks href=#hl-76-18>18</a>
</span><span class=lnt id=hl-76-19><a class=lnlinks href=#hl-76-19>19</a>
</span><span class=lnt id=hl-76-20><a class=lnlinks href=#hl-76-20>20</a>
</span><span class=lnt id=hl-76-21><a class=lnlinks href=#hl-76-21>21</a>
</span><span class=lnt id=hl-76-22><a class=lnlinks href=#hl-76-22>22</a>
</span><span class=lnt id=hl-76-23><a class=lnlinks href=#hl-76-23>23</a>
</span><span class=lnt id=hl-76-24><a class=lnlinks href=#hl-76-24>24</a>
</span><span class=lnt id=hl-76-25><a class=lnlinks href=#hl-76-25>25</a>
</span><span class=lnt id=hl-76-26><a class=lnlinks href=#hl-76-26>26</a>
</span><span class=lnt id=hl-76-27><a class=lnlinks href=#hl-76-27>27</a>
</span><span class=lnt id=hl-76-28><a class=lnlinks href=#hl-76-28>28</a>
</span><span class=lnt id=hl-76-29><a class=lnlinks href=#hl-76-29>29</a>
</span><span class=lnt id=hl-76-30><a class=lnlinks href=#hl-76-30>30</a>
</span><span class=lnt id=hl-76-31><a class=lnlinks href=#hl-76-31>31</a>
</span><span class=lnt id=hl-76-32><a class=lnlinks href=#hl-76-32>32</a>
</span><span class=lnt id=hl-76-33><a class=lnlinks href=#hl-76-33>33</a>
</span><span class=lnt id=hl-76-34><a class=lnlinks href=#hl-76-34>34</a>
</span><span class=lnt id=hl-76-35><a class=lnlinks href=#hl-76-35>35</a>
</span><span class=lnt id=hl-76-36><a class=lnlinks href=#hl-76-36>36</a>
</span><span class=lnt id=hl-76-37><a class=lnlinks href=#hl-76-37>37</a>
</span><span class=lnt id=hl-76-38><a class=lnlinks href=#hl-76-38>38</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>//装饰器
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>test1</span><span class=p>(</span><span class=nx>target</span>:<span class=kt>Function</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;test1&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//装饰器工厂
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>test2() {</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;test2工厂&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>target</span>:<span class=kt>Function</span><span class=p>)</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;test2&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//装饰器工厂
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>test3() {</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;test3工厂&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>target</span>:<span class=kt>Function</span><span class=p>)</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;test3&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//装饰器
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>test4</span><span class=p>(</span><span class=nx>target</span>:<span class=kt>Function</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;test4&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>@test1</span>
</span></span><span class=line><span class=cl><span class=kd>@test2</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=kd>@test3</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=kd>@test4</span>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>  控制台打印：
</span></span></span><span class=line><span class=cl><span class=cm>    test2工厂
</span></span></span><span class=line><span class=cl><span class=cm>    test3工厂
</span></span></span><span class=line><span class=cl><span class=cm>    test4
</span></span></span><span class=line><span class=cl><span class=cm>    test3
</span></span></span><span class=line><span class=cl><span class=cm>    test2
</span></span></span><span class=line><span class=cl><span class=cm>    test1
</span></span></span><span class=line><span class=cl><span class=cm>*/</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-77-1><a class=lnlinks href=#hl-77-1> 1</a>
</span><span class=lnt id=hl-77-2><a class=lnlinks href=#hl-77-2> 2</a>
</span><span class=lnt id=hl-77-3><a class=lnlinks href=#hl-77-3> 3</a>
</span><span class=lnt id=hl-77-4><a class=lnlinks href=#hl-77-4> 4</a>
</span><span class=lnt id=hl-77-5><a class=lnlinks href=#hl-77-5> 5</a>
</span><span class=lnt id=hl-77-6><a class=lnlinks href=#hl-77-6> 6</a>
</span><span class=lnt id=hl-77-7><a class=lnlinks href=#hl-77-7> 7</a>
</span><span class=lnt id=hl-77-8><a class=lnlinks href=#hl-77-8> 8</a>
</span><span class=lnt id=hl-77-9><a class=lnlinks href=#hl-77-9> 9</a>
</span><span class=lnt id=hl-77-10><a class=lnlinks href=#hl-77-10>10</a>
</span><span class=lnt id=hl-77-11><a class=lnlinks href=#hl-77-11>11</a>
</span><span class=lnt id=hl-77-12><a class=lnlinks href=#hl-77-12>12</a>
</span><span class=lnt id=hl-77-13><a class=lnlinks href=#hl-77-13>13</a>
</span><span class=lnt id=hl-77-14><a class=lnlinks href=#hl-77-14>14</a>
</span><span class=lnt id=hl-77-15><a class=lnlinks href=#hl-77-15>15</a>
</span><span class=lnt id=hl-77-16><a class=lnlinks href=#hl-77-16>16</a>
</span><span class=lnt id=hl-77-17><a class=lnlinks href=#hl-77-17>17</a>
</span><span class=lnt id=hl-77-18><a class=lnlinks href=#hl-77-18>18</a>
</span><span class=lnt id=hl-77-19><a class=lnlinks href=#hl-77-19>19</a>
</span><span class=lnt id=hl-77-20><a class=lnlinks href=#hl-77-20>20</a>
</span><span class=lnt id=hl-77-21><a class=lnlinks href=#hl-77-21>21</a>
</span><span class=lnt id=hl-77-22><a class=lnlinks href=#hl-77-22>22</a>
</span><span class=lnt id=hl-77-23><a class=lnlinks href=#hl-77-23>23</a>
</span><span class=lnt id=hl-77-24><a class=lnlinks href=#hl-77-24>24</a>
</span><span class=lnt id=hl-77-25><a class=lnlinks href=#hl-77-25>25</a>
</span><span class=lnt id=hl-77-26><a class=lnlinks href=#hl-77-26>26</a>
</span><span class=lnt id=hl-77-27><a class=lnlinks href=#hl-77-27>27</a>
</span><span class=lnt id=hl-77-28><a class=lnlinks href=#hl-77-28>28</a>
</span><span class=lnt id=hl-77-29><a class=lnlinks href=#hl-77-29>29</a>
</span><span class=lnt id=hl-77-30><a class=lnlinks href=#hl-77-30>30</a>
</span><span class=lnt id=hl-77-31><a class=lnlinks href=#hl-77-31>31</a>
</span><span class=lnt id=hl-77-32><a class=lnlinks href=#hl-77-32>32</a>
</span><span class=lnt id=hl-77-33><a class=lnlinks href=#hl-77-33>33</a>
</span><span class=lnt id=hl-77-34><a class=lnlinks href=#hl-77-34>34</a>
</span><span class=lnt id=hl-77-35><a class=lnlinks href=#hl-77-35>35</a>
</span><span class=lnt id=hl-77-36><a class=lnlinks href=#hl-77-36>36</a>
</span><span class=lnt id=hl-77-37><a class=lnlinks href=#hl-77-37>37</a>
</span><span class=lnt id=hl-77-38><a class=lnlinks href=#hl-77-38>38</a>
</span><span class=lnt id=hl-77-39><a class=lnlinks href=#hl-77-39>39</a>
</span><span class=lnt id=hl-77-40><a class=lnlinks href=#hl-77-40>40</a>
</span><span class=lnt id=hl-77-41><a class=lnlinks href=#hl-77-41>41</a>
</span><span class=lnt id=hl-77-42><a class=lnlinks href=#hl-77-42>42</a>
</span><span class=lnt id=hl-77-43><a class=lnlinks href=#hl-77-43>43</a>
</span><span class=lnt id=hl-77-44><a class=lnlinks href=#hl-77-44>44</a>
</span><span class=lnt id=hl-77-45><a class=lnlinks href=#hl-77-45>45</a>
</span><span class=lnt id=hl-77-46><a class=lnlinks href=#hl-77-46>46</a>
</span><span class=lnt id=hl-77-47><a class=lnlinks href=#hl-77-47>47</a>
</span><span class=lnt id=hl-77-48><a class=lnlinks href=#hl-77-48>48</a>
</span><span class=lnt id=hl-77-49><a class=lnlinks href=#hl-77-49>49</a>
</span><span class=lnt id=hl-77-50><a class=lnlinks href=#hl-77-50>50</a>
</span><span class=lnt id=hl-77-51><a class=lnlinks href=#hl-77-51>51</a>
</span><span class=lnt id=hl-77-52><a class=lnlinks href=#hl-77-52>52</a>
</span><span class=lnt id=hl-77-53><a class=lnlinks href=#hl-77-53>53</a>
</span><span class=lnt id=hl-77-54><a class=lnlinks href=#hl-77-54>54</a>
</span><span class=lnt id=hl-77-55><a class=lnlinks href=#hl-77-55>55</a>
</span><span class=lnt id=hl-77-56><a class=lnlinks href=#hl-77-56>56</a>
</span><span class=lnt id=hl-77-57><a class=lnlinks href=#hl-77-57>57</a>
</span><span class=lnt id=hl-77-58><a class=lnlinks href=#hl-77-58>58</a>
</span><span class=lnt id=hl-77-59><a class=lnlinks href=#hl-77-59>59</a>
</span><span class=lnt id=hl-77-60><a class=lnlinks href=#hl-77-60>60</a>
</span><span class=lnt id=hl-77-61><a class=lnlinks href=#hl-77-61>61</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// 自定义类型Class
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>type</span> <span class=nx>Constructor</span> <span class=o>=</span> <span class=k>new</span> <span class=p>(...</span><span class=nx>args</span>: <span class=kt>any</span><span class=p>[])</span> <span class=o>=&gt;</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>interface</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>introduce</span><span class=p>()</span><span class=o>:</span><span class=k>void</span>
</span></span><span class=line><span class=cl>	<span class=nx>getTime</span><span class=p>()</span><span class=o>:</span><span class=k>void</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 使用装饰器重写toString方法 + 封闭其原型对象
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>customToString</span><span class=p>(</span><span class=nx>target</span>: <span class=kt>Function</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 向被装饰类的原型上添加自定义的 toString 方法
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>target</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>toString</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>(</span><span class=k>this</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 封闭其原型对象，禁止随意操作其原型对象
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nb>Object</span><span class=p>.</span><span class=nx>seal</span><span class=p>(</span><span class=nx>target</span><span class=p>.</span><span class=nx>prototype</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 创建一个装饰器，为类添加日志功能和创建时间
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>LogTime</span><span class=p>&lt;</span><span class=nt>T</span> <span class=na>extends</span> <span class=na>Constructor</span><span class=p>&gt;(</span><span class=nx>target</span>: <span class=kt>T</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=kr>class</span> <span class=kr>extends</span> <span class=nx>target</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>createdTime</span>: <span class=kt>Date</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kr>constructor</span><span class=p>(...</span><span class=nx>args</span>: <span class=kt>any</span><span class=p>[])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kr>super</span><span class=p>(...</span><span class=nx>args</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>this</span><span class=p>.</span><span class=nx>createdTime</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>();</span> <span class=c1>// 记录对象创建时间
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>getTime() {</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=sb>`该对象创建时间为：</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>createdTime</span><span class=si>}</span><span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 定义一个装饰器工厂 LogInfo，它接受一个参数 n，返回一个类装饰器
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>LogInfo</span><span class=p>(</span><span class=nx>n</span>:<span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 装饰器函数，target 是被装饰的类
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=kd>function</span><span class=p>(</span><span class=nx>target</span>: <span class=kt>Function</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=nx>target</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>introduce</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>n</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`我的名字：</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>，我的年龄：</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>age</span><span class=si>}</span><span class=sb>`</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>@customToString</span>
</span></span><span class=line><span class=cl><span class=kd>@LogInfo</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kd>@LogTime</span>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(</span>
</span></span><span class=line><span class=cl>	<span class=kr>public</span> <span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=kr>public</span> <span class=nx>age</span>: <span class=kt>number</span>
</span></span><span class=line><span class=cl>	<span class=p>)</span> <span class=p>{</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=nx>speak() {</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;你好呀！&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>p1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>(</span><span class=s1>&#39;张三&#39;</span><span class=p>,</span><span class=mi>18</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>p1</span><span class=p>.</span><span class=nx>toString</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=nx>p1</span><span class=p>.</span><span class=nx>introduce</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>p1</span><span class=p>.</span><span class=nx>getTime</span><span class=p>())</span></span></span></code></pre></td></tr></table></div></div><h2 id=五属性装饰器>五、属性装饰器
<a class=header-anchor href=#%e4%ba%94%e5%b1%9e%e6%80%a7%e8%a3%85%e9%a5%b0%e5%99%a8></a></h2><h3 id=基本语法-1>基本语法
<a class=header-anchor href=#%e5%9f%ba%e6%9c%ac%e8%af%ad%e6%b3%95-1></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-78-1><a class=lnlinks href=#hl-78-1> 1</a>
</span><span class=lnt id=hl-78-2><a class=lnlinks href=#hl-78-2> 2</a>
</span><span class=lnt id=hl-78-3><a class=lnlinks href=#hl-78-3> 3</a>
</span><span class=lnt id=hl-78-4><a class=lnlinks href=#hl-78-4> 4</a>
</span><span class=lnt id=hl-78-5><a class=lnlinks href=#hl-78-5> 5</a>
</span><span class=lnt id=hl-78-6><a class=lnlinks href=#hl-78-6> 6</a>
</span><span class=lnt id=hl-78-7><a class=lnlinks href=#hl-78-7> 7</a>
</span><span class=lnt id=hl-78-8><a class=lnlinks href=#hl-78-8> 8</a>
</span><span class=lnt id=hl-78-9><a class=lnlinks href=#hl-78-9> 9</a>
</span><span class=lnt id=hl-78-10><a class=lnlinks href=#hl-78-10>10</a>
</span><span class=lnt id=hl-78-11><a class=lnlinks href=#hl-78-11>11</a>
</span><span class=lnt id=hl-78-12><a class=lnlinks href=#hl-78-12>12</a>
</span><span class=lnt id=hl-78-13><a class=lnlinks href=#hl-78-13>13</a>
</span><span class=lnt id=hl-78-14><a class=lnlinks href=#hl-78-14>14</a>
</span><span class=lnt id=hl-78-15><a class=lnlinks href=#hl-78-15>15</a>
</span><span class=lnt id=hl-78-16><a class=lnlinks href=#hl-78-16>16</a>
</span><span class=lnt id=hl-78-17><a class=lnlinks href=#hl-78-17>17</a>
</span><span class=lnt id=hl-78-18><a class=lnlinks href=#hl-78-18>18</a>
</span><span class=lnt id=hl-78-19><a class=lnlinks href=#hl-78-19>19</a>
</span><span class=lnt id=hl-78-20><a class=lnlinks href=#hl-78-20>20</a>
</span><span class=lnt id=hl-78-21><a class=lnlinks href=#hl-78-21>21</a>
</span><span class=lnt id=hl-78-22><a class=lnlinks href=#hl-78-22>22</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=cm>/* 
</span></span></span><span class=line><span class=cl><span class=cm>  参数说明：
</span></span></span><span class=line><span class=cl><span class=cm>    ○ target: 对于静态属性来说值是类，对于实例属性来说值是类的原型对象。
</span></span></span><span class=line><span class=cl><span class=cm>    ○ propertyKey: 属性名。
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>Demo</span><span class=p>(</span><span class=nx>target</span>: <span class=kt>object</span><span class=p>,</span> <span class=nx>propertyKey</span>: <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>target</span><span class=p>,</span><span class=nx>propertyKey</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kd>@Demo</span> <span class=nx>name</span>: <span class=kt>string</span>
</span></span><span class=line><span class=cl>	<span class=kd>@Demo</span> <span class=nx>age</span>: <span class=kt>number</span>
</span></span><span class=line><span class=cl>	<span class=kd>@Demo</span> <span class=kr>static</span> <span class=nx>school</span>:<span class=kt>string</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(</span><span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=nx>name</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>age</span> <span class=o>=</span> <span class=nx>age</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>p1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>(</span><span class=s1>&#39;张三&#39;</span><span class=p>,</span> <span class=mi>18</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h3 id=关于属性遮蔽>关于属性遮蔽
<a class=header-anchor href=#%e5%85%b3%e4%ba%8e%e5%b1%9e%e6%80%a7%e9%81%ae%e8%94%bd></a></h3><blockquote><p>如下代码中：当构造器中的<code>this.age = age</code>试图在实例上赋值时，实际上是调用了原型上<code>age</code>属性的<code>set</code>方法。</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-79-1><a class=lnlinks href=#hl-79-1> 1</a>
</span><span class=lnt id=hl-79-2><a class=lnlinks href=#hl-79-2> 2</a>
</span><span class=lnt id=hl-79-3><a class=lnlinks href=#hl-79-3> 3</a>
</span><span class=lnt id=hl-79-4><a class=lnlinks href=#hl-79-4> 4</a>
</span><span class=lnt id=hl-79-5><a class=lnlinks href=#hl-79-5> 5</a>
</span><span class=lnt id=hl-79-6><a class=lnlinks href=#hl-79-6> 6</a>
</span><span class=lnt id=hl-79-7><a class=lnlinks href=#hl-79-7> 7</a>
</span><span class=lnt id=hl-79-8><a class=lnlinks href=#hl-79-8> 8</a>
</span><span class=lnt id=hl-79-9><a class=lnlinks href=#hl-79-9> 9</a>
</span><span class=lnt id=hl-79-10><a class=lnlinks href=#hl-79-10>10</a>
</span><span class=lnt id=hl-79-11><a class=lnlinks href=#hl-79-11>11</a>
</span><span class=lnt id=hl-79-12><a class=lnlinks href=#hl-79-12>12</a>
</span><span class=lnt id=hl-79-13><a class=lnlinks href=#hl-79-13>13</a>
</span><span class=lnt id=hl-79-14><a class=lnlinks href=#hl-79-14>14</a>
</span><span class=lnt id=hl-79-15><a class=lnlinks href=#hl-79-15>15</a>
</span><span class=lnt id=hl-79-16><a class=lnlinks href=#hl-79-16>16</a>
</span><span class=lnt id=hl-79-17><a class=lnlinks href=#hl-79-17>17</a>
</span><span class=lnt id=hl-79-18><a class=lnlinks href=#hl-79-18>18</a>
</span><span class=lnt id=hl-79-19><a class=lnlinks href=#hl-79-19>19</a>
</span><span class=lnt id=hl-79-20><a class=lnlinks href=#hl-79-20>20</a>
</span><span class=lnt id=hl-79-21><a class=lnlinks href=#hl-79-21>21</a>
</span><span class=lnt id=hl-79-22><a class=lnlinks href=#hl-79-22>22</a>
</span><span class=lnt id=hl-79-23><a class=lnlinks href=#hl-79-23>23</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>name</span>: <span class=kt>string</span>
</span></span><span class=line><span class=cl>	<span class=nx>age</span>: <span class=kt>number</span>
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(</span><span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=nx>name</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>age</span> <span class=o>=</span> <span class=nx>age</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>value</span> <span class=o>=</span> <span class=mi>99</span>
</span></span><span class=line><span class=cl><span class=c1>// 使用defineProperty给Person原型添加age属性，并配置对应的get与set
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>Object</span><span class=p>.</span><span class=nx>defineProperty</span><span class=p>(</span><span class=nx>Person</span><span class=p>.</span><span class=nx>prototype</span><span class=p>,</span> <span class=s1>&#39;age&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>get</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=nx>value</span>
</span></span><span class=line><span class=cl>	<span class=p>},</span>
</span></span><span class=line><span class=cl>	<span class=kr>set</span><span class=p>(</span><span class=nx>val</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>value</span> <span class=o>=</span> <span class=nx>val</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>p1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>(</span><span class=s1>&#39;张三&#39;</span><span class=p>,</span> <span class=mi>18</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>p1</span><span class=p>.</span><span class=nx>age</span><span class=p>)</span> <span class=c1>//18
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>Person</span><span class=p>.</span><span class=nx>prototype</span><span class=p>.</span><span class=nx>age</span><span class=p>)</span><span class=c1>//18
</span></span></span></code></pre></td></tr></table></div></div><h3 id=应用举例-1>应用举例
<a class=header-anchor href=#%e5%ba%94%e7%94%a8%e4%b8%be%e4%be%8b-1></a></h3><p>:::tips
需求：定义一个<code>State</code>属性装饰器，来监视属性的修改。
:::</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-80-1><a class=lnlinks href=#hl-80-1> 1</a>
</span><span class=lnt id=hl-80-2><a class=lnlinks href=#hl-80-2> 2</a>
</span><span class=lnt id=hl-80-3><a class=lnlinks href=#hl-80-3> 3</a>
</span><span class=lnt id=hl-80-4><a class=lnlinks href=#hl-80-4> 4</a>
</span><span class=lnt id=hl-80-5><a class=lnlinks href=#hl-80-5> 5</a>
</span><span class=lnt id=hl-80-6><a class=lnlinks href=#hl-80-6> 6</a>
</span><span class=lnt id=hl-80-7><a class=lnlinks href=#hl-80-7> 7</a>
</span><span class=lnt id=hl-80-8><a class=lnlinks href=#hl-80-8> 8</a>
</span><span class=lnt id=hl-80-9><a class=lnlinks href=#hl-80-9> 9</a>
</span><span class=lnt id=hl-80-10><a class=lnlinks href=#hl-80-10>10</a>
</span><span class=lnt id=hl-80-11><a class=lnlinks href=#hl-80-11>11</a>
</span><span class=lnt id=hl-80-12><a class=lnlinks href=#hl-80-12>12</a>
</span><span class=lnt id=hl-80-13><a class=lnlinks href=#hl-80-13>13</a>
</span><span class=lnt id=hl-80-14><a class=lnlinks href=#hl-80-14>14</a>
</span><span class=lnt id=hl-80-15><a class=lnlinks href=#hl-80-15>15</a>
</span><span class=lnt id=hl-80-16><a class=lnlinks href=#hl-80-16>16</a>
</span><span class=lnt id=hl-80-17><a class=lnlinks href=#hl-80-17>17</a>
</span><span class=lnt id=hl-80-18><a class=lnlinks href=#hl-80-18>18</a>
</span><span class=lnt id=hl-80-19><a class=lnlinks href=#hl-80-19>19</a>
</span><span class=lnt id=hl-80-20><a class=lnlinks href=#hl-80-20>20</a>
</span><span class=lnt id=hl-80-21><a class=lnlinks href=#hl-80-21>21</a>
</span><span class=lnt id=hl-80-22><a class=lnlinks href=#hl-80-22>22</a>
</span><span class=lnt id=hl-80-23><a class=lnlinks href=#hl-80-23>23</a>
</span><span class=lnt id=hl-80-24><a class=lnlinks href=#hl-80-24>24</a>
</span><span class=lnt id=hl-80-25><a class=lnlinks href=#hl-80-25>25</a>
</span><span class=lnt id=hl-80-26><a class=lnlinks href=#hl-80-26>26</a>
</span><span class=lnt id=hl-80-27><a class=lnlinks href=#hl-80-27>27</a>
</span><span class=lnt id=hl-80-28><a class=lnlinks href=#hl-80-28>28</a>
</span><span class=lnt id=hl-80-29><a class=lnlinks href=#hl-80-29>29</a>
</span><span class=lnt id=hl-80-30><a class=lnlinks href=#hl-80-30>30</a>
</span><span class=lnt id=hl-80-31><a class=lnlinks href=#hl-80-31>31</a>
</span><span class=lnt id=hl-80-32><a class=lnlinks href=#hl-80-32>32</a>
</span><span class=lnt id=hl-80-33><a class=lnlinks href=#hl-80-33>33</a>
</span><span class=lnt id=hl-80-34><a class=lnlinks href=#hl-80-34>34</a>
</span><span class=lnt id=hl-80-35><a class=lnlinks href=#hl-80-35>35</a>
</span><span class=lnt id=hl-80-36><a class=lnlinks href=#hl-80-36>36</a>
</span><span class=lnt id=hl-80-37><a class=lnlinks href=#hl-80-37>37</a>
</span><span class=lnt id=hl-80-38><a class=lnlinks href=#hl-80-38>38</a>
</span><span class=lnt id=hl-80-39><a class=lnlinks href=#hl-80-39>39</a>
</span><span class=lnt id=hl-80-40><a class=lnlinks href=#hl-80-40>40</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// 声明一个装饰器函数 State，用于捕获数据的修改
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>State</span><span class=p>(</span><span class=nx>target</span>: <span class=kt>object</span><span class=p>,</span> <span class=nx>propertyKey</span>: <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// 存储属性的内部值
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kd>let</span> <span class=nx>key</span> <span class=o>=</span> <span class=sb>`__</span><span class=si>${</span><span class=nx>propertyKey</span><span class=si>}</span><span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// 使用 Object.defineProperty 替换类的原始属性
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// 重新定义属性，使其使用自定义的 getter 和 setter
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nb>Object</span><span class=p>.</span><span class=nx>defineProperty</span><span class=p>(</span><span class=nx>target</span><span class=p>,</span> <span class=nx>propertyKey</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>get</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	  <span class=k>return</span> <span class=k>this</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span>
</span></span><span class=line><span class=cl>	<span class=p>},</span>
</span></span><span class=line><span class=cl>	<span class=kr>set</span><span class=p>(</span><span class=nx>newVal</span>: <span class=kt>string</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=nx>propertyKey</span><span class=si>}</span><span class=sb>的最新值为：</span><span class=si>${</span><span class=nx>newVal</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	  <span class=k>this</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span> <span class=o>=</span> <span class=nx>newVal</span>  <span class=c1>//把这个值放在实例的自身。当实例调用原型上的方法、属性时，其this指向的就是实例自身
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=p>},</span>
</span></span><span class=line><span class=cl>	<span class=nx>enumerable</span>: <span class=kt>true</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>	<span class=nx>configurable</span>: <span class=kt>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=c1>//使用State装饰器
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kd>@State</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nx>school</span> <span class=o>=</span> <span class=s1>&#39;atguigu&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(</span><span class=nx>name</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=nx>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>age</span> <span class=o>=</span> <span class=nx>age</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>p1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>(</span><span class=s1>&#39;张三&#39;</span><span class=p>,</span> <span class=mi>18</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>p2</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>(</span><span class=s1>&#39;李四&#39;</span><span class=p>,</span> <span class=mi>30</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>p1</span><span class=p>.</span><span class=nx>age</span> <span class=o>=</span> <span class=mi>80</span>
</span></span><span class=line><span class=cl><span class=nx>p2</span><span class=p>.</span><span class=nx>age</span> <span class=o>=</span> <span class=mi>90</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;------------------&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>p1</span><span class=p>.</span><span class=nx>age</span><span class=p>)</span> <span class=c1>//80
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>p2</span><span class=p>.</span><span class=nx>age</span><span class=p>)</span> <span class=c1>//90
</span></span></span></code></pre></td></tr></table></div></div><h2 id=六方法装饰器>六、方法装饰器
<a class=header-anchor href=#%e5%85%ad%e6%96%b9%e6%b3%95%e8%a3%85%e9%a5%b0%e5%99%a8></a></h2><h3 id=基本语法-2>基本语法
<a class=header-anchor href=#%e5%9f%ba%e6%9c%ac%e8%af%ad%e6%b3%95-2></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-81-1><a class=lnlinks href=#hl-81-1> 1</a>
</span><span class=lnt id=hl-81-2><a class=lnlinks href=#hl-81-2> 2</a>
</span><span class=lnt id=hl-81-3><a class=lnlinks href=#hl-81-3> 3</a>
</span><span class=lnt id=hl-81-4><a class=lnlinks href=#hl-81-4> 4</a>
</span><span class=lnt id=hl-81-5><a class=lnlinks href=#hl-81-5> 5</a>
</span><span class=lnt id=hl-81-6><a class=lnlinks href=#hl-81-6> 6</a>
</span><span class=lnt id=hl-81-7><a class=lnlinks href=#hl-81-7> 7</a>
</span><span class=lnt id=hl-81-8><a class=lnlinks href=#hl-81-8> 8</a>
</span><span class=lnt id=hl-81-9><a class=lnlinks href=#hl-81-9> 9</a>
</span><span class=lnt id=hl-81-10><a class=lnlinks href=#hl-81-10>10</a>
</span><span class=lnt id=hl-81-11><a class=lnlinks href=#hl-81-11>11</a>
</span><span class=lnt id=hl-81-12><a class=lnlinks href=#hl-81-12>12</a>
</span><span class=lnt id=hl-81-13><a class=lnlinks href=#hl-81-13>13</a>
</span><span class=lnt id=hl-81-14><a class=lnlinks href=#hl-81-14>14</a>
</span><span class=lnt id=hl-81-15><a class=lnlinks href=#hl-81-15>15</a>
</span><span class=lnt id=hl-81-16><a class=lnlinks href=#hl-81-16>16</a>
</span><span class=lnt id=hl-81-17><a class=lnlinks href=#hl-81-17>17</a>
</span><span class=lnt id=hl-81-18><a class=lnlinks href=#hl-81-18>18</a>
</span><span class=lnt id=hl-81-19><a class=lnlinks href=#hl-81-19>19</a>
</span><span class=lnt id=hl-81-20><a class=lnlinks href=#hl-81-20>20</a>
</span><span class=lnt id=hl-81-21><a class=lnlinks href=#hl-81-21>21</a>
</span><span class=lnt id=hl-81-22><a class=lnlinks href=#hl-81-22>22</a>
</span><span class=lnt id=hl-81-23><a class=lnlinks href=#hl-81-23>23</a>
</span><span class=lnt id=hl-81-24><a class=lnlinks href=#hl-81-24>24</a>
</span><span class=lnt id=hl-81-25><a class=lnlinks href=#hl-81-25>25</a>
</span><span class=lnt id=hl-81-26><a class=lnlinks href=#hl-81-26>26</a>
</span><span class=lnt id=hl-81-27><a class=lnlinks href=#hl-81-27>27</a>
</span><span class=lnt id=hl-81-28><a class=lnlinks href=#hl-81-28>28</a>
</span><span class=lnt id=hl-81-29><a class=lnlinks href=#hl-81-29>29</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=cm>/* 
</span></span></span><span class=line><span class=cl><span class=cm>  参数说明：
</span></span></span><span class=line><span class=cl><span class=cm>    ○ target: 对于静态方法来说值是类，对于实例方法来说值是原型对象。
</span></span></span><span class=line><span class=cl><span class=cm>    ○ propertyKey:方法的名称。
</span></span></span><span class=line><span class=cl><span class=cm>    ○ descriptor: 方法的描述对象，其中value属性是被装饰的方法。
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>Demo</span><span class=p>(</span><span class=nx>target</span>: <span class=kt>object</span><span class=p>,</span> <span class=nx>propertyKey</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>descriptor</span>: <span class=kt>PropertyDescriptor</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>target</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>propertyKey</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>descriptor</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(</span>
</span></span><span class=line><span class=cl>	<span class=kr>public</span> <span class=nx>name</span>:<span class=kt>string</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=kr>public</span> <span class=nx>age</span>:<span class=kt>number</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>){}</span>
</span></span><span class=line><span class=cl>	<span class=c1>// Demo装饰实例方法
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kd>@Demo</span> <span class=nx>speak</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`你好，我的名字：</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>，我的年龄：</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>age</span><span class=si>}</span><span class=sb>`</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=c1>// Demo装饰静态方法
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kd>@Demo</span> <span class=kr>static</span> <span class=nx>isAdult</span><span class=p>(</span><span class=nx>age</span>:<span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=nx>age</span> <span class=o>&gt;=</span> <span class=mi>18</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>p1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>(</span><span class=s1>&#39;张三&#39;</span><span class=p>,</span><span class=mi>18</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>p1</span><span class=p>.</span><span class=nx>speak</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><h3 id=应用举例-2>应用举例
<a class=header-anchor href=#%e5%ba%94%e7%94%a8%e4%b8%be%e4%be%8b-2></a></h3><p>:::tips
需求：</p><ol><li>定义一个<code>Logger</code>方法装饰器，用于在方法执行前和执行后，均追加一些额外逻辑。</li><li>定义一个<code>Validate</code>方法装饰器，用于验证数据。
:::</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-82-1><a class=lnlinks href=#hl-82-1> 1</a>
</span><span class=lnt id=hl-82-2><a class=lnlinks href=#hl-82-2> 2</a>
</span><span class=lnt id=hl-82-3><a class=lnlinks href=#hl-82-3> 3</a>
</span><span class=lnt id=hl-82-4><a class=lnlinks href=#hl-82-4> 4</a>
</span><span class=lnt id=hl-82-5><a class=lnlinks href=#hl-82-5> 5</a>
</span><span class=lnt id=hl-82-6><a class=lnlinks href=#hl-82-6> 6</a>
</span><span class=lnt id=hl-82-7><a class=lnlinks href=#hl-82-7> 7</a>
</span><span class=lnt id=hl-82-8><a class=lnlinks href=#hl-82-8> 8</a>
</span><span class=lnt id=hl-82-9><a class=lnlinks href=#hl-82-9> 9</a>
</span><span class=lnt id=hl-82-10><a class=lnlinks href=#hl-82-10>10</a>
</span><span class=lnt id=hl-82-11><a class=lnlinks href=#hl-82-11>11</a>
</span><span class=lnt id=hl-82-12><a class=lnlinks href=#hl-82-12>12</a>
</span><span class=lnt id=hl-82-13><a class=lnlinks href=#hl-82-13>13</a>
</span><span class=lnt id=hl-82-14><a class=lnlinks href=#hl-82-14>14</a>
</span><span class=lnt id=hl-82-15><a class=lnlinks href=#hl-82-15>15</a>
</span><span class=lnt id=hl-82-16><a class=lnlinks href=#hl-82-16>16</a>
</span><span class=lnt id=hl-82-17><a class=lnlinks href=#hl-82-17>17</a>
</span><span class=lnt id=hl-82-18><a class=lnlinks href=#hl-82-18>18</a>
</span><span class=lnt id=hl-82-19><a class=lnlinks href=#hl-82-19>19</a>
</span><span class=lnt id=hl-82-20><a class=lnlinks href=#hl-82-20>20</a>
</span><span class=lnt id=hl-82-21><a class=lnlinks href=#hl-82-21>21</a>
</span><span class=lnt id=hl-82-22><a class=lnlinks href=#hl-82-22>22</a>
</span><span class=lnt id=hl-82-23><a class=lnlinks href=#hl-82-23>23</a>
</span><span class=lnt id=hl-82-24><a class=lnlinks href=#hl-82-24>24</a>
</span><span class=lnt id=hl-82-25><a class=lnlinks href=#hl-82-25>25</a>
</span><span class=lnt id=hl-82-26><a class=lnlinks href=#hl-82-26>26</a>
</span><span class=lnt id=hl-82-27><a class=lnlinks href=#hl-82-27>27</a>
</span><span class=lnt id=hl-82-28><a class=lnlinks href=#hl-82-28>28</a>
</span><span class=lnt id=hl-82-29><a class=lnlinks href=#hl-82-29>29</a>
</span><span class=lnt id=hl-82-30><a class=lnlinks href=#hl-82-30>30</a>
</span><span class=lnt id=hl-82-31><a class=lnlinks href=#hl-82-31>31</a>
</span><span class=lnt id=hl-82-32><a class=lnlinks href=#hl-82-32>32</a>
</span><span class=lnt id=hl-82-33><a class=lnlinks href=#hl-82-33>33</a>
</span><span class=lnt id=hl-82-34><a class=lnlinks href=#hl-82-34>34</a>
</span><span class=lnt id=hl-82-35><a class=lnlinks href=#hl-82-35>35</a>
</span><span class=lnt id=hl-82-36><a class=lnlinks href=#hl-82-36>36</a>
</span><span class=lnt id=hl-82-37><a class=lnlinks href=#hl-82-37>37</a>
</span><span class=lnt id=hl-82-38><a class=lnlinks href=#hl-82-38>38</a>
</span><span class=lnt id=hl-82-39><a class=lnlinks href=#hl-82-39>39</a>
</span><span class=lnt id=hl-82-40><a class=lnlinks href=#hl-82-40>40</a>
</span><span class=lnt id=hl-82-41><a class=lnlinks href=#hl-82-41>41</a>
</span><span class=lnt id=hl-82-42><a class=lnlinks href=#hl-82-42>42</a>
</span><span class=lnt id=hl-82-43><a class=lnlinks href=#hl-82-43>43</a>
</span><span class=lnt id=hl-82-44><a class=lnlinks href=#hl-82-44>44</a>
</span><span class=lnt id=hl-82-45><a class=lnlinks href=#hl-82-45>45</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>Logger</span><span class=p>(</span><span class=nx>target</span>: <span class=kt>object</span><span class=p>,</span> <span class=nx>propertyKey</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>descriptor</span>: <span class=kt>PropertyDescriptor</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 保存原始方法
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kr>const</span> <span class=nx>original</span> <span class=o>=</span> <span class=nx>descriptor</span><span class=p>.</span><span class=nx>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 替换原始方法
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>descriptor</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>(...</span><span class=nx>args</span>:<span class=kt>any</span><span class=p>[])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=nx>propertyKey</span><span class=si>}</span><span class=sb>开始执行......`</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>original</span><span class=p>.</span><span class=nx>call</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=p>...</span><span class=nx>args</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=nx>propertyKey</span><span class=si>}</span><span class=sb>执行完毕......`</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>Validate</span><span class=p>(</span><span class=nx>maxValue</span>:<span class=kt>number</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>target</span>: <span class=kt>object</span><span class=p>,</span> <span class=nx>propertyKey</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>descriptor</span>: <span class=kt>PropertyDescriptor</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 保存原始方法
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kr>const</span> <span class=nx>original</span> <span class=o>=</span> <span class=nx>descriptor</span><span class=p>.</span><span class=nx>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 替换原始方法
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>descriptor</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>(...</span><span class=nx>args</span>: <span class=kt>any</span><span class=p>[])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	  <span class=c1>// 自定义的验证逻辑
</span></span></span><span class=line><span class=cl><span class=c1></span>	  <span class=k>if</span> <span class=p>(</span><span class=nx>args</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>&gt;</span> <span class=nx>maxValue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;年龄非法！&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	  <span class=p>}</span>
</span></span><span class=line><span class=cl>	  <span class=c1>// 如果所有参数都符合要求，则调用原始方法
</span></span></span><span class=line><span class=cl><span class=c1></span>	  <span class=k>return</span> <span class=nx>original</span><span class=p>.</span><span class=nx>apply</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=nx>args</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>};</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(</span>
</span></span><span class=line><span class=cl>	<span class=kr>public</span> <span class=nx>name</span>:<span class=kt>string</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=kr>public</span> <span class=nx>age</span>:<span class=kt>number</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>){}</span>
</span></span><span class=line><span class=cl>	<span class=kd>@Logger</span> <span class=nx>speak</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`你好，我的名字：</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>，我的年龄：</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>age</span><span class=si>}</span><span class=sb>`</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=kd>@Validate</span><span class=p>(</span><span class=mi>120</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=kr>static</span> <span class=nx>isAdult</span><span class=p>(</span><span class=nx>age</span>:<span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=nx>age</span> <span class=o>&gt;=</span> <span class=mi>18</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>p1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Person</span><span class=p>(</span><span class=s1>&#39;张三&#39;</span><span class=p>,</span><span class=mi>18</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>p1</span><span class=p>.</span><span class=nx>speak</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>Person</span><span class=p>.</span><span class=nx>isAdult</span><span class=p>(</span><span class=mi>100</span><span class=p>))</span></span></span></code></pre></td></tr></table></div></div><h2 id=七访问器装饰器>七、访问器装饰器
<a class=header-anchor href=#%e4%b8%83%e8%ae%bf%e9%97%ae%e5%99%a8%e8%a3%85%e9%a5%b0%e5%99%a8></a></h2><h3 id=基本语法-3>基本语法
<a class=header-anchor href=#%e5%9f%ba%e6%9c%ac%e8%af%ad%e6%b3%95-3></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-83-1><a class=lnlinks href=#hl-83-1> 1</a>
</span><span class=lnt id=hl-83-2><a class=lnlinks href=#hl-83-2> 2</a>
</span><span class=lnt id=hl-83-3><a class=lnlinks href=#hl-83-3> 3</a>
</span><span class=lnt id=hl-83-4><a class=lnlinks href=#hl-83-4> 4</a>
</span><span class=lnt id=hl-83-5><a class=lnlinks href=#hl-83-5> 5</a>
</span><span class=lnt id=hl-83-6><a class=lnlinks href=#hl-83-6> 6</a>
</span><span class=lnt id=hl-83-7><a class=lnlinks href=#hl-83-7> 7</a>
</span><span class=lnt id=hl-83-8><a class=lnlinks href=#hl-83-8> 8</a>
</span><span class=lnt id=hl-83-9><a class=lnlinks href=#hl-83-9> 9</a>
</span><span class=lnt id=hl-83-10><a class=lnlinks href=#hl-83-10>10</a>
</span><span class=lnt id=hl-83-11><a class=lnlinks href=#hl-83-11>11</a>
</span><span class=lnt id=hl-83-12><a class=lnlinks href=#hl-83-12>12</a>
</span><span class=lnt id=hl-83-13><a class=lnlinks href=#hl-83-13>13</a>
</span><span class=lnt id=hl-83-14><a class=lnlinks href=#hl-83-14>14</a>
</span><span class=lnt id=hl-83-15><a class=lnlinks href=#hl-83-15>15</a>
</span><span class=lnt id=hl-83-16><a class=lnlinks href=#hl-83-16>16</a>
</span><span class=lnt id=hl-83-17><a class=lnlinks href=#hl-83-17>17</a>
</span><span class=lnt id=hl-83-18><a class=lnlinks href=#hl-83-18>18</a>
</span><span class=lnt id=hl-83-19><a class=lnlinks href=#hl-83-19>19</a>
</span><span class=lnt id=hl-83-20><a class=lnlinks href=#hl-83-20>20</a>
</span><span class=lnt id=hl-83-21><a class=lnlinks href=#hl-83-21>21</a>
</span><span class=lnt id=hl-83-22><a class=lnlinks href=#hl-83-22>22</a>
</span><span class=lnt id=hl-83-23><a class=lnlinks href=#hl-83-23>23</a>
</span><span class=lnt id=hl-83-24><a class=lnlinks href=#hl-83-24>24</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=cm>/* 
</span></span></span><span class=line><span class=cl><span class=cm>  参数说明：
</span></span></span><span class=line><span class=cl><span class=cm>    ○ target: 
</span></span></span><span class=line><span class=cl><span class=cm>        1. 对于实例访问器来说值是【所属类的原型对象】。
</span></span></span><span class=line><span class=cl><span class=cm>        2. 对于静态访问器来说值是【所属类】。
</span></span></span><span class=line><span class=cl><span class=cm>    ○ propertyKey:访问器的名称。
</span></span></span><span class=line><span class=cl><span class=cm>    ○ descriptor: 描述对象。
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>Demo</span><span class=p>(</span><span class=nx>target</span>: <span class=kt>object</span><span class=p>,</span> <span class=nx>propertyKey</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>descriptor</span>: <span class=kt>PropertyDescriptor</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>target</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>propertyKey</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>descriptor</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kd>@Demo</span>
</span></span><span class=line><span class=cl>	<span class=kr>get</span> <span class=nx>address</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=s1>&#39;北京宏福科技园&#39;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=kd>@Demo</span>
</span></span><span class=line><span class=cl>	<span class=kr>static</span> <span class=kr>get</span> <span class=nx>country</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=s1>&#39;中国&#39;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><h3 id=应用举例-3>应用举例
<a class=header-anchor href=#%e5%ba%94%e7%94%a8%e4%b8%be%e4%be%8b-3></a></h3><p>:::tips
需求：对<code>Weather</code>类的<code>temp</code>属性的<code>set</code>访问器进行限制，设置的最低温度<code>-50</code>，最高温度<code>50</code>
:::</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-84-1><a class=lnlinks href=#hl-84-1> 1</a>
</span><span class=lnt id=hl-84-2><a class=lnlinks href=#hl-84-2> 2</a>
</span><span class=lnt id=hl-84-3><a class=lnlinks href=#hl-84-3> 3</a>
</span><span class=lnt id=hl-84-4><a class=lnlinks href=#hl-84-4> 4</a>
</span><span class=lnt id=hl-84-5><a class=lnlinks href=#hl-84-5> 5</a>
</span><span class=lnt id=hl-84-6><a class=lnlinks href=#hl-84-6> 6</a>
</span><span class=lnt id=hl-84-7><a class=lnlinks href=#hl-84-7> 7</a>
</span><span class=lnt id=hl-84-8><a class=lnlinks href=#hl-84-8> 8</a>
</span><span class=lnt id=hl-84-9><a class=lnlinks href=#hl-84-9> 9</a>
</span><span class=lnt id=hl-84-10><a class=lnlinks href=#hl-84-10>10</a>
</span><span class=lnt id=hl-84-11><a class=lnlinks href=#hl-84-11>11</a>
</span><span class=lnt id=hl-84-12><a class=lnlinks href=#hl-84-12>12</a>
</span><span class=lnt id=hl-84-13><a class=lnlinks href=#hl-84-13>13</a>
</span><span class=lnt id=hl-84-14><a class=lnlinks href=#hl-84-14>14</a>
</span><span class=lnt id=hl-84-15><a class=lnlinks href=#hl-84-15>15</a>
</span><span class=lnt id=hl-84-16><a class=lnlinks href=#hl-84-16>16</a>
</span><span class=lnt id=hl-84-17><a class=lnlinks href=#hl-84-17>17</a>
</span><span class=lnt id=hl-84-18><a class=lnlinks href=#hl-84-18>18</a>
</span><span class=lnt id=hl-84-19><a class=lnlinks href=#hl-84-19>19</a>
</span><span class=lnt id=hl-84-20><a class=lnlinks href=#hl-84-20>20</a>
</span><span class=lnt id=hl-84-21><a class=lnlinks href=#hl-84-21>21</a>
</span><span class=lnt id=hl-84-22><a class=lnlinks href=#hl-84-22>22</a>
</span><span class=lnt id=hl-84-23><a class=lnlinks href=#hl-84-23>23</a>
</span><span class=lnt id=hl-84-24><a class=lnlinks href=#hl-84-24>24</a>
</span><span class=lnt id=hl-84-25><a class=lnlinks href=#hl-84-25>25</a>
</span><span class=lnt id=hl-84-26><a class=lnlinks href=#hl-84-26>26</a>
</span><span class=lnt id=hl-84-27><a class=lnlinks href=#hl-84-27>27</a>
</span><span class=lnt id=hl-84-28><a class=lnlinks href=#hl-84-28>28</a>
</span><span class=lnt id=hl-84-29><a class=lnlinks href=#hl-84-29>29</a>
</span><span class=lnt id=hl-84-30><a class=lnlinks href=#hl-84-30>30</a>
</span><span class=lnt id=hl-84-31><a class=lnlinks href=#hl-84-31>31</a>
</span><span class=lnt id=hl-84-32><a class=lnlinks href=#hl-84-32>32</a>
</span><span class=lnt id=hl-84-33><a class=lnlinks href=#hl-84-33>33</a>
</span><span class=lnt id=hl-84-34><a class=lnlinks href=#hl-84-34>34</a>
</span><span class=lnt id=hl-84-35><a class=lnlinks href=#hl-84-35>35</a>
</span><span class=lnt id=hl-84-36><a class=lnlinks href=#hl-84-36>36</a>
</span><span class=lnt id=hl-84-37><a class=lnlinks href=#hl-84-37>37</a>
</span><span class=lnt id=hl-84-38><a class=lnlinks href=#hl-84-38>38</a>
</span><span class=lnt id=hl-84-39><a class=lnlinks href=#hl-84-39>39</a>
</span><span class=lnt id=hl-84-40><a class=lnlinks href=#hl-84-40>40</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>RangeValidate</span><span class=p>(</span><span class=nx>min</span>: <span class=kt>number</span><span class=p>,</span> <span class=nx>max</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>target</span>: <span class=kt>object</span><span class=p>,</span> <span class=nx>propertyKey</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>descriptor</span>: <span class=kt>PropertyDescriptor</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 保存原始的 setter 方法，以便在后续调用中使用
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>originalSetter</span> <span class=o>=</span> <span class=nx>descriptor</span><span class=p>.</span><span class=kr>set</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// 重写 setter 方法，加入范围验证逻辑
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>descriptor</span><span class=p>.</span><span class=kr>set</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>value</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 检查设置的值是否在指定的最小值和最大值之间
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>if</span> <span class=p>(</span><span class=nx>value</span> <span class=o>&lt;</span> <span class=nx>min</span> <span class=o>||</span> <span class=nx>value</span> <span class=o>&gt;</span> <span class=nx>max</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 如果值不在范围内，抛出错误
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=nx>propertyKey</span><span class=si>}</span><span class=sb>的值应该在 </span><span class=si>${</span><span class=nx>min</span><span class=si>}</span><span class=sb> 到 </span><span class=si>${</span><span class=nx>max</span><span class=si>}</span><span class=sb>之间！`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=c1>// 如果值在范围内，且原始 setter 方法存在，则调用原始 setter 方法
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>if</span> <span class=p>(</span><span class=nx>originalSetter</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>originalSetter</span><span class=p>.</span><span class=nx>call</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Weather</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>private</span> <span class=nx>_temp</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(</span><span class=nx>_temp</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>_temp</span> <span class=o>=</span> <span class=nx>_temp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 设置温度范围在 -50 到 50 之间
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kd>@RangeValidate</span><span class=p>(</span><span class=o>-</span><span class=mi>50</span><span class=p>,</span><span class=mi>50</span><span class=p>)</span> 
</span></span><span class=line><span class=cl>	<span class=kr>set</span> <span class=nx>temp</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>_temp</span> <span class=o>=</span> <span class=nx>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=kr>get</span> <span class=nx>temp() {</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>_temp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>w1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Weather</span><span class=p>(</span><span class=mi>25</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>w1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>w1</span><span class=p>.</span><span class=nx>temp</span> <span class=o>=</span> <span class=mi>67</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>w1</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h2 id=八参数装饰器>八、参数装饰器
<a class=header-anchor href=#%e5%85%ab%e5%8f%82%e6%95%b0%e8%a3%85%e9%a5%b0%e5%99%a8></a></h2><h3 id=基本语法-4>基本语法
<a class=header-anchor href=#%e5%9f%ba%e6%9c%ac%e8%af%ad%e6%b3%95-4></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-85-1><a class=lnlinks href=#hl-85-1> 1</a>
</span><span class=lnt id=hl-85-2><a class=lnlinks href=#hl-85-2> 2</a>
</span><span class=lnt id=hl-85-3><a class=lnlinks href=#hl-85-3> 3</a>
</span><span class=lnt id=hl-85-4><a class=lnlinks href=#hl-85-4> 4</a>
</span><span class=lnt id=hl-85-5><a class=lnlinks href=#hl-85-5> 5</a>
</span><span class=lnt id=hl-85-6><a class=lnlinks href=#hl-85-6> 6</a>
</span><span class=lnt id=hl-85-7><a class=lnlinks href=#hl-85-7> 7</a>
</span><span class=lnt id=hl-85-8><a class=lnlinks href=#hl-85-8> 8</a>
</span><span class=lnt id=hl-85-9><a class=lnlinks href=#hl-85-9> 9</a>
</span><span class=lnt id=hl-85-10><a class=lnlinks href=#hl-85-10>10</a>
</span><span class=lnt id=hl-85-11><a class=lnlinks href=#hl-85-11>11</a>
</span><span class=lnt id=hl-85-12><a class=lnlinks href=#hl-85-12>12</a>
</span><span class=lnt id=hl-85-13><a class=lnlinks href=#hl-85-13>13</a>
</span><span class=lnt id=hl-85-14><a class=lnlinks href=#hl-85-14>14</a>
</span><span class=lnt id=hl-85-15><a class=lnlinks href=#hl-85-15>15</a>
</span><span class=lnt id=hl-85-16><a class=lnlinks href=#hl-85-16>16</a>
</span><span class=lnt id=hl-85-17><a class=lnlinks href=#hl-85-17>17</a>
</span><span class=lnt id=hl-85-18><a class=lnlinks href=#hl-85-18>18</a>
</span><span class=lnt id=hl-85-19><a class=lnlinks href=#hl-85-19>19</a>
</span><span class=lnt id=hl-85-20><a class=lnlinks href=#hl-85-20>20</a>
</span><span class=lnt id=hl-85-21><a class=lnlinks href=#hl-85-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=cm>/* 
</span></span></span><span class=line><span class=cl><span class=cm>  参数说明：
</span></span></span><span class=line><span class=cl><span class=cm>    ○ target:
</span></span></span><span class=line><span class=cl><span class=cm>      1.如果修饰的是【实例方法】的参数，target 是类的【原型对象】。
</span></span></span><span class=line><span class=cl><span class=cm>      2.如果修饰的是【静态方法】的参数，target 是【类】。
</span></span></span><span class=line><span class=cl><span class=cm>    ○ propertyKey：参数所在的方法的名称。
</span></span></span><span class=line><span class=cl><span class=cm>    ○ parameterIndex: 参数在函数参数列表中的索引，从 0 开始。
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>Demo</span><span class=p>(</span><span class=nx>target</span>: <span class=kt>object</span><span class=p>,</span> <span class=nx>propertyKey</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>parameterIndex</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>target</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>propertyKey</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>parameterIndex</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 类定义
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(</span><span class=kr>public</span> <span class=nx>name</span>: <span class=kt>string</span><span class=p>)</span> <span class=p>{</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=nx>speak</span><span class=p>(</span><span class=kd>@Demo</span> <span class=nx>message1</span>: <span class=kt>any</span><span class=p>,</span> <span class=nx>mesage2</span>: <span class=kt>any</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>想对说：</span><span class=si>${</span><span class=nx>message1</span><span class=si>}</span><span class=sb>，</span><span class=si>${</span><span class=nx>mesage2</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><h3 id=应用举例-4>应用举例
<a class=header-anchor href=#%e5%ba%94%e7%94%a8%e4%b8%be%e4%be%8b-4></a></h3><p>:::tips
需求：定义方法装饰器<code>Validate</code>，同时搭配参数装饰器<code>NotNumber</code>，来对<code>speak</code>方法的参数类型进行限制。
:::</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-86-1><a class=lnlinks href=#hl-86-1> 1</a>
</span><span class=lnt id=hl-86-2><a class=lnlinks href=#hl-86-2> 2</a>
</span><span class=lnt id=hl-86-3><a class=lnlinks href=#hl-86-3> 3</a>
</span><span class=lnt id=hl-86-4><a class=lnlinks href=#hl-86-4> 4</a>
</span><span class=lnt id=hl-86-5><a class=lnlinks href=#hl-86-5> 5</a>
</span><span class=lnt id=hl-86-6><a class=lnlinks href=#hl-86-6> 6</a>
</span><span class=lnt id=hl-86-7><a class=lnlinks href=#hl-86-7> 7</a>
</span><span class=lnt id=hl-86-8><a class=lnlinks href=#hl-86-8> 8</a>
</span><span class=lnt id=hl-86-9><a class=lnlinks href=#hl-86-9> 9</a>
</span><span class=lnt id=hl-86-10><a class=lnlinks href=#hl-86-10>10</a>
</span><span class=lnt id=hl-86-11><a class=lnlinks href=#hl-86-11>11</a>
</span><span class=lnt id=hl-86-12><a class=lnlinks href=#hl-86-12>12</a>
</span><span class=lnt id=hl-86-13><a class=lnlinks href=#hl-86-13>13</a>
</span><span class=lnt id=hl-86-14><a class=lnlinks href=#hl-86-14>14</a>
</span><span class=lnt id=hl-86-15><a class=lnlinks href=#hl-86-15>15</a>
</span><span class=lnt id=hl-86-16><a class=lnlinks href=#hl-86-16>16</a>
</span><span class=lnt id=hl-86-17><a class=lnlinks href=#hl-86-17>17</a>
</span><span class=lnt id=hl-86-18><a class=lnlinks href=#hl-86-18>18</a>
</span><span class=lnt id=hl-86-19><a class=lnlinks href=#hl-86-19>19</a>
</span><span class=lnt id=hl-86-20><a class=lnlinks href=#hl-86-20>20</a>
</span><span class=lnt id=hl-86-21><a class=lnlinks href=#hl-86-21>21</a>
</span><span class=lnt id=hl-86-22><a class=lnlinks href=#hl-86-22>22</a>
</span><span class=lnt id=hl-86-23><a class=lnlinks href=#hl-86-23>23</a>
</span><span class=lnt id=hl-86-24><a class=lnlinks href=#hl-86-24>24</a>
</span><span class=lnt id=hl-86-25><a class=lnlinks href=#hl-86-25>25</a>
</span><span class=lnt id=hl-86-26><a class=lnlinks href=#hl-86-26>26</a>
</span><span class=lnt id=hl-86-27><a class=lnlinks href=#hl-86-27>27</a>
</span><span class=lnt id=hl-86-28><a class=lnlinks href=#hl-86-28>28</a>
</span><span class=lnt id=hl-86-29><a class=lnlinks href=#hl-86-29>29</a>
</span><span class=lnt id=hl-86-30><a class=lnlinks href=#hl-86-30>30</a>
</span><span class=lnt id=hl-86-31><a class=lnlinks href=#hl-86-31>31</a>
</span><span class=lnt id=hl-86-32><a class=lnlinks href=#hl-86-32>32</a>
</span><span class=lnt id=hl-86-33><a class=lnlinks href=#hl-86-33>33</a>
</span><span class=lnt id=hl-86-34><a class=lnlinks href=#hl-86-34>34</a>
</span><span class=lnt id=hl-86-35><a class=lnlinks href=#hl-86-35>35</a>
</span><span class=lnt id=hl-86-36><a class=lnlinks href=#hl-86-36>36</a>
</span><span class=lnt id=hl-86-37><a class=lnlinks href=#hl-86-37>37</a>
</span><span class=lnt id=hl-86-38><a class=lnlinks href=#hl-86-38>38</a>
</span><span class=lnt id=hl-86-39><a class=lnlinks href=#hl-86-39>39</a>
</span><span class=lnt id=hl-86-40><a class=lnlinks href=#hl-86-40>40</a>
</span><span class=lnt id=hl-86-41><a class=lnlinks href=#hl-86-41>41</a>
</span><span class=lnt id=hl-86-42><a class=lnlinks href=#hl-86-42>42</a>
</span><span class=lnt id=hl-86-43><a class=lnlinks href=#hl-86-43>43</a>
</span><span class=lnt id=hl-86-44><a class=lnlinks href=#hl-86-44>44</a>
</span><span class=lnt id=hl-86-45><a class=lnlinks href=#hl-86-45>45</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>NotNumber</span><span class=p>(</span><span class=nx>target</span>: <span class=kt>any</span><span class=p>,</span> <span class=nx>propertyKey</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>parameterIndex</span>: <span class=kt>number</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 初始化或获取当前方法的参数索引列表
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kd>let</span> <span class=nx>notNumberArr</span>: <span class=kt>number</span><span class=p>[]</span> <span class=o>=</span> <span class=nx>target</span><span class=p>[</span><span class=sb>`__notNumber_</span><span class=si>${</span><span class=nx>propertyKey</span><span class=si>}</span><span class=sb>`</span><span class=p>]</span> <span class=o>||</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 将当前参数索引添加到列表中
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>notNumberArr</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>parameterIndex</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=c1>// 将列表存储回目标对象
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>target</span><span class=p>[</span><span class=sb>`__notNumber_</span><span class=si>${</span><span class=nx>propertyKey</span><span class=si>}</span><span class=sb>`</span><span class=p>]</span> <span class=o>=</span> <span class=nx>notNumberArr</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 方法装饰器定义
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>Validate</span><span class=p>(</span><span class=nx>target</span>: <span class=kt>any</span><span class=p>,</span> <span class=nx>propertyKey</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>descriptor</span>: <span class=kt>PropertyDescriptor</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>const</span> <span class=nx>method</span> <span class=o>=</span> <span class=nx>descriptor</span><span class=p>.</span><span class=nx>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=nx>descriptor</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>(...</span><span class=nx>args</span>: <span class=kt>any</span><span class=p>[])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 获取被标记为不能为空的参数索引列表
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kr>const</span> <span class=nx>notNumberArr</span>: <span class=kt>number</span><span class=p>[]</span> <span class=o>=</span> <span class=nx>target</span><span class=p>[</span><span class=sb>`__notNumber_</span><span class=si>${</span><span class=nx>propertyKey</span><span class=si>}</span><span class=sb>`</span><span class=p>]</span> <span class=o>||</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 检查参数是否为 null 或 undefined
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=nx>index</span> <span class=k>of</span> <span class=nx>notNumberArr</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	  <span class=k>if</span> <span class=p>(</span><span class=k>typeof</span> <span class=nx>args</span><span class=p>[</span><span class=nx>index</span><span class=p>]</span> <span class=o>===</span> <span class=s1>&#39;number&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=sb>`方法 </span><span class=si>${</span><span class=nx>propertyKey</span><span class=si>}</span><span class=sb> 中索引为 </span><span class=si>${</span><span class=nx>index</span><span class=si>}</span><span class=sb> 的参数不能是数字！`</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	  <span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 调用原始方法
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>return</span> <span class=nx>method</span><span class=p>.</span><span class=nx>apply</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=nx>args</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>};</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=nx>descriptor</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 类定义
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>class</span> <span class=nx>Student</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kr>constructor</span><span class=p>(</span><span class=nx>name</span>: <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=nx>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=kd>@Validate</span>
</span></span><span class=line><span class=cl>	<span class=nx>speak</span><span class=p>(</span><span class=kd>@NotNumber</span> <span class=nx>message1</span>: <span class=kt>any</span><span class=p>,</span> <span class=nx>mesage2</span>: <span class=kt>any</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>想对说：</span><span class=si>${</span><span class=nx>message1</span><span class=si>}</span><span class=sb>，</span><span class=si>${</span><span class=nx>mesage2</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 使用
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>s1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Student</span><span class=p>(</span><span class=s2>&#34;张三&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>s1</span><span class=p>.</span><span class=nx>speak</span><span class=p>(</span><span class=mi>100</span><span class=p>,</span> <span class=mi>200</span><span class=p>);</span></span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><div class=post-tags><a href=/tags/js/>js
</a><a href=/tags/ts/>ts</a></div><div class=post-share-tools><div class=post-share-loading><i class="fa-solid fa-ellipsis fa-spin"></i></div><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class=a2a_dd href=https://www.addtoany.com/share></a><a class=a2a_button_wechat></a><a class=a2a_button_qzone></a><a class=a2a_button_sina_weibo></a><a class=a2a_button_douban></a><a class=a2a_button_facebook></a><a class=a2a_button_x></a><a class=a2a_button_email></a><a class=a2a_button_printfriendly></a></div></div><hr><div class=post-copyright><img src=/imgs/cc/cc.svg class=cc-icon width=75 height=75 align=right alt=共享知识 title=共享知识><ul><li class=post-copyright-title><strong>文章标题：</strong>
禹神：Typescript速通教程</li><li class=post-copyright-author><strong>本文作者： </strong>LinKer</li><li class=post-copyright-link><strong>本文链接：</strong>
<a id=post-cr-link href=https://blog.000k.de/post/%E7%A6%B9%E7%A5%9Etypescript%E9%80%9F%E9%80%9A%E6%95%99%E7%A8%8B/ title=禹神：Typescript速通教程>https://blog.000k.de/post/%E7%A6%B9%E7%A5%9Etypescript%E9%80%9F%E9%80%9A%E6%95%99%E7%A8%8B/</a></li><li class=post-copyright-license><strong>版权声明： </strong>本作品采用 <i class="fab fa-fw fa-creative-commons"></i><a target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans>BY-NC-SA</a> 许可协议。转载请注明出处！</li><li><div class=license-icons><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans target=_blank><img src=/imgs/cc/big/by_nc_sa.svg alt=BY-NC-SA title=BY-NC-SA>
</a><a href=https://notbyai.fyi target=_blank><img src=/imgs/notbyai/zh-hans/white.svg title="Not By AI"></a></div></li></ul></div><div class=followme><span>欢迎关注我的其它发布渠道</span><div class=social-list><div class=social-item><a target=_blank class=social-link href=/images/wechat_channel.jpg><span class=icon><i class="fab fa-weixin"></i>
</span><span class=label>WeChat</span></a></div><div class=social-item><a target=_blank class=social-link href=/rss.xml><span class=icon><i class="fa fa-rss"></i>
</span><span class=label>RSS</span></a></div></div></div><div class=post-nav><div class="post-nav-next post-nav-item"></div><div class="post-nav-prev post-nav-item"><a href=/post/hugo+githubactionstudy.html rel=prev title="使用hugo框架+github action创建个人博客">使用hugo框架+github action创建个人博客
<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div id=comments class=post-comments><div class=comment-head><div class=comment-headline><i class="fas fa-comments fa-fw"></i>
<span>评论交流</span></div><div class=comment-switch><span class=first-comment>Giscus</span>
<span class=switch-btn></span>
<span class=second-comment>Waline</span></div></div><div class=comment-wrap><div><div class=comment-loading><i class="fa fa-sync fa-spin"></i></div><div class=giscus-container></div></div><div><div class=comment-loading><i class="fa fa-sync fa-spin"></i></div><div class=waline-container></div></div></div></div></div></main><footer class=footer><div class=footer-inner><div id=i18n-translate class=i18n-translate><i class="fa fa-language"></i><div id=lang-select class=lang-select><div id=lang-selected class=selected-option><span class="flag-icon flag-icon-zh-cn"></span>
<span class=selected-language>简体中文</span>
<i class="fa fa-chevron-down"></i></div><div id=lang-options class=lang-options><div class=lang-option lang-code=zh-cn lang-name=简体中文 lang-url=/post/%E7%A6%B9%E7%A5%9Etypescript%E9%80%9F%E9%80%9A%E6%95%99%E7%A8%8B/><span class="flag-icon flag-icon-zh-cn"></span>
<span class=lang-name>简体中文</span></div></div></div></div><div class=copyright>&copy;
<span itemprop=copyrightYear>2023 - 2025
</span><span class=with-love><i class="fa fa-heart"></i>
</span><span class=author itemprop=copyrightHolder>LinKer</span></div><div class=beian><p id=hitokoto>获取中...</p><script src="https://v1.hitokoto.cn/?encode=js&select=%23hitokoto" defer></script></div></div></footer><script class=next-config data-name=page type=application/json>{"clipboard":{"js":{"alias":"clipboard","file":"dist/clipboard.min.js","name":"clipboard.js","version":"2.0.11"}},"comments":true,"expired":false,"isHome":false,"isPage":true,"path":"%E7%A6%B9%E7%A5%9Etypescript%E9%80%9F%E9%80%9A%E6%95%99%E7%A8%8B","permalink":"https://blog.000k.de/post/%E7%A6%B9%E7%A5%9Etypescript%E9%80%9F%E9%80%9A%E6%95%99%E7%A8%8B/","title":"禹神：Typescript速通教程","toc":true}</script><script type=text/javascript src=https://blog.000k.de/js/3rd/animejs/3.2.2/anime.min.js crossorigin=anonymous defer></script><script type=text/javascript src=https://blog.000k.de/js/3rd/viewerjs/1.11.6/viewer.min.js crossorigin=anonymous defer></script><script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#222","enable":true,"save":"manual"},"copybtn":true,"darkmode":true,"giscus":{"cfg":{"category":"General","categoryid":"DIC_kwDOJ9_vEs4CejNU","emit":true,"inputposition":"top","mapping":"pathname","reactions":false,"repo":"0linkun/0linkun.github.io","repoid":"R_kgDOJ9_vEg","theme":"preferred_color_scheme"},"js":"https://giscus.app/client.js"},"hostname":"https://blog.000k.de/","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"找到 ${hits} 个搜索结果","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"isMultiLang":true,"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"limit":1e3,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":true,"transition":{"collheader":"zoomInUp","postblock":"zoomInUp","postbody":"bounceInDown","postheader":"rotateIn","sidebar":"flip"}},"postmeta":{"comments":{"enable":false,"plugin":"waline"},"views":{"enable":true,"plugin":"busuanzi"}},"root":"/","scheme":"Gemini","share":{"addtoany":{"js":"https://static.addtoany.com/menu/page.js","locale":"zh-CN","num":8},"enable":true},"sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"twikoo":{"cfg":{"envid":"http://192.168.31.50:8080","region":"ap-guangzhou"},"js":{"file":"dist/twikoo.all.min.js","name":"twikoo","version":"1.6.41"}},"vendor":{"plugins":"local","router":{"name":"local","type":"modern","url":"https://blog.000k.de/js/3rd"}},"version":"4.7.3","waline":{"cfg":{"emoji":false,"imguploader":false,"placeholder":"请文明发言哟 ヾ(≧▽≦*)o","reaction":true,"reactiontext":["点赞","踩一下","得意","不屑","尴尬","睡觉"],"reactiontitle":"你认为这篇文章怎么样？","requiredmeta":["nick","mail"],"serverurl":null,"sofa":"快来发表你的意见吧 (≧∀≦)ゞ","wordlimit":200},"css":{"alias":"@waline/client","file":"dist/waline.css","name":"waline","version":"2.15.8"},"js":{"alias":"@waline/client","file":"dist/waline.js","name":"waline","version":"2.15.8"}}}</script><script type=text/javascript src="/js/main.min.js?=1747367485" defer></script><script type=text/javascript src="/js/clipboard.min.js?=1747367485" defer></script></body></html>